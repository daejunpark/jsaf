<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3c.org/TR/1999/REC-html401-19991224/loose.dtd">
<!-- saved from url=(0041)http://card.jd.com/html/card-jdIndex.html -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><HTML 
xmlns="http://www.w3.org/1999/xhtml"><HEAD><META content="IE=10.000" 
http-equiv="X-UA-Compatible">
     
<META http-equiv="Content-Type" content="text/html; charset=gb2312">     
<TITLE>游戏充值-京东商城</TITLE>     
<STYLE type="text/css">
html,body,div,span,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,address,big,cite,code,del,em,font,img,ins,small,strong,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend{margin:0;padding:0;}ol,ul{list-style:none;}:focus{outline:0;}a img{border:0;}img{vertical-align:middle;}table{empty-cells:show;}ins{text-decoration:none;}del{text-decoration:line-through;}em{font-style:normal;}
        button::-moz-focus-inner,
        input[type="reset"]::-moz-focus-inner,
        input[type="button"]::-moz-focus-inner,
        input[type="submit"]::-moz-focus-inner,
        input[type="file"]>input[type="button"]::-moz-focus-inner{border:none;padding:0;}
        .fl{float:left;}.fr{float:right;}.fn{float:none;}.al{text-align:left;}.ac{text-align:center;}.ar{text-align:right;}
        .clr{display:block;overflow:hidden;clear:both;height:0;line-height:0;font-size:0;}.clearfix:after{content:".";display:block;height:0;clear:both;visibility:hidden;}.clearfix{display:inline-table;}/* Hides from IE-mac \*/*html .clearfix{height:1%;}.clearfix{display:block;}/* End hide from IE-mac */*+html .clearfix{min-height:1%;}.overflow{overflow:hidden;}
        .form label,.form input,.form select,.form textarea,.form button,.form .label{float:left;font-size:12px;}
        .block{display:block;overflow:hidden;cursor:pointer;}
        .cardhide{display:none;}
        .invisible{visibility:hidden;}
        .tab{overflow:hidden;zoom:1;}
        .tab li,.tab a,.tab-item{float:left;cursor:pointer;text-align:center;}
        .btn-img,.button{display:inline-block;margin:0;padding:0;border:0;text-align:center;cursor:pointer;}
        .btn-text{margin:0;padding:0;text-align:center;cursor:pointer;}
        body{font:12px/150% Arial,Verdana,"\5b8b\4f53";color:#666;background:#fff;_background-image:url(about:blank);_background-attachment:fixed;}
        h1{font:20px "microsoft yahei","\5b8b\4f53";}
        h2,h3{font-size:14px;}
        h4,h5,h6{font-size:12px;}
        a:link,a:visited{color:#005EA7;text-decoration:none;}
        a:hover{color:#C00;text-decoration:underline;}
        a:active{color:#900;}
              /*game*/
        .game .item .button,.check-price li .button{border-radius:3px;background:#e4393c;color:#fff;}
        .game{width:203px;height:134px;padding:5px 0 0 5px;}
        .game .tab{overflow:visible;height:14px;padding:4px 0;}
        .game .tab li{float:left;width:62px;height:14px;border-left:1px solid #DEDEDE;line-height:14px;text-align:center;color:#005EAB;}
        .game .tab .curr{height:14px;color:#E4393C;}
        .game .item{padding-top:5px;overflow:hidden;width:203px;}
        .game .fore23{font-family:tahoma;font-size:12px;}
        .game .fore23 label{width:37px;height:10px;}
        .game .item:after{content:'\20';display:block;clear:both;}
        .game .fore3 label{width:37px;float:left;height:10px;}
        .game .qq .fore23 label{width:37px;float:left;height:10px;}
        .game .item select{width:85px;height:21px;font-family:"\5b8b\4f53";}
        .game .item .button{float:left;width:70px;height:21px;line-height:21px;margin-right:5px;}
        .game .item .promotwords{line-height:21px;display:none;}
        .game .item .more{padding-left:0.6em;line-height:20px;color:#005EAA;}
        .game .item .more a{color:#005EAA;}
        .game .item .t-name{margin-right:3px;vertical-align:middle;height:auto;width:auto;float:none;}
        .game .qq .fore23 .t-name{float:none;height:auto;width:auto;}
        .game .item .radio{float:none;vertical-align:middle;}
        .game .item .price{float:left;color:#cb0101;padding-left:0.6em;line-height:20px;}
        .game .play{overflow:hidden;padding-top:10px;height:80px;}
        .game .play ul{width:188px;overflow:hidden;margin:0 auto;}
        .game .play li{width:80px;float:left;height:80px;_height:81px;overflow:hidden;}
        .game .play li a{width:80px;height:80px;_height:81px;}
        .game .play li.img-1{padding:0 8px 0 3px;background:url(http://misc.360buyimg.com/lib/skin/2012/i/li-bg.jpg) no-repeat right top;}
        .game .play li.img-2{padding: 0 3px 0 8px;}
        .game .play li.img-3{}
        .game .play .more-play{float:left;}
        .game .more-play a{color:#005ea6;}
            /*check-price*/
        .check-price{width:193px;height:134px;padding:0 5px;font-family:verdana;}
        .check-price .game-name{height:21px;margin-bottom:10px;padding:0 5px;border-bottom:1px solid #ddd;line-height:21px;}
        .check-price .game-name h4{float:left;font-weight:normal;}
        .check-price .game-name h4 span{color:#D10000;}
        .check-price .game-name a.re-select{float:right;color:#005EAA;}
        .check-price li{height:21px;margin-bottom:10px;padding:0 5px;line-height:21px;}
        .check-price li span{font-weight:bold;color:#D10000;}
        .check-price li .button{float:right;width:45px;height:21px;margin-left:8px;line-height:21px;background-position:-61px 0;text-align:center;}
        .root61 .game{width:294px;}
        .root61 .game .tab li{width:69px;}
        .root61 .game .item{width:255px;}
        .root61 .game .item select{width:135px;}
        .root61 .game .fore3 label{display:block;float:left;width:37px;}
        .root61 .check-price{width:264px;}
        .root61 .game .play ul{width:295px;}
        .root61 .game .play li.img-1{padding:0 8px;}
        .root61 .game .play li.img-2{padding:0 8px 0 8px;background:url(http://misc.360buyimg.com/lib/skin/2012/i/li-bg.jpg) no-repeat right top;}
		.root61 .game .play li.img-3{padding:0 0px 0 8px;}
		.root61 .game .item .promotwords{display:block;line-height:21px;}
		.root61 .game .qq .fore23 label{display:block;width:37px;float:left;height:10px;}
		.root61 .game .qq .fore23 .t-name{float:none;display:inline;height:auto;width:auto;}
        .hot{color:#e4393c;}

		select.hot-select, option.hot, select.hot-select option.hot {
			color: #e4393c;
		}
		select.hot-select option{color:#404040;}
	</STYLE>
	 
<SCRIPT type="text/javascript">
		/**改变当前所选的产品是否为推荐，如果推荐设置为红色*/
		function changeProduct(type){
			var gameObj = "";
			if(type=="game") {
				gameObj = document.getElementById("game_slt_game");
			}else if(type=="qq") {		
				gameObj = document.getElementById("qq_slt_type");
			}
			if(gameObj != ""){
				var selectedIndex = gameObj.selectedIndex;
				var selectObj = gameObj.options[selectedIndex];
				var selectOptionClass = selectObj.attributes["class"];
				var hot = "";
				if(selectOptionClass != null && selectOptionClass != undefined){
					hot = selectObj.attributes["class"].nodeValue;
				}
				if(hot=="hot"){
					gameObj.className = "hot-select";
				}else{
					gameObj.className = "";
				}
			}
		}
	</SCRIPT>
 
<META name="GENERATOR" content="MSHTML 10.00.9200.16618"></HEAD> 
<BODY class="root61">
<SCRIPT>(function(b){if(b)document.getElementsByTagName("body")[0].className = ""})(window.location.href.match(/\?990|\?f=gameqq/))</SCRIPT>
 
<SCRIPT type="text/javascript">function simple_tabs(thisObj,Num){if(thisObj.className=="curr"){return;}
    var tabObj=thisObj.parentNode.id;var tabList=document.getElementById(tabObj).getElementsByTagName("li");for(var i=0,len=tabList.length;i<len;i++){if(i==Num){thisObj.className="curr";document.getElementById(tabObj+"-con-"+i).style.display="block";}else{tabList[i].className="";document.getElementById(tabObj+"-con-"+i).style.display="none";}}}
</SCRIPT>
 
<DIV class="game form" id="card_form">
<UL class="tab" id="gametab">
  <LI class="curr" id="styleGame" style="border-left-color: currentColor; border-left-width: medium; border-left-style: none;" 
  onmouseover="simple_tabs(this, 0);">点卡</LI>
  <LI id="styleQQ" onmouseover="simple_tabs(this, 1);">QQ</LI>
  <LI onmouseover="simple_tabs(this, 2);">页游</LI></UL>
<DIV class="card" id="gametab-con-0">
<DIV class="item fore1"><LABEL>游戏：</LABEL>             <SELECT id="game_slt_game" 
onchange="initGamePair(this);changeEverything();changeProduct('game');"><!--gameOption  start--><OPTION 
  class="hot" value="D-地下城与勇士">D-地下城与勇士</OPTION><OPTION class="hot" value="F-反恐精英OL">F-反恐精英OL</OPTION><OPTION 
  value="C-CSOL">C-CSOL</OPTION><OPTION value="C-超级舞者">C-超级舞者</OPTION><OPTION 
  value="C-赤壁">C-赤壁</OPTION><OPTION class="hot" 
  value="C-穿越火线">C-穿越火线</OPTION><OPTION value="C-春秋Q传">C-春秋Q传</OPTION><OPTION 
  class="hot" value="G-光宇一卡通">G-光宇一卡通</OPTION><OPTION 
  value="J-金山一卡通">J-金山一卡通</OPTION><OPTION value="J-劲舞团">J-劲舞团</OPTION><OPTION 
  value="J-九阴真经">J-九阴真经</OPTION><OPTION value="J-巨人">J-巨人</OPTION><OPTION value="K-空中网一卡通">K-空中网一卡通</OPTION><OPTION 
  value="L-龙之谷">L-龙之谷</OPTION><OPTION value="M-梦幻诛仙">M-梦幻诛仙</OPTION><OPTION 
  class="hot" value="M-魔兽世界">M-魔兽世界</OPTION><OPTION 
  value="P-跑跑卡丁车">P-跑跑卡丁车</OPTION><OPTION value="Q-QQ飞车">Q-QQ飞车</OPTION><OPTION 
  value="Q-QQ炫舞">Q-QQ炫舞</OPTION><OPTION class="hot" 
  value="Q-Q点">Q-Q点</OPTION><OPTION value="R-热血传奇">R-热血传奇</OPTION><OPTION value="R-热血江湖">R-热血江湖</OPTION><OPTION 
  class="hot" value="S-盛大一卡通">S-盛大一卡通</OPTION><OPTION 
  value="S-世纪天成一卡通">S-世纪天成一卡通</OPTION><OPTION value="S-蜀门">S-蜀门</OPTION><OPTION 
  class="hot" value="S-搜狐畅游一卡通">S-搜狐畅游一卡通</OPTION><OPTION 
  value="T-坦克世界">T-坦克世界</OPTION><OPTION value="T-天龙八部3">T-天龙八部3</OPTION><OPTION 
  class="hot" value="W-完美世界">W-完美世界</OPTION><OPTION 
  value="W-完美世界国际版">W-完美世界国际版</OPTION><OPTION 
  value="W-完美一卡通">W-完美一卡通</OPTION><OPTION value="W-问道">W-问道</OPTION><OPTION 
  class="hot" value="Y-英雄联盟">Y-英雄联盟</OPTION><OPTION 
  value="Z-战网一卡通">Z-战网一卡通</OPTION><OPTION value="Z-征途">Z-征途</OPTION><OPTION 
  value="Z-征途2">Z-征途2</OPTION><OPTION value="Z-醉逍遥">Z-醉逍遥</OPTION><OPTION class="hot" 
  value="Z-诛仙2">Z-诛仙2</OPTION><!--gameOption  end-->             </SELECT><SPAN 
class="more"><A href="http://game.jd.com/gameIndex.html" 
target="_blank">查看更多</A></SPAN>         </DIV>
<DIV class="item fore2"><LABEL>面值：</LABEL>             <SELECT id="game_slt_pair" 
onchange="changeEverything()"></SELECT>			 
<DIV class="price" id="game_price_div"></DIV></DIV>
<DIV class="item fore23"><LABEL></LABEL>              
<DIV class="fl" id="game_pay_type_div"></DIV></DIV>
<DIV 
class="item fore3"><LABEL></LABEL><INPUT title="立即充值" class="button" onclick="goToBuy('gamePayTypeRadio')" type="button" value="立即充值"> 
            <SPAN class="promotwords" id="promotwords-card"><A href="http://card.jd.com/html/card-jdIndex.html#" 
target="_blank"></A></SPAN></DIV></DIV>
<DIV class="qq cardhide" id="gametab-con-1">
<DIV class="item fore1"><LABEL>种类：</LABEL>             <SELECT id="qq_slt_type" 
onchange="initQqPair(this);changeEverything();changeProduct('qq');"><!--qqOption  start--><OPTION 
  class="hot" value="Q币">Q币</OPTION><OPTION 
  value="Q币按元充值">Q币按元充值</OPTION><OPTION value="QQ服务">QQ服务</OPTION><OPTION value="QQ蓝钻">QQ蓝钻</OPTION><OPTION 
  value="QQ绿钻">QQ绿钻</OPTION><OPTION value="QQ红钻">QQ红钻</OPTION><OPTION value="QQ黄钻">QQ黄钻</OPTION><OPTION 
  value="QQ会员">QQ会员</OPTION><!--qqOption  end-->             </SELECT>         
</DIV>
<DIV class="item fore2"><LABEL>面值：</LABEL>             <SELECT id="qq_slt_pair" 
onchange="changeEverything()"></SELECT>			 <SPAN class="price" 
id="qq_price_div"></SPAN>         </DIV>
<DIV class="item fore23"><LABEL></LABEL>
<DIV class="fl" id="qq_pay_type_div"></DIV></DIV>
<DIV 
class="item fore3"><LABEL></LABEL><INPUT title="立即充值" class="button" onclick="goToBuy('qqPayTypeRadio')" type="button" value="立即充值"> 
            <SPAN class="promotwords" id="promotwords-qq"><A href="http://card.jd.com/html/card-jdIndex.html#" 
target="_blank"></A></SPAN></DIV></DIV>
<DIV class="play cardhide" id="gametab-con-2">
<UL id="yeyou_ul"></UL></DIV></DIV>
<DIV class="check-price cardhide" id="game_result">
<DIV class="game-name"><A class="re-select" 
href="javascript:direct('1');">重选</A>
<H4></H4></DIV>
<DIV class="con">
<UL id="game_result_detail"></UL></DIV></DIV><!--dot-card end--> 
<DIV class="check-price cardhide" id="qq_result">
<DIV class="game-name"><A class="re-select" 
href="javascript:direct('2');">重选</A>
<H4></H4></DIV>
<DIV class="con">
<UL id="qq_result_detail"></UL></DIV></DIV><!--q-coins end--> 
<SCRIPT type="text/javascript">

//产品人员维护
var defaultGameName = "地下城与勇士";
var defaultGamePriceLoc = 1;//0是第一个
var defaultQqName = "Q币";
var defaultQqPriceLoc = 3;//0是第一个

//定义全局变量
var gameSetArray;
var qqSetArray;

var curGameSt;
var curGameSti;

var cardForm = document.getElementById("card_form");

var gameSelect = document.getElementById("game_slt_game");
var gameSelectItem = document.getElementById("game_slt_pair");
var gameResult = document.getElementById("game_result");
var gameResultDetail = document.getElementById("game_result_detail");
var gamePayTypeDiv = document.getElementById("game_pay_type_div");

var qqSelect = document.getElementById("qq_slt_type");
var qqSelectItem = document.getElementById("qq_slt_pair");
var qqResult = document.getElementById("qq_result");
var qqResultDetail = document.getElementById("qq_result_detail");
var qqPayTypeDiv = document.getElementById("qq_pay_type_div");

var gamePriceDiv = document.getElementById("game_price_div");
var qqPriceDiv = document.getElementById("qq_price_div");

//var jdPrice = document.getElementById("jdPrice");
//var jdPrice2 = document.getElementById("jdPrice2");
var styleQQ = document.getElementById("styleQQ");
var styleGame = document.getElementById("styleGame");
function changeEverything(){
    if(qqSelect.value==null||qqSelectItem.value==null||qqSelectItem.value==""){
        //jdPrice2.innerHTML ="";
        if(styleQQ.checked){
            return;
        }
    }
    if(gameSelect.value==null||gameSelectItem.value==null||gameSelectItem.value==""){
        //jdPrice.innerHTML = "";
        if (styleGame.checked) {
            return;
        }
    }
    var stvArray  =null;
    if (qqSelect.value!=null&&qqSelectItem.value!=null&&qqSelectItem.value!="") {
        stvArray = getResultSkus(qqSelect.value, qqSelectItem.value, qqSetArray);
        if(stvArray==null){
            return;
        }
        if (stvArray.length == 1 || stvArray[0].stvPrice == stvArray[1].stvPrice) {
            //jdPrice2.innerHTML  = stvArray[0].stvPrice.substring(1, stvArray[0].stvPrice.length) +"元";
        } else {
            var pricezc = stvArray[0].stvPrice.substring(1, stvArray[0].stvPrice.length);
            var pricekm = stvArray[1].stvPrice.substring(1, stvArray[1].stvPrice.length);
            if(pricezc>pricekm){
                //jdPrice2.innerHTML = pricekm + "-" + pricezc+"元";
            }else{
                //jdPrice2.innerHTML = pricezc + "-" + pricekm +"元";
            }
        }

		initSearch(2);
    }
    if(gameSelect.value!=null&&gameSelectItem.value!=null&&gameSelectItem.value!="") {
        stvArray = getResultSkus(gameSelect.value, gameSelectItem.value, gameSetArray);
        if(stvArray==null){
            return;
        }
        if (stvArray.length == 1 || stvArray[0].stvPrice == stvArray[1].stvPrice) {
            //jdPrice.innerHTML = stvArray[0].stvPrice.substring(1, stvArray[0].stvPrice.length)  +"元";
        } else {
            var pricezc = stvArray[0].stvPrice.substring(1, stvArray[0].stvPrice.length);
            var pricekm = stvArray[1].stvPrice.substring(1, stvArray[1].stvPrice.length);
            if(pricezc>pricekm){
                //jdPrice.innerHTML = pricekm + "-" + pricezc+"元";
            }else{
                //jdPrice.innerHTML = pricezc + "-" + pricekm +"元";
            }
        }
		initSearch(1);
    }
}

function direct(type){
    cardForm.className="game form" ;
    if(type=="2"){
        document.getElementById("gametab-con-2").className="" ;
        document.getElementById("gametab-con-1").className="cardhide" ;
        document.getElementById("qq_result").className="cardhide" ;
        document.getElementById("game_result").className="cardhide" ;
    }else{
        document.getElementById("gametab-con-2").className="cardhide" ;
        document.getElementById("gametab-con-1").className="" ;
        document.getElementById("qq_result").className="cardhide" ;
        document.getElementById("game_result").className="cardhide" ;
    }
    this.check="true";
};

function StObj(stName, stId,stColor) {
    this.stName = stName;
    this.stColor = stColor;
    this.stId = stId;
    this.StiArray = new Array();
}
;

function StiObj(stiName, stiId) {
    this.stiName = stiName;
    this.stiId = stiId;
    this.StvArray = new Array();
}
;

function StvObj(stvPrice, stvType,skuId) {
    this.stvPrice = stvPrice;
    //1卡密2直冲
    this.stvType = stvType;
    this.skuId = skuId;
}
;

function initSelectArray(gameStr){
    var gameArray = gameStr.split("^^");

    var stArray = new Array();
    for (var i = 0; i < gameArray.length; i++) {
        if (gameArray[i].split("|").length != 3) {
            continue;
        }
        var gameParObj = gameArray[i].split("|");
        var stObj = new StObj();

        stObj.stName = gameParObj[0];
        stObj.stColor = gameParObj[1];

        var parArray = gameParObj[2].split(",");
        if (parArray.length == 0) {
            continue;
        }
        //10元{zc-9.9-1000001}{km-9.8-1000002},20元{zc-9.9-1000001}{km-9.8-1000002}
        for (var a = 0; a < parArray.length; a++) {
            var stiObj = new StiObj();
            var par = parArray[a].substring(0, parArray[a].indexOf("{"));
            stiObj.stiName = par;
            var parValue = parArray[a].substring(parArray[a].indexOf("{"));
            var reg_stv = /\{.*?\}/gm;
            var result = parValue.match(reg_stv);

            if (!result) {
                continue;
            } else {
                for (var v = 0; v < result.length; v++) {
                    var stvArray = result[v].substring(1, result[v].length - 1).split("-");
                    if (stvArray.length != 3) {
                        continue;
                    }
                    //1卡密 2直冲
                    var rtIv = stvArray[0]=="km"?1:2;
                    var stvObj = new StvObj(stvArray[1],rtIv, stvArray[2]);
                    stiObj.StvArray[v] = stvObj;

                }
            }
            stObj.StiArray[a]=stiObj;
        }
        stArray[i]=stObj;
    }
    return stArray;
}


function initSelect() {

   //add StObj
    <!--game  start-->
 var gameStr ="D-地下城与勇士|red|1元{zc-￥0.93-1018467823},10元{zc-￥9.17-1005392932},30元{zc-￥27.60-1005392875},50元{zc-￥46.00-1005393024},100元{zc-￥91.70-1005393046},^^F-反恐精英OL|red|30元{zc-￥28.05-1020538666},50元{zc-￥46.25-1020539034},100元{zc-￥92.50-1020538674},150元{zc-￥140.00-1020539317},200元{zc-￥185.00-1020539395},300元{zc-￥277.50-1020539571},^^C-CSOL|black|10元{zc-￥9.25-1018261914},30元{zc-￥27.75-1018261607},50元{zc-￥46.25-1018262011},100元{zc-￥92.50-1018261658},^^C-超级舞者|black|10元{zc-￥9.05-1005542435},30元{zc-￥27.15-1005542296},50元{zc-￥45.25-1005542298},100元{zc-￥90.50-1005542437},^^C-赤壁|black|15元{zc-￥13.92-1005826095}{km-￥13.88-1005826332},30元{zc-￥27.84-1005826175}{km-￥27.75-1005826712},50元{zc-￥46.40-1005826159}{km-￥46.25-1005826947},100元{zc-￥92.80-1005826269}{km-￥92.50-1005827001},^^C-穿越火线|red|10元{zc-￥9.17-1005392719},30元{zc-￥27.60-1005392866},50元{zc-￥46.00-1005392824},100元{zc-￥91.70-1005392827},^^C-春秋Q传|black|15元{zc-￥14.30-1024298518},30元{zc-￥28.35-1024298637},50元{zc-￥47.50-1021614590},100元{zc-￥95.00-1021614657},^^G-光宇一卡通|red|5元{km-￥4.70-1001602591},10元{zc-￥9.39-1012660305}{km-￥9.39-1001602626},30元{zc-￥28.17-1012661988}{km-￥28.17-1001602638},50元{zc-￥46.95-1012662045},100元{zc-￥93.20-1012662672}{km-￥93.20-1001602759},^^J-金山一卡通|black|15元{km-￥14.30-1001534869},30元{km-￥28.60-1001534845},50元{km-￥47.50-1001535049},^^J-劲舞团|black|10元{zc-￥9.05-1005541478},30元{zc-￥27.15-1005541530},50元{zc-￥45.25-1005541701},100元{zc-￥90.50-1005541654},^^J-九阴真经|black|10元{zc-￥9.45-1005294015},30元{zc-￥28.35-1005311297},50元{zc-￥47.25-1005294093},100元{zc-￥94.50-1005294094},^^J-巨人|black|10元{zc-￥9.55-1005435346},30元{zc-￥28.65-1005435436},50元{zc-￥47.75-1005435551},100元{zc-￥95.50-1005435668},200元{zc-￥191.00-1005435743},500元{zc-￥477.50-1005435823},^^K-空中网一卡通|black|10元{zc-￥9.40-1005495070},30元{zc-￥28.20-1005495074},50元{zc-￥47.00-1005495260},100元{zc-￥94.00-1005495192},^^L-龙之谷|black|1元{zc-￥0.94-1005215951},10元{zc-￥9.30-1005318608},30元{zc-￥27.80-1005318722},50元{zc-￥46.35-1005318811},100元{zc-￥92.00-1005318792},^^M-梦幻诛仙|black|15元{zc-￥13.92-1005841228}{km-￥13.88-1005850934},30元{zc-￥27.84-1005841357}{km-￥27.75-1005851255},50元{zc-￥46.40-1005841424}{km-￥46.25-1005851322},100元{zc-￥92.80-1005841962}{km-￥92.50-1005851363},^^M-魔兽世界|red|15元{km-￥14.40-1005436472},30元{km-￥28.80-1011639017},^^P-跑跑卡丁车|black|1元{zc-￥0.93-1001851770},10元{zc-￥9.25-1018429469},30元{zc-￥27.75-1018429366},50元{zc-￥46.25-1018429558},100元{zc-￥92.50-1018429594},^^Q-QQ飞车|black|5元{zc-￥4.80-1013604577},10元{zc-￥9.40-1013604061},15元{zc-￥14.10-1013604841},30元{zc-￥28.20-1013605346},50元{zc-￥47.00-1013605573},^^Q-QQ炫舞|black|5元{zc-￥4.80-1013606569},10元{zc-￥9.50-1013606784},15元{zc-￥14.20-1013607114},30元{zc-￥28.30-1013607914},50元{zc-￥46.70-1013607772},^^Q-Q点|red|1元{zc-￥0.93-1005434067},10元{zc-￥9.30-1005434203},30元{zc-￥28.05-1005434386},50元{zc-￥47.00-1005434388},100元{zc-￥93.00-1005434316},^^R-热血传奇|black|10元{zc-￥9.30-1013124208},30元{zc-￥28.60-1013124063},50元{zc-￥46.00-1013124252},100元{zc-￥93.00-1015948336},^^R-热血江湖|black|10元{zc-￥9.40-1002372879},30元{zc-￥28.35-1002373007},50元{zc-￥47.25-1002372978},100元{zc-￥94.50-1002373160},^^S-盛大一卡通|red|1元{zc-￥0.93-1005434476},5元{zc-￥4.65-1018349680},10元{zc-￥9.20-1005434479},30元{zc-￥27.60-1005434577},35元{zc-￥32.55-1018351691},45元{zc-￥41.60-1018350811},50元{zc-￥46.00-1005434647},70元{zc-￥65.10-1018352919},90元{zc-￥83.50-1018352947},100元{zc-￥92.00-1005434732},105元{zc-￥97.65-1018354235},300元{zc-￥277.00-1018354905},500元{zc-￥460.00-1017362684},^^S-世纪天成一卡通|black|15元{zc-￥13.90-1024915444},30元{zc-￥27.75-1024915633},50元{zc-￥46.25-1024915497},100元{zc-￥92.50-1024915528},120元{zc-￥111.00-1024915745},150元{zc-￥138.80-1024916171},200元{zc-￥185.00-1024916434},300元{zc-￥277.50-1024916478},^^S-蜀门|black|10元{zc-￥9.25-1020728241},50元{zc-￥46.25-1020728694},100元{zc-￥92.50-1020728869},^^S-搜狐畅游一卡通|red|5元{km-￥4.68-1005513573},10元{zc-￥9.40-1017655240},15元{zc-￥14.00-1017655543}{km-￥14.03-1005513695},30元{zc-￥27.80-1017654633},40元{zc-￥37.00-1017655579}{km-￥37.40-1005529879},100元{zc-￥92.50-1017661950}{km-￥93.30-1005529931},^^T-坦克世界|black|10元{zc-￥9.31-1013710517},30元{zc-￥27.91-1013710580},50元{zc-￥46.51-1013711075},100元{zc-￥93.01-1013710448},^^T-天龙八部3|black|5元{zc-￥4.68-1005538938}{km-￥4.68-1005537915},10元{zc-￥9.35-1005539070},15元{zc-￥14.03-1005539348}{km-￥14.03-1005538078},30元{zc-￥28.05-1005539304},40元{km-￥37.40-1005538365},100元{km-￥93.50-1005538518},^^W-完美世界|red|15元{zc-￥13.95-1005765516},30元{zc-￥27.76-1005765717}{km-￥27.75-1005822339},50元{zc-￥46.50-1005765760}{km-￥46.25-1005822360},100元{zc-￥92.30-1005765782}{km-￥92.50-1005822421},^^W-完美世界国际版|black|15元{zc-￥13.92-1005822488}{km-￥13.88-1005822498},30元{zc-￥27.84-1005822439}{km-￥27.75-1005822558},50元{zc-￥46.40-1005822506}{km-￥46.25-1005822560},100元{zc-￥92.50-1005822507}{km-￥92.50-1005822499},^^W-完美一卡通|black|15元{zc-￥13.92-1019814112}{km-￥13.88-1005818641},30元{zc-￥27.76-1019814309}{km-￥27.64-1005819090},50元{zc-￥46.40-1019814449}{km-￥46.25-1005819255},100元{zc-￥92.30-1019814402}{km-￥92.20-1005765513},^^W-问道|black|5元{km-￥4.70-1012860856},10元{zc-￥9.39-1001775590}{km-￥9.39-1012861805},30元{zc-￥28.17-1001775594}{km-￥28.17-1012861426},50元{zc-￥46.95-1012860996},100元{zc-￥93.90-1001775530}{km-￥93.90-1012863195},^^Y-英雄联盟|red|10元{zc-￥9.17-1005500920},30元{zc-￥27.70-1005500945},50元{zc-￥45.90-1005501061},100元{zc-￥91.70-1005501154},^^Z-战网一卡通|black|15元{km-￥14.40-1001533512},30元{km-￥28.80-1011639565},^^Z-征途|black|30元{zc-￥28.65-1001849082},50元{zc-￥47.75-1001849162},100元{zc-￥95.50-1001849175},200元{zc-￥191.00-1005385008},500元{zc-￥477.50-1005385081},^^Z-征途2|black|30元{zc-￥28.50-1005386570},50元{zc-￥47.90-1005386572},100元{zc-￥95.20-1005386540},200元{zc-￥191.00-1005386691},500元{zc-￥477.00-1005386666},^^Z-醉逍遥|black|10元{zc-￥9.25-1019652604},50元{zc-￥46.25-1019652689},100元{zc-￥92.50-1019652769},^^Z-诛仙2|red|10元{zc-￥9.35-1020499915},20元{zc-￥18.70-1020499947},30元{zc-￥28.05-1020499926},50元{zc-￥46.75-1020500344},100元{zc-￥93.50-1020500405},";
<!--game  end-->

    <!--qq  start-->
 var qqStr= "Q币|red|1元（可自选数量）{zc-￥1.10-1001544920},10元{zc-￥9.19-1017599994},20元{zc-￥18.38-1017600833},30元{zc-￥27.57-1017601510}{km-￥27.91-1001544668},50元{zc-￥45.95-1017601300},60元{km-￥55.90-1001544565},100元{zc-￥91.90-1017601171},200元{zc-￥183.80-1017601546},300元{zc-￥275.70-1017602231},500元{zc-￥459.00-1017601807},^^Q币按元充值|black|1元（可自选数量）{zc-￥1.10-1011878902},^^QQ服务|black|10元{zc-￥9.15-1011825037},^^QQ蓝钻|black|10元{zc-￥9.18-1001546229},^^QQ绿钻|black|10元{zc-￥9.18-1001545227},^^QQ红钻|black|10元{zc-￥9.18-1001545181},^^QQ黄钻|black|10元{zc-￥9.18-1001545110},^^QQ会员|black|10元{zc-￥9.18-1001544680},";
<!--qq  end-->

    gameSetArray = initSelectArray(gameStr);
    qqSetArray = initSelectArray(qqStr);
/**
    //初始化游戏 select
    for(var i=0;i<gameSetArray.length;i++){
        var stObj = gameSetArray[i];
        if(!stObj.StiArray.length>0){
            continue;
        }
        addItemToSelect(gameSelect, stObj.stName, stObj.stName,stObj.stColor);
    }

    //初始化QQ select
    for(var i=0;i<qqSetArray.length;i++){
        var stObj = qqSetArray[i];
        if(!stObj.StiArray.length>0){
            continue;
        }
        addItemToSelect(qqSelect, stObj.stName, stObj.stName,stObj.stColor);
    }
**/
	//设置默认值
	setDefaultSelectedByText(gameSelect,defaultGameName);
	setDefaultSelectedByText(qqSelect,defaultQqName);
	//初始化面值
	initGamePair(gameSelect);
	initQqPair(qqSelect);
	setDefaultSelectedByIndex(gameSelectItem,defaultGamePriceLoc);
	setDefaultSelectedByIndex(qqSelectItem,defaultQqPriceLoc);
	//显示在线充值、购买卡密  及对应的价格
    changeEverything();
	//改变游戏下拉框的颜色
	changeProduct('game');
	changeProduct('qq');
}

//设置下拉框的默认项
function setDefaultSelectedByText(selectObj,optionsText){
    var selectIndex = -1;
    for(var i=0;i<selectObj.options.length;i++){
        if(selectObj.options[i].text.indexOf(optionsText) >=0){
            selectObj.options[i].selected=true;
            selectIndex = i;
			break;
        }
    }

	if(selectIndex == -1){
		selectObj.options[0].selected=true;
	}
	
}

function setDefaultSelectedByIndex(selectObj,index){
	if(selectObj.options.length > 0){
		if(index >= 0 && index < selectObj.options.length){
			selectObj.options[index].selected=true;
		} else {
			selectObj.options[0].selected=true;
		}
	}	
}

function initGamePair(obj){
    removeAllItem(gameSelectItem);
    initSetPair(gameSetArray,obj.value,gameSelectItem);
};


function initQqPair(obj){
    removeAllItem(qqSelectItem);
    initSetPair(qqSetArray,obj.value,qqSelectItem);
};

function getResultSkus(stValue,stiValue,setArray){
    for(var i=0;i<setArray.length;i++){
        var stObj = setArray[i];
        if(stObj.stName==stValue){
            for(var a=0; a<stObj.StiArray.length;a++){
                var stiObj = stObj.StiArray[a];
                if(stiObj==null){
                    continue;
                }
                if(stiObj.stiName==stiValue){
                    return stiObj.StvArray;
                }
            }
        }
    }
    return null;
}

function initSetPair(setArray,stName,sltObj){
    //请选择面值
    //addItemToSelect(sltObj, "请选择面值", "");
    for(var i=0;i<setArray.length;i++){
        var stObj = setArray[i];
        if(stObj.stName==stName){
            for(var a=0;a<stObj.StiArray.length;a++){
                var stiObj =stObj.StiArray[a];
                if(stiObj==null){
                    continue;
                }
                addItemToSelect(sltObj, stiObj.stiName, stiObj.stiName);
            }
            return;
        }
    }

}

function addItemToSelect(objSelect, objItemText, objItemValue,objColor) {
    var varItem = new Option(objItemText, objItemValue);
    if(objColor=="red"){
        varItem.className="hot";
    }
    //added by liqing--start
    //游戏点卡默认选择
	/**
    if(objItemText.indexOf(defaultGameName) >= 0){
        setTimeout(function(){
            varItem.selected = true;
            for(var i=0;i<gameSetArray.length;i++){
                var stObj = gameSetArray[i];
                if(stObj.stName==objItemText){
                    for(var a=0;a<stObj.StiArray.length;a++){
                        var stiObj =stObj.StiArray[a];
                        addItemToSelect(gameSelectItem, stiObj.stiName, stiObj.stiName);
                    }
                    //默认选中第一个面值
                    if(gameSelectItem.options.length>1){
                        gameSelectItem.options[defaultGamePriceLoc].selected = true;
                    }
                }
            }
			changeEverything();

        },1);


    }
    //QQ默认选择
    if(objItemText==defaultQqName){
        setTimeout(function(){
            varItem.selected = true;
            for(var i=0;i<qqSetArray.length;i++){
                var stObj = qqSetArray[i];
                if(stObj.stName==objItemText){
                    for(var a=0;a<stObj.StiArray.length;a++){
                        var stiObj =stObj.StiArray[a];
                        addItemToSelect(qqSelectItem, stiObj.stiName, stiObj.stiName);
                    }
                    //默认选中第一个面值
                    if(qqSelectItem.options.length>1){
                        qqSelectItem.options[defaultQqPriceLoc].selected = true;
                    }
                }
            }
			changeEverything();
        },1);


    }
    //--end
**/
    objSelect.options.add(varItem);
    //changeEverything();
}

function removeAllItem(objSelect) {
    var length = objSelect.options.length - 1;
    for(var i = length; i >= 0; i--){
        objSelect.options[i] = null;
    }
}


function getStypeValue(){

    var Obj = document.getElementsByName("stype");
    for(i=0;i<Obj.length;i++){if(Obj[i].checked){break}};
    if(i==Obj.length){return 1;}else{return Obj[i].value;}
}

var productPre = "http://card.jd.com/order/order_place.action?entry=1&skuId=";
function initResultItemHtml(stvArray, radioName){

    var strZc ="";
	var strKm ="";
	
    for(var i =0;i<stvArray.length;i++){
        var stvObj = stvArray[i]
		
        if(stvObj.stvType==1) {
			strKm = '<input type="radio" id="'+stvObj.skuId+'" name="'+radioName+'" class="radio" value="'+stvObj.skuId+'"';
            if(stvArray.length==1) {
                strKm = strKm+'" checked="checked" ';
				initPrice(radioName,stvObj.stvPrice);
            };
			
            strKm = strKm + ' onclick="modifyPrice(this)" price="'+stvObj.stvPrice+'"/><label class="t-name" for="'+stvObj.skuId+'">购买卡密</label>';
        }
        if(stvObj.stvType==2){
            strZc = '<input type="radio" id="'+stvObj.skuId+'" name="'+radioName+'" class="radio" value="'+stvObj.skuId+'" checked="checked" onclick="modifyPrice(this)" price="'+stvObj.stvPrice+'"/><label class="t-name" for="'+stvObj.skuId+'">在线充值</label>';
			initPrice(radioName,stvObj.stvPrice);
        }

    }
    return strZc+strKm;

}

function initPrice(payType, price){
	if(payType == "gamePayTypeRadio"){
		gamePriceDiv.innerHTML = price;
	} else if(payType == "qqPayTypeRadio") {
		qqPriceDiv.innerHTML = price;
	}
}

function modifyPrice(obj){
	if(obj.name == "gamePayTypeRadio"){
		gamePriceDiv.innerHTML = obj.attributes["price"].nodeValue;
	} else if(obj.name == "qqPayTypeRadio") {
		qqPriceDiv.innerHTML = obj.attributes["price"].nodeValue;
	}
}


function initSearch(type){

    if(type==2){
        if(qqSelect.value==""){
            alert("请选择种类");
            return;
        }

        if(qqSelectItem.value==""){
            alert("请选择面值");
            return
        }
/**
        cardForm.className="game form cardhide" ;
        qqResult.className="check-price" ;
        qqResult.getElementsByTagName("h4")[0].innerHTML=qqSelect.value+'<span>'+qqSelectItem.value+'</span>';

**/

        var stvArray = getResultSkus(qqSelect.value,qqSelectItem.value,qqSetArray);
        if(stvArray!=null){
            var htmlRet = initResultItemHtml(stvArray,"qqPayTypeRadio");
            qqPayTypeDiv.innerHTML = htmlRet;
        }
    }else{
        if(gameSelect.value==""){
            alert("请选择游戏");
            return;
        }

        if(gameSelectItem.value==""){
            alert("请选择面值");
            return
        }

/**

        cardForm.className="game form cardhide" ;
        gameResult.className="check-price" ;
        gameResult.getElementsByTagName("h4")[0].innerHTML=gameSelect.value+'<span>'+gameSelectItem.value+'</span>';
**/


        var stvArray = getResultSkus(gameSelect.value,gameSelectItem.value,gameSetArray);
        if(stvArray!=null){
            var htmlRet = initResultItemHtml(stvArray,"gamePayTypeRadio");
            gamePayTypeDiv.innerHTML = htmlRet;

        }

    }


};

function goToBuy(payType){
    var Obj = document.getElementsByName(payType);
    var skuId = "";
    for(i=0;i<Obj.length;i++)
    {
        if(Obj[i].checked)
        {
            skuId=Obj[i].value;
            break;
        }
    }
    if(skuId.length>0)
    {
        window.open(productPre+skuId);
    }
}

initSelect();

//changeProduct("game");
//changeProduct("qq");

</SCRIPT>
 
<SCRIPT src="card-jdIndex_files/hotwords.htm" type="text/javascript"></SCRIPT>
 </BODY></HTML><!--Thu Jun 27 10:44:31 CST 2013-->
