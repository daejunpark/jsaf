(function(){window.generic=(window.generic||{});window.generic.install=function(c,b){var a;for(a in b){if(b.hasOwnProperty(a)){c[a]=b[a];}}};})();(function(a){a.install(a,{document_readys:[],document_is_ready:function(){var d=a.document_readys,b;a.document_readys=null;for(b=0;b<d.length;b++){try{d[b](jQuery);}catch(c){}}if(a.should_jQuery_noConflict){jQuery.noConflict(false);}},on_document_ready:function(b){if(a.has_document_readied()){b(jQuery);}else{a.document_readys.push(b);}},has_document_readied:function(){return a.document_readys===null;}});})(window.generic);function consoleLog(j,b,a){var i=window.consoleLog,e=document.location,d=e.host.match(/^(m|www|uk).imdb.[a-z]+$/),h=e.hash.match("debug=1"),f=(a==="error"||h||!d),g;if(!b){b="global";}else{(i[b]=i[b]||[]).push(j);}g=b+" : "+j;(i.global=i.global||[]).push(g);try{if(!f){return;}if(window.console){if(window.console[a]){window.console[a](g);}else{if(window.console.log){window.console.log(g);}}}}catch(c){}}function consoleWarn(b,a){consoleLog(b,a,"warn");}function consoleError(b,a){consoleLog(b,a,"error");}document.getElementsByTagName("html")[0].className+=" scriptsOn";(function(n,s,l){var k=n.ads_js_start?new Date().getTime()-n.ads_js_start:null,x=navigator.userAgent,c=/MSIE/.test(x),a=/Firefox/.test(x),m=n.generic,t="4215",v={top_ad:"t",top_rhs:"tr"},d={injected_billboard:"top_ad",injected_navstrip:"top_ad"},z=s.all?function(E){return s.all[E];}:function(E){return s.getElementById(E);},i=function(E){return s.getElementsByTagName(E);},o=function(E){return z(E).contentWindow.document;},r=function(F,G,E){if(F.attachEvent){F.attachEvent("on"+G,function(){E.apply(F,arguments);});}else{F.addEventListener(G,E,false);}},e=Math.random()*10000000000000000,D="/images/a/ifb/doubleclick/indirect.html",C="us",B=[[/%3B/g,";"],[/%3D/g,"="],[/%2C/g,","],[/%3F/g,"?"]],w=450,u=475,j=/(\[|%5B)CLIENT_SIDE_ORD(\]|%5D)/g,p=/(\[|%5B)PASEGMENTS(\]|%5D)/,g=/(\[|%5B)CLIENT_SIDE_KEYVALUES(\]|%5D)/,q={},A={};var h=(function(){var N,K,I="as",L=function(){var P="{";if(K){if("h" in K){P+=G("h");}if(("h" in K)&&("n" in K)){P+=",";}if("n" in K){P+=G("n");}}P+="}";m.cookie.set(I,P,m.days_to_midnight||1);},G=function(Q){var P="";jQuery.each(K[Q],function(R,S){P+='"'+R+'":['+H(S[0])+","+H(S[1])+"],";});return'"'+Q+'":{'+P.substr(0,P.length-1)+"}";},E=function(){var P=m.cookie.get(I);if(P){try{K=jQuery.parseJSON(P);N=N||K||{};}catch(Q){N=N||(K={});}}},H=function(Q){var P=parseInt(Q,10);return isFinite(P)?P:0;},J=function(){return(s.location.pathname==="/")?"h":"n";},F=function(Q,R){var P=ad_utils.get_ad_object(Q[0]);return((Q.css("display")==="none")?0:parseInt(P.w,10));},O=function(R,T){var S=0,Q=ad_utils.get_ad_object(R[0]),P=parseInt(Q.h,10);if(T==="top_ad"){if(jQuery("#nb20").hasClass("banner")){S=-5;}else{if(jQuery("#nb20").hasClass("supertab")){S=-15;}}}else{if(T==="injected_billboard"){S=20;}}if("swfAutoMaxHeight" in R[0].contentWindow){P=R[0].contentWindow.swfMinHeight;}return((R.css("display")==="none")?0:P+S);},M={top_ad:"t",top_rhs:"tr",injected_navstrip:"in",injected_billboard:"ib"};return{store:function(){m.on_document_ready(function(R){var Q;try{E();K=K||{};Q=K[J()]||{};R.each(M,function(U,T){var S=R("#"+U);if(S.length!==0){Q[T]=[F(S,U),O(S,U)];}});K[J()]=Q;L();}catch(P){consoleLog("Failed to store ad size cookie "+P.toString(),"ads");}});}};})();var b=(function(){var F=function(G,H){var I=G.contentWindow?G.contentWindow.document:G.contentDocument;if(!a){I.open("text/html","replace");}I.write("<body>"+H+"<script>document.close()<\/script></body>");},E=function(I,J){var H="__srcless_"+Math.floor(Math.random()*68719476735).toString(36),G="<body><script>document.write(parent.ad_utils."+H+");delete parent.ad_utils."+H+";<\/script></body>";ad_utils[H]=J;I.src="javascript:unescape('"+escape(G)+"')";};return{inject_slot:function(G,H){var J=G.id,I="<style>body{background:transparent;}</style>"+H+'<script>document.write("<script defer>parent.ad_utils.ad_table.'+J+'.fired=true;<\\/script>");<\/script>';if(c){E(G,I);}else{F(G,I);}}};})();this.ad_utils={ord:e,ord_regex:j,current_tile:1,tile_regex:new RegExp("(/|;)!TILE!(;|\\?)"),tile_fn:function(E){return";tile="+(E)+";";},ad_table:{},ad_queue:[],low_latency_punt_ads:{},dart_network_code:t,setup_slot_metrics:function(E){ad_utils.slot_events.listen(E,"iframe request reflow tagdeliver load",function(G){var F=G.data.duration;m.monitoring.update_slot_metrics(G.slot,G.event,F);});ad_utils.slot_events.listen(E,"request",function(F){m.monitoring.start_timing(F.slot);});ad_utils.slot_events.listen(E,"load",function(G){var F=G.data.type;if(!F){consoleError(G.slot+" loaded, but type was not reported");}else{m.monitoring.stop_timing(E,F,true);}m.monitoring.update_slot_metrics(G.slot,"trueload");});ad_utils.slot_events.listen(E,"punt",function(G){var F=G.event+"_"+G.data.type;m.monitoring.update_slot_metrics(G.slot,F);});},register_ad:function(E){ad_utils.setup_slot_metrics(E);ad_utils.slot_events.trigger(E,"iframe");this.ad_table[E]={slot:E};},render_ad_fast:(function(){var E=100;function F(Q,O){var K=s.getElementById(Q),T=K.contentWindow,H=K.getAttribute("data-dart-params"),M=H?H.replace(ad_utils.tile_regex,ad_utils.tile_fn(O)):l,U=K.getAttribute("data-override-url"),J=U||custom.doubleclick.construct_url(M),S=K.getAttribute("data-bid-url"),R=/^http/.test(S),N=ad_utils.weblab.get_treatment("DTB/AAX Bid")==="treatment",P=R&&N?'<script>var bid_start = new Date().getTime();\nvar bid_time;\nvar bidOnLoad = function(){bid_time = new Date().getTime() - bid_start;}<\/script><script src="'+S+"&cb="+e+"\" onload=\"bidOnLoad();\"><\/script><script>\nif (document.serveCornerstone){\nif (document.amzn_ads){parent.generic.monitoring.record_metric('dtb_bid.win',bid_time);document.ad = document.cornerstoneAd;\nfor(var prop in document.amzn_ads){\n document.write(document.amzn_ads[prop]);}\n}else{parent.generic.monitoring.record_metric('dtb_bid.void',bid_time);}}<\/script>":"",G='<script src="'+J+'"><\/script>'+P,I=ad_utils.inject_ad.get_injectable_slots(Q),L;ad_utils.slot_events.trigger(Q,"request");for(L=0;L<I.length;L++){ad_utils.slot_events.trigger(I[L],"request");}b.inject_slot(K,G);T.show_ad_feedback=function(){m.on_document_ready(function(){ad_utils.show_ad_feedback(Q);});};T.d16g_external_callback=function(V){s.ad=V;ad_utils.expand_ad(K);};}return function(K){var J=m.monitoring.get_metric_value("top_ad","request"),I=csm.duration()-J,G=E-I,H=ad_utils.current_tile++;if(K==="top_rhs"&&isFinite(G)){m.monitoring.record_metric("master_companion_delay",G);if(G>0){setTimeout(function(){F(K,H);},G);}else{F(K,H);}}else{F(K,H);}};})(),expand_ad:function(J){var Q=this,O=J.id,M=J.height,P=J.width;if("expand_called" in this.ad_table[O]){return;}var K=J.parentNode.id,L=this.get_ad_object(J),N=z(O+"_before"),F=z(O+"_after"),G,I=csm.duration(),H,E=z(O+"_reflow_helper"),R=E!==null?E.offsetTop:null;if((O+"_wrapper")!==K){if(!m.has_document_readied()){m.on_document_ready(function(){Q.expand_ad(J);});return;}}if(!this.ad_table||!this.ad_table[O]){return;}else{this.ad_table[O].expanded=1;}if(L){if(!s.ads){s.ads={};}s.ads[L.cid]=L;if("w" in L){J.width=parseInt(L.w,10);}if("h" in L){J.height=parseInt(L.h,10);}if("z" in L&&L.z){J.parentNode.style.zIndex=L.z;J.parentNode.style.position="relative";}if(L.st){this.expand_supertab(L);}else{if(L.bb){this.expand_billboard(L);}else{if(J.id==="top_ad"&&this.is_open(L)&&!L.clickroll&&!L.overlay){this.expand_top_banner();}}}if(L.wrap){this.expand_wrap(L);}if(L.bamf){this.expand_bamf(L,J);}if(L.inner_bamf){this.expand_inner_bamf(L);}if(L.relative_bamf){this.expand_relative_bamf(L);}if(this.is_open(L)){if(N){this.display_label(N);}if(F){this.display_label(F);}}else{this.collapse_ad(J);}if(L.styles){for(G in L.styles){m.override_style(G,L.styles[G].style);}}}this.ad_table[O].expand_called=1;m.on_document_ready(function(S){S(J).trigger("expand_ad");});if(M===J.height&&P===J.width){ad_utils.slot_events.trigger(O,"reflow",{duration:0});}else{setTimeout(function(){var T=(O==="top_ad"&&ad_utils.is_open(L)&&!L.st)?10:0,S=(E!==null&&E.offsetTop===R+T);ad_utils.slot_events.trigger(O,"reflow",{duration:S?0:I});},10);}if(O in d){H=m.monitoring.get_metric_value(d[O],"tagdeliver");}else{H=I;}ad_utils.slot_events.trigger(O,"tagdeliver",{duration:H});h.store();s.body.className=s.body.className;},get_ad_object:function(K){var P=K.id,H=o(P),M=null;try{M=H.ad;}catch(O){consoleLog("Cannot access ad parameters: "+O.toString(),"ads");}if(!M){var E=0;var R=0;var Q=["img","object","embed","iframe"];var L,J,G;for(J in Q){G=H.getElementsByTagName(Q[J]);for(L=0;L<G.length;L++){var F=G[L],I,N;I=F.scrollWidth||F.width;N=F.scrollHeight||F.height;if(I&&I>1){E=Math.max(E,parseInt(I,10));}if(N&&N>1){R=Math.max(R,parseInt(N,10));}consoleLog(P+" : estimated size : "+I+","+N,"ads");}}M={w:E.toString(),h:R.toString(),pid:"",url:"",aid:"0",cid:"0"};if(E===0||R===0){M.scope="null";}}else{if(!("pid" in M)){M.pid="DFP";}if(!("url" in M)){M.url="http://ad.doubleclick.net/N"+ad_utils.dart_network_code+"/adi/d16g-sec.preview/;cid="+("cid" in M?M.cid:"");}}H.ad=M;return M;},get_cornerstone_ad_object:function(E){var F=v[E]+"adData";if("aanResponse" in top.document&&F in top.document.aanResponse){return top.document.aanResponse[F];}return null;},get_mapped_amazon_slot_name:function(E){return v[E]?v[E]:E;},clean_up_slot_metrics:function(E){var I=E.id,G=o(I),F=this.get_ad_object(E);try{m.monitoring.stop_timing(I,this.get_type_of_ad(F),true);}catch(H){consoleLog("stop_timing failed: "+H.toString(),"ads");}},on_ad_load:function(G){var J=G.id,I=this.get_ad_object(G),F=this.get_type_of_ad(I),H=this.ad_table[J],E;if(!H||!H.fired){consoleLog("deflected spurious onload event for "+J,"on_ad_load");return;}H.loaded=true;if(I.scope==="blank"||I.scope==="null"){if(G.getAttribute("data-original-width")==="0"&&G.getAttribute("data-original-height")==="0"){E=0;}else{E=m.monitoring.get_metric_value(J,"reflow");}}else{}if(!H.expanded){this.expand_ad(G);}ad_utils.slot_events.trigger(J,"load",{duration:E,type:F});},is_open:function(E){return E&&"w" in E&&"h" in E&&E.w>0&&E.h>0&&E.scope!=="blank";},expand_supertab:function(G){var F=z("nb15"),E=z("nb20");if(F){F.className="supertab";}else{if(E){E.className="supertab";}}},expand_billboard:function(O){var ac=s,G="injected_billboard",Y=z(G),L=Y.parentElement||Y.parentNode,I=Y.contentWindow.document,X=I.getElementsByTagName("body"),P=X.length===1?X[0]:I.createElement("body"),Q=z("top_rhs_wrapper"),S=O.bb_close,aa=O.bb_show,W="ax",ad,ab,K,N,H;if(!L){return false;}L.className=(L.className?L.className+" ":"")+"billboard";function Z(){var ah=m.cookie.get(W),ae=ah&&ah.split(/o|c/),af=ah&&ah.split(/\d*/),ai={},ag;if(ae&&af){if(af[0]===""){af.shift();}for(ag=0;ag<af.length;++ag){ai[ae[ag]]=af[ag];}}ab=ai;}function F(){var af="",ae=new Date(),ag,ah;for(ah in ab){if(ab.hasOwnProperty(ah)){af+=ah+ab[ah];}}m.cookie.set(W,af,m.days_to_midnight||1);}function R(aj,ak){var ag=I.createElement("div"),ah=aj.getElementsByTagName(ak),af,ai,ae="";for(af=0;af<ah.length;++af){ai=ah[af];ai.parentNode.removeChild(ai);ag.appendChild(ai);ae+=ag.innerHTML;ag.removeChild(ai);}return ae;}function V(){if(parseInt(Y.style.height,10)!==parseInt(I.ad.h,10)){Y.contentWindow.minimize();}Y.style.display="none";K.style.display="block";Z();ab[O.aid]="c";F();ad="";ad+=R(I,"object");ad+=R(I,"embed");h.store();L.style.margin="0px";}function T(){K.style.display="none";Y.style.display="block";Z();ab[O.aid]="o";F();if(ad){P.innerHTML=ad+P.innerHTML;}I.getElementById("billboard_close_button").onclick=V;h.store();L.style.margin="20px 19px";}function J(ae){var af=ae,ag=0;while(af){ag+=af.offsetTop;af=af.offsetParent;}return ag;}function M(){if(!Q){return false;}var ae=(Q.parentElement||Q.parentNode),af=z("injected_billboard_reflow_helper");return ae&&af&&(ae.offsetTop<=af.offsetTop+100||J(ae)<=J(af)+100);}if(O.bb===1){N=I.createElement("div");N.id="billboard_close_button";N.style.cssFloat="right";N.style.cursor="pointer";N.style.position="absolute";N.style.top=0;N.style.right=0;N.innerHTML=S;N.onclick=V;P.appendChild(N);K=ac.createElement("div");K.id="billboard_show_button";K.innerHTML=aa;K.onclick=T;if(M()){(Q.parentElement||Q.parentNode).insertBefore(K,Q);}else{var U=s.getElementById("sidebar")||s.getElementById("maindetails_sidebar_top")||s.getElementById("sidebar-wide"),E=U?U.parentNode||U.parentElement:{};if(U&&E.id!=="content-2-narrow"){U.insertBefore(K,U.firstChild);}else{K.style.marginRight="19px";K.style.marginTop="20px";L.parentNode.insertBefore(K,L);}}Z();if(O.aid in ab&&ab[O.aid]==="c"){V();}}return true;},expand_top_banner:function(){var E=z("nb15");if(E){E.className="banner";}else{z("nb20").className="banner";}},expand_bamf:function(G,E){var F=G.bamf;m.extend(E.style,F.style);},expand_inner_bamf:function(F){var E=F.inner_bamf;var G=z(E.targetId);if(G&&E.node){m.insert_after(E.node,G);}},expand_relative_bamf:function(G){var E=G.relative_bamf;var H=z(E.targetId);var F;if(E.relation=="insert_after"){F=m.insert_after;}else{if(E.relation=="insert_before"){F=m.insert_before;}else{if(E.relation=="insert_inside"){F=m.insert_inside;}}}if(H&&E.node){F(E.node,H);}},expand_wrap:function(F){if(!F.styles){F.styles={};}var E={"styleguide-v2":{style:{background:F.wrap}},root:{style:{"background-color":"transparent","box-shadow":"none"}},pagecontent:{style:{height:"100%"}},nb20:{style:{background:"none"}}};m.extend(F.styles,E);},expand_label:function(E){E.className=E.className.replace(/hidden/,"");},display_label:function(E){E.style.display="block";E.style.visibility="visible";},collapse_ad:function(E){var G=E.id,F=function(I){var H=z(I);if(H){H.style.display="none";}};E.style.display="none";F(G+"_before");F(G+"_after");},get_type_of_ad:function(E){if(!E){return"null";}if(E.scope){return E.scope;}return"got_ad";},show_ad_feedback:function(M){function N(){H("#ad_feedback_"+M).remove();return false;}function I(W){var S=H(n),V=H(s),U=(S.width()-300)/2+V.scrollLeft(),T=(S.height()-320)/2+V.scrollTop();W.css({top:T<0?0:T,left:U});}try{var H=jQuery,F=s.getElementById(M),R=F.contentWindow,O=ad_utils.get_ad_object(F),Q,K=R.location.hash.match(/#([^;]*);/),G={adId:(O?O.aid:""),cid:(O?O.cid:""),page_id:n.location.href.substr(0,255),pagesubtype:(K?K[1]:""),slot:M},E=G.adId+";"+G.cid+";"+G.slot,P=H("#ad_feedback_container"),J=0;H("div.dfp_slot iframe").each(function(){var U=this.id,T=this.contentDocument,S=ad_utils.get_ad_object(this);if(!(U in A)&&S){Q=ad_utils.get_cornerstone_ad_object(U);if(Q){A[U]={aid:Q.adId,cid:Q.creativeId,pid:Q.adNetwork};}else{A[U]={aid:S.aid,cid:S.cid,pid:S.pid};}A[U].url=S.url;A[U].dim=S.w+"x"+S.h;}});H.each(A,function(S,T){G["slot_"+J]=S;G["cid_"+J]=T.cid;G["aid_"+J]=T.aid;G["pid_"+J]=T.pid;G["dim_"+J]=T.dim;G["url_"+J]=T.url;J++;});if(P.length===0){P=H('<iframe id="ad_feedback_container">');P.addClass("hidden").attr({name:"ad_feedback_container",scrolling:"no",frameborder:"no",marginheight:"0",marginwidth:"0",allowtransparency:"yes"});P[0].hide=function(){H(this).addClass("hidden");};P[0].show=function(){H(this).removeClass("hidden");};P[0].isHidden=function(){return P.hasClass("hidden");};H("body").append(P);}if(P.attr("src")===""||P.attr("ref")!==E){P.unbind().load(function(){P[0].show();I(P);H(this).unbind();}).attr("src","/ads/feedback.html#"+H.param(G)).attr("ref",E);}else{if(P[0].isHidden()){P[0].show();I(P);}else{P[0].hide();return false;}}}catch(L){consoleLog("ad feedback failure : "+L,"ads");N();}return false;},report_ad_data:function(I,G){var F=I,J,E={};if(F===top){return;}try{while(F.parent!==top){F=F.parent;}J=F.frameElement.id;}catch(H){consoleLog("could not determine ad slot: "+H);return;}$.each("aid cid pid url dom dim".split(" "),function(K,L){if(L in G){E[L]=G[L];}});A[J]=E;},ns:(function(){var G={},F=function(K,H,J){var I;if(typeof K==="string"){I=K;}else{I=K.frameElement.id;}E(I)[H]=J;},E=function(H){return(G[H]=G[H]||{});};return{register:F,get:E};})(),inject_ad:(function(){var G={},E={},H={},F=function(I){consoleLog(I,"inject_ad");};return{render:function(K){var I=z(K),J=G[K];if(!H[K]){F(K+" rendered");H[K]=1;ad_utils.ad_table[K]={slot:K,injected:true};if(J){b.inject_slot(I,J);}else{b.inject_slot(I,'<script>document.ad = {h:"0",w:"0",scope:"blank"}<\/script>');}}},register:function(K){var J=d[K],I=this;F(K+" registered");E[K]=1;ad_utils.slot_events.listen(J,"load",function(){I.render(K);});ad_utils.setup_slot_metrics(K);ad_utils.slot_events.trigger(K,"iframe");},inject:function(J,I){F(J+" injected");G[J]=I;if(E[J]){this.render(J);}},get_injectable_slots:function(K){var I=[],J;for(J in d){if(d[J]===K){I.push(J);}}return I;}};})(),weblab:(function(){var E={};return{set_treatment:function(F,G){E[F]=G;},get_treatment:function(F){return E[F];}};})(),attach_aax_callback:function(F,E){E.aax_render_ad=function(G){if(G&&G.html){E.document.write(G.html);E.document.got_aax_ad="got_ad";}else{E.document.got_aax_ad="blank";}ad_utils.slot_events.trigger(F,"tagdeliver");};},aax_render_ad:function(H){var F=z(H),E=F.getAttribute("data-aax-url"),G="<script>parent.ad_utils.attach_aax_callback('"+H+"', window);<\/script><script src=\""+E+'"><\/script>';F.onload=function(){var J=ad_utils.ad_table[H],I;if(!J||!J.fired){consoleLog("deflected spurious cornerstone onload event for "+H,"aax_render_ad");return;}if(F.contentWindow.document.got_aax_ad!=="got_ad"){F.style.display="none";I="blank";}else{I=F.contentWindow.document.got_aax_ad;}ad_utils.slot_events.trigger(H,"load",{type:I});};ad_utils.slot_events.trigger(H,"request");b.inject_slot(F,G);},register_punt_ad:function(H,G,E,F){this.low_latency_punt_ads[H]={w:G,h:E,markup:F};},inject_punt_ad:function(K,L){var H=K.frameElement,M=H.id,G=H.contentWindow?H.contentWindow.document:H.contentDocument,F=null,J=null,E=(G&&G.ad&&G.ad.aid)?G.ad.aid:"0",I=(G&&G.ad&&G.ad.cid)?G.ad.cid:"0";if(M in this.low_latency_punt_ads){F=this.low_latency_punt_ads[M];G.ad={w:F.w,h:F.h,pid:"",url:"",aid:E,cid:I};this.expand_ad(H);J=F.markup.replace(/\[PUNT_ORIGIN\]/,encodeURIComponent('{"punt_origin":"'+L+'"}'));G.write(J);ad_utils.slot_events.trigger(M,"punt",{type:"got_ad"});}else{ad_utils.slot_events.trigger(M,"punt",{type:"blank"});}},fp:(function(){var G="advertisingFlashPersistence",F=function(){var K;if(n.localStorage&&n.JSON){K=localStorage.getItem(G);if(K){try{return JSON.parse(K);}catch(J){localStorage.removeItem(G);consoleLog("Could not deserialize flash persistence variable");}}return{};}return null;},I=function(J){if(n.localStorage&&n.JSON){localStorage.setItem(G,JSON.stringify(J));}},H=new Date().getTime(),E=H-86400000;return{should_autoplay:function(J){var K=F();if(!K){return false;}if(K[J]&&K[J].l&&K[J].l>E){return false;}return true;},log_autoplay:function(J){var K=F();if(K){K[J]={l:H};I(K);}else{consoleError("Autoplay logged, but localStorage is not available!");m.monitoring.record_event("flash_persistence_failure",true);}}};})(),tandem:(function(){var E={};return{register_swf:function(F,G){consoleLog("Register swf: "+F+" "+G,"Tandem");if(E[G]){consoleError("swf already registered: "+F+" "+G,"Tandem");return false;}E[G]={id:F};},send_message:function(G,H,J){var I=E[G],F,L;consoleLog("Sending message: "+G+" "+H+" "+J,"Tandem");if(I){for(L in ad_utils.ad_table){if(o(L)&&o(L).getElementById(I.id)){F=o(L).getElementById(I.id);}}if(z(I.id)){F=z(I.id);}try{if(c){F.receiveTimelineMessage(J,H);}else{F.getElementsByTagName("embed")[0].receiveTimelineMessage(J,H);}return true;}catch(K){consoleError("Unable to call receiveTimelineMessage on: "+G,"Tandem");consoleError(K);return false;}}else{consoleError("Attempted message to : "+G+" before registered.","Tandem");return false;}}};})(),set_dfp_network_id:function(E){this.dart_network_code=E;}};m.install(m,{should_jQuery_noConflict:(n.$&&!n.jQuery),one_way_send_record:[],insert_after:function(E,G){try{G.parentNode.insertBefore(E,G.nextSibling);}catch(F){G.parentNode.appendChild(E);}},insert_before:function(E,F){F.parentNode.insertBefore(E,F);},insert_inside:function(E,F){F.appendChild(E);},extend:function(E,G){var F;for(F in G){if(typeof G[F]=="object"){if(E[F]!=G[F]){if(typeof E[F]=="undefined"){E[F]={};}this.extend(E[F],G[F]);}}else{E[F]=G[F];}}},override_style:function(I,G,H){var E="#"+I,F;for(F in G){G[F]+=" !important";}m.add_json_style(E,G,H);},add_json_style:function(E,H,J,I){var G=E+"{",F;for(F in H){G+=F+":"+H[F]+";";}G+="}";m.add_css_style(G,J,I);},add_css_style:function(L,F,K){var G="css-style-generic",E=[G],I,M,J;if(!F||!F.length){F=G;}else{E.push(F);}if(!K){K="a";}for(J in E){if(!z(E[J])){I=s.createElement("style");I.setAttribute("type","text/css");I.id=E[J];i("head")[0].appendChild(I);}}I=z(F);if(I.styleSheet&&"cssText" in I.styleSheet){M=(K==="a"?I.styleSheet.cssText:"")+L;I.styleSheet.cssText=M;}else{M=(K==="a"?I.innerHTML:"")+L;try{I.innerHTML=M;}catch(H){I.innerText=M;}}},add_css_file:function(E,G){if(!G){G="css-file-generic";}var F=z(G);if(!F){F=s.createElement("link");F.setAttribute("type","text/css");F.rel="stylesheet";F.id=G;i("head")[0].appendChild(F);}F.href=E;},set:function(F,E){var G=F.split(":");if(G[0]=="cookie"){m.cookie.set(G[1],E);}else{m.cache.set(G[1],E);}},get:function(E){var F=E.split(":");if(F[0]=="cookie"){return m.cookie.get(F[1]);}else{return m.cache.get(F[1]);}},erase:function(E){var F=E.split(":");if(F[0]=="cookie"){return m.cookie.erase(F[1]);}else{return m.cache.erase(F[1]);}},cache:{set:function(E,F){q[E]=F;},get:function(E){return q[E];},erase:function(E){delete q[E];}},load_script:function(F){var E=s.createElement("script");E.type="text/javascript";E.src=F;i("head")[0].appendChild(E);},load_script_notify:function(H,E){var F=s.createElement("script"),G=false;F.type="text/javascript";F.src=H;F.onload=F.onreadystatechange=function(){var I=this.readyState;if((G)||(I&&I!="complete"&&I!="loaded")){return;}G=true;s.body.removeChild(F);if("function"===typeof(E)){E(H);}};s.body.appendChild(F);},one_way_send:function(E){imageObj=new Image(0,0);imageObj.src=E;this.one_way_send_record.push(imageObj);},extensions:{String:{chained_replace:function(F){var H=this,E;for(E=0;E<F.length;E++){var G=F[E];H=H.replace(G[0],G[1]);}return H;},collapse:function(F,E){var H=this;while(H.length>E){var G=H.replace(F,"");if(G.length==H.length){break;}H=G;}return H;}}},load_when_visible:function(E,K){var H=0;var J=jQuery(n);var I=J.height()+J.scrollTop();if(jQuery("#"+E).length){var G=jQuery(jQuery("#"+E).get(0));var F=G.offset().top;if(I>F){K(E);}else{J.scroll(function(){I=J.height()+J.scrollTop();F=G.offset().top;if((I>F)&&!H){H=1;K(E);}});}}else{K(E);}},unload_plugins:function(){var J=[s],M,E,I,F,L,G,K=new RegExp("^("+location.protocol+"//"+location.hostname+")?(/.*)?$"),H=function(N){var O,P;for(O=N.length-1;O>=0;O--){P=N[O];P.parentNode.removeChild(P);}};while(J.length){M=J.pop();H(M.getElementsByTagName("object"));H(M.getElementsByTagName("embed"));I=M.getElementsByTagName("iframe");for(G=I.length-1;G>=0;G--){F=I[G];if(K.test(F.src)){L=F.contentWindow.document;if(L){J.push(L);}}else{H([F]);}}}}});String.prototype.chained_replace=m.extensions.String.chained_replace;String.prototype.collapse=m.extensions.String.collapse;this.custom={amazon:{segments:null,complete_segments:null,aan_call_name:"aan_call",get_segments:function(E){if(!this.segments){var F=m.cookie.get(C)||"";F=F.replace(/[^a-zA-Z0-9;=]/g,"");this.segments=F.collapse(/s=[^;]*;$/,E);var G=F.length-this.segments.length;if(G!==0){m.monitoring.record_metric("seg_trimmed",G);}}return this.segments;},load_callback:function(E){this.complete_segments=E;trimmed_segs=E.collapse(/s=[^;]*;$/,w);m.cookie.set(C,trimmed_segs,7);if(this.segments===null){m.monitoring.stop_timing(this.aan_call_name,"in_time",false);csm.measure("csm_aan_response.in_time");}else{m.monitoring.stop_timing(this.aan_call_name,"late",false);csm.measure("csm_aan_response.late");}},aan_iframe_oncall:function(){m.monitoring.start_timing(custom.amazon.aan_call_name);csm.measure("csm_aan_request");}},doubleclick:(function(){var E=[],I=function(L){L=L.replace(j,e);L=L.replace(g,E.join(";"));L=L.chained_replace(B);var J=u-L.chained_replace([[p,""],[/^[^\;]*/,""]]).length;var K=custom.amazon.get_segments(J);return L.replace(p,K);},F=/\[PLAYLISTINDEX\]/,G=/\[PLAYLISTID\]/,H=/\[PLAYERTYPE\]/;return{construct_url:function(K){var J=(K.match(";ifb=pf;"))?"pfadj":"adj";var L=escape(K.substring(1,K.length));L=I(L);return s.location.protocol+"//ad.doubleclick.net/N"+ad_utils.dart_network_code+"/"+J+"/"+L;},construct_video_url:function(K,J){K=I(K);K=K.replace(F,"vi="+(J.listindex||"0"));K=K.replace(G,J.list?"vl="+J.list:"");K=K.replace(H,"vt="+J.playertype);return s.location.protocol+"//ad.doubleclick.net/N"+ad_utils.dart_network_code+"/pfadx/"+K;},add_client_side_keyvalue:function(J,K){E.push(J+"="+K);}};})(),indirect:{close:function(E){if(E.location.href.match("floater")){custom.floater.close(E.frameElement.id);}}},full_page:{style_id:"custom__full_page__generated_styles",data_url:"/images/a/js/graffiti_data.js",apply:function(F){var E=this;s.getElementById("root").style.boxShadow="none";n.generic.on_document_ready(function(){E.settings=F;if("styles" in E){E._apply();}else{n.generic.load_script_notify(E.data_url,function(){E._apply();});}});},_apply:function(){var G,H=this.settings.ARGS.split(/&/),F={},E=this,J="/* ARGS:"+this.settings.ARGS+" */\n";jQuery.each(H,function(L,M){var K=/^(.*)=(.*)$/.exec(M);if(K.length===3){F[K[1]]=unescape(K[2].replace(/\+/g," "));}});G=this.invert_styles(F.treatment);jQuery.each(G,function(K,L){if(L.fixed){J+=E.format_css(L,L.fixed);}else{if(F[K]||L["default"]){J+=E.format_css(L,F[K]);}}});try{jQuery("style#"+this.style_id).remove();jQuery("head").append(jQuery('<style type="text/css">').attr("id",this.style_id).html(J));}catch(I){m.add_css_style(J,this.style_id,"o");}},invert_styles:function(F){var G=["default","important","fixed"],E={};jQuery.each(this.styles[F],function(I,H){jQuery.each(H,function(J,K){var L=E[K.name]={style:I,selector:K.selector};jQuery.each(G,function(N,M){if(K[M]){L[M]=K[M];}});});});return E;},format_css:function(E,F){return E.selector+" { "+E.style+" : "+(F?F:E["default"])+(E.important?" !important ":"")+"}\n";}},floater:{close:function(E){m.extend(z(E),{style:{width:"0px",height:"0px"}});},launch:function(E,M,J,K,I,G,F){var H=s.createElement("iframe"),L=typeof K==="string"?z(K):K;if(J!="none"){setTimeout(function(){custom.floater.close(F);},J*1000);}m.extend(H,{id:F,name:F,src:E,width:M[0]+"px",height:M[1]+"px",frameBorder:"0",scrolling:"no",allowTransparency:"true",style:{marginLeft:G[0]+"px",marginTop:G[1]+"px",zIndex:G[2],position:"absolute"}});I(H,L);},set:function(I,G,H,E,F,J){m.cache.set("floater",I);var K="floater_"+Math.ceil(Math.random()*9999999);custom.floater.launch(D+"?source=cache:floater",G,H,E,F,J,K);return K;}}};var f=function(E,F){return((F))?'<param name="'+E+'" value="'+F+'">':"";};var y=function(E,F){return((F))?" "+E+'="'+F+'" ':"";};this.flashAdUtils={makeFlashAd:function(L){var W=L.id,M=L.src,X=L.width,O=L.height,Q=L.bgcolor,ah=L.wmode||"opaque",N=L.salign,aj=L.scale,af=L.extraParams,ag=L.extraTAGs,Z=L.minVersion,E=escape(L.clickThru),ae=L.clickTAGs,H=function(al){return al!==null&&al!==l&&(al+"").length;},ad=function(al){return isFinite(parseInt(al,10));},J="",ac,ak,R;if(!H(W)||!H(M)||!ad(X)||!ad(O)){consoleLog("makeFlashAd: Missing required params","flashAdUtils");return;}if(!flashAdUtils.canPlayFlash(Z)){consoleLog("makeFlashAd: Current flash version too low","flashAdUtils");}if((ae)){for(ac=0;ac<ae.length;ac++){if(ae[ac]){J=J+"&clickTAG"+(ac+1)+"="+escape(ae[ac]);}}}if((ag)){for(ak in ag){J=J+"&"+escape(ak)+"="+escape(ag[ak]);}}J+="&ord="+ad_utils.ord;var F="";var U="";try{var T={width:1,height:1,src:1,bgcolor:1,wmode:1,salign:1,scale:1,flashvars:1};for(R in af){if(T[R]){continue;}F=F+f(R,af[R]);U=U+y(R,af[R]);}}catch(P){}var ab=f("bgcolor",Q);var K=y("bgcolor",Q);var aa=f("wmode",ah);var I=y("wmode",ah);var Y=f("scale",aj);var G=y("scale",aj);var ai=f("salign",N);var S=y("salign",N);var V='<object  classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"  codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"  width="'+X+'"  height="'+O+'"  id="swf_'+W+'"><param name="movie" value="'+M+'"><param name="flashvars" value="env=WEB&clickTAG='+E+"&"+J+'"><param name="play" value="true"><param name="quality" value="high"><param name="allowScriptAccess" value="always">'+Y+ai+ab+aa+F+'<div style="margin-left:0.1px"><embed src="'+M+'"  flashvars="env=WEB&clickTAG='+E+"&"+J+'"  quality="high"  play="true"  width="'+X+'"  height="'+O+'"  name="swf_'+W+'"  allowScriptAccess="always"  type="application/x-shockwave-flash"  pluginspage="http://www.macromedia.com/go/getflashplayer" '+G+S+K+I+U+"></embed></div></object>";return V;},canPlayFlash:function(F){var J=false;var M=parseInt(F,10);if(!F||M<9){F=9;}else{F=M;}var E=(navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"])?navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin:0;if(E&&navigator.plugins["Shockwave Flash"]){var O=navigator.plugins["Shockwave Flash"].description.split(" "),N,H;for(H=0;H<O.length;++H){if(isNaN(parseInt(O[H],10))){continue;}N=parseInt(O[H],10);}J=N>=F;}else{if(navigator.userAgent&&navigator.userAgent.indexOf("MSIE")>=0&&(navigator.appVersion.indexOf("Win")!==-1)){try{var I=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+F);I.AllowScriptAccess="always";var L=I.GetVariable("$version");var K=L.match(/([0-9]+)/);J=K[1]>=F;}catch(G){}}}return J;}};h.store();m.on_document_ready(function(F){var E;F(n).load(function(){h.store();});});m.on_document_ready(function(){r(n,"unload",function(){m.unload_plugins();});});if(k){m.on_document_ready(function(){m.monitoring.record_metric("ads_js_response",k);});}})(window,document);(function(b){var f={},e={},d=function(h,l,i,j){var k=new c(l,i,j?j:{});try{h(k);}catch(g){consoleError(g);}},a=function(h,g){return h+":"+g;},c=function(i,g,h){this.slot=i;this.event=g;this.data=h;};b.slot_events={listen:function(n,j,k){var g=j.replace(/(^\s+|\s+$)/g,"").split(/\s+/),m,l,h;for(h=0;h<g.length;h++){l=g[h];m=a(n,l);if(m in e){d(k,n,l,e[m]);}else{(f[m]=f[m]||[]).push(k);}}return this;},trigger:function(m,j,k){var l=a(m,j),h=f[l]||[],g;if(l in e){consoleError("attempted to fire "+l+", but it has already fired!");return;}e[l]=k;for(g=0;g<h.length;g++){d(h[g],m,j,k);}return this;}};})(window.ad_utils);(function(a){a.install(a,{extended_split:function(g,f,b){var d=[],c=0,e;while(!b||d.length<b-1){e=g.indexOf(f,c);if(e===-1){break;}d.push(g.substring(c,e));c=e+f.length;}d.push(g.substring(c));return d;},object_from_querystring:function(f){var d=f.split("&"),e={},b,c;if(f===""){return{};}for(b=0;b<d.length;b++){c=a.extended_split(d[b],"=",2);e[c[0]]=(c.length===1)?null:decodeURIComponent(c[1]);}return e;},cookie:{set:function(f,h,i){var c,b,e,g;if(i){var d=new Date();d.setTime(d.getTime()+(i*24*60*60*1000));c="; expires="+d.toGMTString();}else{c="";}b=document.location.host.split(".");e=b.pop();g=b.pop();document.cookie=f+"="+escape(h)+c+"; path=/; domain="+g+"."+e;},get:function(c){var b=document.cookie.split(";"),d,e;for(d=0;d<b.length;d++){if(typeof b[d]!="string"){continue;}e=b[d].split("=");if(e[0]&&e[1]&&e[0].replace(/\s/,"")==c){return unescape(e[1]);}}return null;},erase:function(b){this.set(b,"",-1);}}});})(window.generic);(function(j,n,d){var o=(j.generic=j.generic||{});var b={};var k=j.IMDbTimer;var a=("IMDbTimer" in j)?j.IMDbTimer.starttime:NaN,p=n.location.hash.match("debug=1"),g=p||(!isNaN(a)&&Math.random()<0.25),f=p||(Math.random()<0.1),h=("/"===n.location.pathname||"/index.html"===n.location.pathname||"/index"===n.location.pathname),m=null;var i=(function(){var q={},u={top_ad:d,top_rhs:d,bottom_ad:d},r={top_ad:1,top_rhs:1,injected_navstrip:1,injected_billboard:1,bottom_ad:2,middle_rhs:2,btf_rhs2:2,rhs_cornerstone:2},v={top_ad:1,top_rhs:1,bottom_ad:1},s={reflow:1,"ad-delivery":1,load:1},t={};o.on_document_ready(function(w){w(j).bind("beforeunload",function(){var y,x;for(y in q){x=q[y];if(x.request&&x.load===d){o.monitoring.record_event("ad_load_failure."+y);}}o.monitoring.send_metrics();});});return{is_slot_monitored:function(w){return(w in r)||(w in v);},is_twilight_slot:function(w){return(w in r);},is_twilight_core_slot:function(w){return(w in r&&r[w]===1);},is_forester_slot:function(w){return(w in v);},is_forester_event:function(x,w){return this.is_forester_slot(x)&&w in s;},set_metric_value:function(y,w,x){(q[y]=q[y]||{})[w]=x;},get_metric_value:function(x,w){if(x in q){return q[x][w];}},core_slots:function(){var x={},w;for(w in r){if(r[w]===1){x[w]=1;}}return x;},get_core_slots_duration:function(w){var x=0,y;for(y in i.core_slots()){if(d===this.get_metric_value(y,w)){return null;}x=Math.max(x,this.get_metric_value(y,w));}return x;},record_slot_status:function(x){var w=x.match(/^(.*)\.(got_ad|null|blank)$/);if(w){t[w[1]]=w[2];}},core_slots_have_an_ad:function(){var x,w=false;for(x in i.core_slots()){if(!(x in t)){return null;}if(t[x]==="got_ad"){w=true;}}return w;},set_remnant_partner:function(x,w){u[x]=w;return this;},get_remnant_partner:function(w){return u[w];}};})();var l="http://www.imdb.com/twilight/?";var c=(function(){var r=(function(){var t="DART";return{prepare_and_send_metric:function(u,x,w,v){s({slot:x,ad_network_name:t,aid:u.aid,cid:u.cid,slot_event:w,time:v});}};})(),q=(function(){var t="PDA",v=20,u=100;return{prepare_and_send_metric:function(B,A,z){var y,x=v,w;w=function(){y=ad_utils.get_cornerstone_ad_object(B);if(y){s({slot:B,ad_network_name:t,aid:y.adId,cid:y.creativeId,slot_event:A,time:z});}else{if(--x){setTimeout(w,u);}else{}}};w();}};})(),s=function(x){var B,y,F,z,t,u,D,C,w,E,A;if(!f||!i.is_forester_slot(x.slot)){return;}B="http://fls-na.amazon.com/1/display-ads-cx/1/OP/?";y="LMET";F="imdb";z=ad_utils.get_mapped_amazon_slot_name(x.slot);t=page_type;u=x.ad_network_name;D=x.aid;C=x.cid;E=x.time;w=x.slot_event;A='{"s":"'+F+'","l":"'+z+'","p":"'+t+'","n":"'+u+'","a":"'+D+'","c":"'+C+'","m":"'+w+'","v":"'+E+'"}';if(p){consoleLog(A+" metrics sent","forester");}o.one_way_send(B+y+escape(A));};return{send_forester_metric:function(t,w,v,u){r.prepare_and_send_metric(t,w,v,u);q.prepare_and_send_metric(w,v,u);},set_page_type:function(t){page_type=t;}};})();this.csm=(function(){var q={};return{measure:function(s,r){this.record(s,this.duration(),r);},record:function(t,x,r,s){var v=q[t],u;if(g&&!csm.metrics[t]){o.monitoring.record_metric(t+(s?s:""),x,r);}csm.metrics[t]=x;if(v){for(u=0;u<v.length;u++){try{v[u](x,t);}catch(w){consoleLog("error invoking callback for "+t,"csm");}}delete q[t];}},duration:function(){return(new Date().getTime())-a;},listen:function(r,s){if(r in csm.metrics){setTimeout(s,0);}else{(q[r]=q[r]||[]).push(s);}},metrics:{}};})();o.monitoring={event_starts:{},event_stops:{},events_to_stop:0,event_duration:{},event_counters:[],all_events_started_flag:false,twilight_info:"",segmented_events_duration:{},twilight_client:(function(){var r=navigator.userAgent,q;q=r.match(/MSIE (\d+)/);if(q&&q[1]>=6){return"ie"+q[1];}q=r.match(/Mac OS.*Firefox\/(\d+)/);if(q){return q[1]==="3"?"firefox3-mac":"firefox-mac";}q=r.match(/Firefox\/(\d+)/);if(q){return q[1]==="3"?"firefox3":"firefox";}if(r.indexOf("Chrome")!==-1){return"chrome";}if(r.indexOf("Safari")!==-1){return"safari";}if(r.indexOf("Opera")!==-1){return"opera";}return"Other";})(),isTwilightActiveSample:g,page_type:"",start_timing:function(q){this.start_timing_at(q,new Date().getTime());},start_timing_at:function(q,r){this.event_starts[q]=r;this.events_to_stop++;},stop_timing:function(s,r,q){var u=new Date().getTime(),t=s;if(!this.event_starts[s]){return;}this.event_stops[s]=u;if(r){t+="."+r;}this.record_metric(t,u-this.event_starts[s]);delete this.event_starts[s];this.events_to_stop--;if(q||(this.all_events_started_flag&&this.events_to_stop===0)){this.send_metrics();}},record_event:function(s,q){var r;this.event_counters.push(s);if(s in b){for(weblab in b[s]){r=s+"__weblab_"+weblab;this.event_counters.push(r);consoleLog(r,"twilight");}}consoleLog(s,"twilight");if(q){this.send_metrics();}},record_metric:function(t,u,q){var s,r;i.record_slot_status(t);this.event_duration[t]=u;this.record_segmented_metric(t,u);consoleLog(t+","+u,"twilight");if(t in b){for(s in b[t]){r=t+"__weblab_"+s;this.event_duration[r]=u;this.record_segmented_metric(r,u);consoleLog(r+","+u,"twilight");}}if(q){this.send_metrics();}},record_segmented_metric:function(r,s){var q;if(h){if(!m){q=i.core_slots_have_an_ad();if(q!==null){m=q?"adOnly":"adBlank";consoleLog("resolved core_ads status on page marked for metrics segmentation: "+m);}}this.segmented_events_duration[r]=s;}},send_metrics:function(){var r=l+this.twilight_info,t,v=[],q=0,z="",x=function(A,B){v.push(function(){q++;return"&Operation."+q+"="+A+"&OperationTiming."+q+"="+B;});},w=function(A){v.push(function(){q++;return"&Counter."+q+"="+A;});},s=function(){if(z.length){o.one_way_send(r+z+"&ord="+ad_utils.ord);consoleLog("metrics sent ("+q+")","twilight");z="";q=0;}},y=1700,u;for(t in this.event_duration){x(t,this.event_duration[t]);}this.event_duration={};if(h&&m){for(t in this.segmented_events_duration){x(m+"_"+t,this.segmented_events_duration[t]);}this.segmented_events_duration={};}for(u=0;u<this.event_counters.length;u++){w(this.event_counters[u]);}this.event_counters=[];for(u=0;u<v.length;u++){z+=v[u]();if(z.length+r.length>y){s();}}s();},set_twilight_info:function(r,q,u,s,t){if(k&&k.pt==="java"){r+=".java";}this.twilight_info="PageType="+r+"&Geo="+q+"&tw_ord="+u+"&timestamp="+s+"&Client="+this.twilight_client;l=t;},set_forester_info:function(q){c.set_page_type(q);},all_events_started:function(){this.all_events_started_flag=true;},set_remnant_partner:function(r,q){var s=r.frameElement.id;i.set_remnant_partner(s,q);},get_remnant_partner:function(q){return i.get_remnant_partner(q)||"none";},update_slot_metrics:function(s,r,u){var q,w,x,v=n.getElementById(s),y=v?v.contentWindow.document.ad:null,t=(("load"===r&&i.get_remnant_partner(s))?("."+i.get_remnant_partner(s)):"");if(!(s)||!i.is_slot_monitored(s)||i.get_metric_value(s,r)!==d){return;}i.set_metric_value(s,r,(d!==u)?u:csm.duration());w=i.get_metric_value(s,r);if(y&&i.is_forester_event(s,r)){c.send_forester_metric(y,s,r,w);if(r==="load"){c.send_forester_metric(y,s,"ad-delivery",i.get_metric_value(s,"load")-i.get_metric_value(s,"request"));}}if(i.is_twilight_slot(s)){x=s;csm.record("csm_"+x+"_"+r,w,0,t);if("load"===r&&""!==t){csm.record("csm_"+x+"_deliver",w-i.get_metric_value(s,"tagdeliver"),0,t);}if(i.is_twilight_core_slot(s)){q=i.get_core_slots_duration(r);if(q!==null){csm.record("csm_core_ads_"+r,q);}if(r==="load"&&/^(\/|\/title\/tt\d+\/|\/name\/nm\d+\/)$/.test(n.location.pathname)){csm.record(("csm_"+x+e.get_network_name(s)+e.get_in_weblab()+"_timeout"),w,0,e.get_level_for_load(page_type,w));}}}},get_metric_value:function(r,q){return i.get_metric_value(r,q);},enable_weblab_metrics:function(r,q,u){var t,s;for(t=0;t<u.length;t++){s=u[t];b[s]=b[s]||{};b[s][r+"_"+q]=1;}}};var e=(function(){return{get_network_name:function(q){if(i.get_remnant_partner(q)){return"_remnant";}else{return"_direct";}},get_in_weblab:function(){return"_natural";},get_level_for_load:function(s,t){var q={homepage:[1200,3600],title:[1400,4600],name:[1500,4200]}[s],r=[1200,3600],u;if(!q){q=r;}if(t<q[0]){u=".1";}else{if(t<q[1]){u=".2";}else{u=".3";}}return u;}};})();o.on_document_ready(function(r){var q;r(j).bind("beforeunload",function(s){var t=(n.location+"").split("#",2)[0];j.name="clicktoresponse:"+(new Date()).getTime()+":"+t;});if(!o.monitoring.isTwilightActiveSample){return;}csm.measure("csm_ready");r(j).load(function(){csm.measure("csm_load",true);});r("div.dfp_slot").each(function(){o.monitoring.record_event("dfp_slot");});q=parseInt(r("#servertime").attr("time"),10);if(!isNaN(q)){o.monitoring.record_metric("csm_server",q);}});(function(){if(n.location.protocol==="http:"){var q=j.name.match(/^clicktoresponse:(\d+):(.*)$/),r;if(q){if(n.referrer===q[2]&&k){r=k.starttime-q[1];k.clicktoresponse=r;o.monitoring.record_metric("click_to_response",r);}j.name="";}}})();})(window,document);if(window.IMDbTimer&&window.IMDbTimer.events){(function(c,b,a){generic.send_csm_head_metrics=function(){c.record("csm_head_pre_title",a.csm_head_pre_title-b);c.record("csm_head_post_title",a.csm_head_post_title-b);c.record("csm_head_pre_css",a.csm_head_pre_css-b);c.record("csm_head_post_css",a.csm_head_post_css-b);c.record("csm_head_pre_icon",a.csm_head_pre_icon-b);c.record("csm_head_post_icon",a.csm_head_post_icon-b);c.record("csm_head_pre_ads",a.csm_head_pre_ads-b);};})(csm,IMDbTimer.starttime,IMDbTimer.events);}(function(a,d){var c="top_ad injected_billboard injected_navstrip middle_rhs btf_rhs2 rhs_cornerstone bottom_ad".split(" "),e,b;if(typeof a!=="function"||typeof d!=="function"){consoleLog("uet() / uex() not available, will not record CSM metrics","ads-amazon-csm");return;}for(b=0;b<c.length;b++){e=c[b];ad_utils.slot_events.listen(e,"iframe",function(f){a("bb",f.slot,{wb:1});});ad_utils.slot_events.listen(e,"load",function(f){a("be",f.slot,{wb:1});d("ld",f.slot,{wb:1});});}})(window.uet,window.uex);var $$FSR={timestamp:"March 19, 2012 @ 11:24 AM",version:"11.3.0",enabled:true,sessionreplay:true,auto:true,encode:false,files:"/images/a/foresee/",id:"F7CwY6EhDVagBMK5Os76kQ==",definition:"foresee-surveydef.js",embedded:false,replay_id:"imdb.com",renderer:"W3C",layout:"CENTERFIXED",sites:[{path:/\w+-?\w+\.(com|org|edu|gov|net|co\.uk)/},{path:".",domain:"default"}],storageOption:"cookie"};(function(r,l,o){for(var q=r.sites,p=0,k=q.length;p<k;p++){var n;"[object Array]"!==Object.prototype.toString.call(q[p].path)&&(q[p].path=[q[p].path]);for(var m=0,j=q[p].path.length;m<j;m++){if(n=o.location.href.match(q[p].path[m])){r.siteid=p;r.site=r.sites[p];r.site.domain?"default"==r.site.domain&&(r.site.domain=null):r.site.domain=n[0];r.site.secure||(r.site.secure=null);r.site.name||(r.site.name=n[0]);break;}}if(n){break;}}q={b:function(a){var c;c=(a=o.cookie.match("(?:^|;)\\s*"+a.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")+"=([^;]*)"))?a[1]:null,a=c;r.encode&&(a=a?decodeURIComponent(a):null);return a;},a:function(){o.cookie="fsr.a"+(r.site.cookie?"."+r.site.cookie:"")+"="+(new Date).getTime()+";path=/"+(r.site.domain?";domain="+r.site.domain+";":";")+(r.site.secure?"secure":"");}};if(!q.b("fsr.a"+(r.site.cookie?"."+r.site.cookie:""))){q.a(),l.fsr$timer=setInterval(q.a,1000),o.cookie="fsr.paused=1;path=/"+(r.site.domain?";domain="+r.site.domain+";":";")+(r.site.secure?"secure":"");}})($$FSR,window,window.document);