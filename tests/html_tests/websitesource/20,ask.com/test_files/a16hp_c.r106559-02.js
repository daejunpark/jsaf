__va=(function(){if(navigator.userAgent&&navigator.userAgent.match(/bingbot|googlebot/i)){return ;
}var K=L(),M=/([&?])(oo=\d+)/i,Q;
var P=N();
function J(U){U=U?U.toString():"";
return U.replace(/^\s\s*/,"").replace(/\s\s*$/,"");
}function R(V,W,U){if(V.addEventListener){V.addEventListener(W,U,false);
}else{if(V.attachEvent){V.attachEvent("on"+W,U);
}else{V["on"+W]=U;
}}}function H(V){V=V||window.event;
var U=V.target||V.srcElement;
if(U&&U.tagName&&U.tagName.toLowerCase()==="a"){return U;
}else{while(U.parentNode){if(U.parentNode.tagName&&U.parentNode.tagName.toLowerCase()==="a"){return U.parentNode;
}else{U=U.parentNode;
}}return null;
}}function F(V){var W=document.cookie.split("; ");
for(var U=0,X;
X=W[U]&&W[U].split("=");
U++){if(decodeURIComponent(X[0])===V){return(X.length>2)?decodeURIComponent(X.slice(1,X.length).join("=")):(decodeURIComponent(X[1])||"");
}}return null;
}function E(W,X,V){var U;
if(X){if(Array.prototype.indexOf){return Array.prototype.indexOf.call(X,W,V);
}U=X.length;
V=V?V<0?Math.max(0,U+V):V:0;
for(;
V<U;
V++){if(V in X&&X[V]===W){return V;
}}}return -1;
}function L(){var U=window.location.href.match(/([&?])(oo=)(\d+)/i),V=window.location.href.match(/([&?])(o=)(\d+)/i);
return F("oo")?F("oo"):U?U[3]:V?V[3]:null;
}function N(){return F("askid");
}function D(){if("undefined"!=typeof _downstreamOOCode&&_downstreamOOCode){T("oo",_downstreamOOCode,"/",".ask.com","");
}}function T(V,X,Z,W,Y){var U=new Date();
U.setTime(U.getTime()+30*60*1000);
document.cookie=V+"="+X+((U)?"; expires="+U.toGMTString():"")+((Z)?"; path="+Z:"")+((W)?"; domain="+W:"")+((Y)?"; secure":"");
}function G(V){if(typeof V==="string"&&V.indexOf(J(window.location.hostname.match(/\w+\.\w+$/)))==-1){if(V.indexOf("http://")!==-1){var U=document.createElement("a");
U.href=V;
V=U.hostname;
}var X=["ask.com","directhit.com","teoma.com","bloglines.com","life123.com","bizplenty.com","destinationthere.com","fieldhealth.com","politifeist.com","hobbyplow.com","fashionporch.com","catchfitness.com","fashiongets.com","askkids.com","bloglines.com","inertainment.com","soundsandlyrics.com","addictexplained.com","planforholidays.com","adrivingneed.com","mathematicsofscience.com","gardenandhearth.com","myhealthanswers.co.uk","askmoneyquestions.com","adultqs.com","co.uk","askmoneyquestions.com"];
var W=V.match(/\w+\.\w+$/);
return(W&&E(J(W),X)!==-1);
}else{return false;
}}function S(U){U=U.toString()||"";
if(U.indexOf("url=&u=")!==-1){var V=U.match(/([&?])(url=&u=)(\S+)/i);
return V[3]?V[3]:"";
}else{return U;
}}function O(V,W){V=V?V.toString():"";
function Y(Z,a){if(Z.match(M)){Z=Z.replace(M,"$1oo="+a);
}else{if(Z){Z+=(Z.indexOf("?")===-1)?("?oo="+a):("&oo="+a);
}}if(P!=null){Z+=(Z.indexOf("?")===-1)?("?askid="+P):("&askid="+P);
}if("undefined"!=typeof _isOOSEM&&_isOOSEM){Z+=(Z.indexOf("?")===-1)?("?pd=1"):("&pd=1");
}return Z;
}var X=(V.indexOf("url=&u=")!==-1),U=S(V);
U=Y(U,W);
if(X){U=V.replace(/([&?])(url=&u=)(\S+)/ig,("$1url=&u="+U));
}return U;
}function C(W){var U=H(W);
if(U){var V=A(U);
if(V){U.href=V;
}}}function A(V){var U=S(V.href);
if(G((U))){if(K!=null){if("undefined"!=typeof _isOOSemAgency&&_isOOSemAgency){D();
}return O(V.href,K);
}}}function I(){if(!Q){R(document,"click",C);
var W=document.getElementsByTagName("form");
for(var U=0;
U<W.length;
U++){if(G(W[U].action)){if(K!=null){var V=document.createElement("div");
V.innerHTML="<input type='hidden' name='oo' value='"+K+"'/>";
V=V.firstChild;
W[U].appendChild(V);
}}}Q=true;
}}if(document.addEventListener){var B=function(){document.removeEventListener("DOMContentLoaded",B,false);
I();
};
}else{if(document.attachEvent){B=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",B);
I();
}};
}}if(document.readyState==="complete"){setTimeout(I,1);
}if(document.addEventListener){document.addEventListener("DOMContentLoaded",B,false);
window.addEventListener("load",I,false);
}else{if(document.attachEvent){document.attachEvent("onreadystatechange",B);
window.attachEvent("onload",I);
}}return{getRARedirectURL:A};
})();

jQuery.cookie=function(B,I,L){if(typeof I!="undefined"){L=L||{};
if(I===null){I="";
L.expires=-1;
}var E="";
if(L.expires&&(typeof L.expires=="number"||L.expires.toUTCString)){var F;
if(typeof L.expires=="number"){F=new Date();
F.setTime(F.getTime()+(L.expires*24*60*60*1000));
}else{F=L.expires;
}E="; expires="+F.toUTCString();
}var K=L.path?"; path="+(L.path):"";
var G=L.domain?"; domain="+(L.domain):"";
var A=L.secure?"; secure":"";
document.cookie=[B,"=",encodeURIComponent(I),E,K,G,A].join("");
}else{var D=null;
if(document.cookie&&document.cookie!=""){var J=document.cookie.split(";");
for(var H=0;
H<J.length;
H++){var C=jQuery.trim(J[H]);
if(C.substring(0,B.length+1)==(B+"=")){D=decodeURIComponent(C.substring(B.length+1));
break;
}}}return D;
}};

(function($){$.toJSON=function(o){if(typeof (JSON)=="object"&&JSON.stringify){return JSON.stringify(o);
}var type=typeof (o);
if(o===null){return"null";
}if(type=="undefined"){return undefined;
}if(type=="number"||type=="boolean"){return o+"";
}if(type=="string"){return $.quoteString(o);
}if(type=="object"){if(typeof o.toJSON=="function"){return $.toJSON(o.toJSON());
}if(o.constructor===Date){var month=o.getUTCMonth()+1;
if(month<10){month="0"+month;
}var day=o.getUTCDate();
if(day<10){day="0"+day;
}var year=o.getUTCFullYear();
var hours=o.getUTCHours();
if(hours<10){hours="0"+hours;
}var minutes=o.getUTCMinutes();
if(minutes<10){minutes="0"+minutes;
}var seconds=o.getUTCSeconds();
if(seconds<10){seconds="0"+seconds;
}var milli=o.getUTCMilliseconds();
if(milli<100){milli="0"+milli;
}if(milli<10){milli="0"+milli;
}return'"'+year+"-"+month+"-"+day+"T"+hours+":"+minutes+":"+seconds+"."+milli+'Z"';
}if(o.constructor===Array){var ret=[];
for(var i=0;
i<o.length;
i++){ret.push($.toJSON(o[i])||"null");
}return"["+ret.join(",")+"]";
}var pairs=[];
for(var k in o){var name;
var type=typeof k;
if(type=="number"){name='"'+k+'"';
}else{if(type=="string"){name=$.quoteString(k);
}else{continue;
}}if(typeof o[k]=="function"){continue;
}var val=$.toJSON(o[k]);
pairs.push(name+":"+val);
}return"{"+pairs.join(", ")+"}";
}};
$.evalJSON=function(src){if(typeof (JSON)=="object"&&JSON.parse){return JSON.parse(src);
}return eval("("+src+")");
};
$.secureEvalJSON=function(src){if(typeof (JSON)=="object"&&JSON.parse){return JSON.parse(src);
}var filtered=src;
filtered=filtered.replace(/\\["\\\/bfnrtu]/g,"@");
filtered=filtered.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]");
filtered=filtered.replace(/(?:^|:|,)(?:\s*\[)+/g,"");
if(/^[\],:{}\s]*$/.test(filtered)){return eval("("+src+")");
}else{throw new SyntaxError("Error parsing JSON, source is not valid.");
}};
$.quoteString=function(string){if(string.match(_escapeable)){return'"'+string.replace(_escapeable,function(a){var c=_meta[a];
if(typeof c==="string"){return c;
}c=a.charCodeAt();
return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16);
})+'"';
}return'"'+string+'"';
};
var _escapeable=/["\\\x00-\x1f\x7f-\x9f]/g;
var _meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};
})(jQuery);

try{(function(A){if(!A||!(A.toJSON||Object.toJSON||window.JSON)){throw new Error("jQuery, MooTools or Prototype needs to be loaded before jStorage!");
}A.jStorage={version:"0.1.2.1",_storage:{},_storage_service:{jStorage:"{}"},_storage_elm:null,json_encode:A.toJSON||Object.toJSON||(window.JSON&&(JSON.encode||JSON.stringify)),json_decode:A.evalJSON||(window.JSON&&(JSON.decode||JSON.parse))||function(B){return String(B).evalJSON();
},_init:function(){var D;
if("localStorage" in window){this._storage_service=window.localStorage;
}else{if("globalStorage" in window){this._storage_service=window.globalStorage[document.domain];
}else{this._storage_elm=document.createElement("link");
if("addBehavior" in this._storage_elm){this._storage_elm.style.behavior="url(#default#userData)";
document.getElementsByTagName("head")[0].appendChild(this._storage_elm);
try{this._storage_elm.load("jStorage");
}catch(B){D="{}";
}try{D=this._storage_elm.getAttribute("jStorage");
}catch(B){D="{}";
}if(D&&D.length){this._storage_service.jStorage=D;
}}else{this._storage_elm=null;
return ;
}}}if("jStorage" in this._storage_service&&this._storage_service.jStorage){try{this._storage=this.json_decode(this._storage_service.jStorage);
}catch(C){this._storage_service.jStorage="{}";
}}else{this._storage_service.jStorage="{}";
}},_save:function(){if(this._storage_service){try{this._storage_service.jStorage=this.json_encode(this._storage);
}catch(C){}if(this._storage_elm){try{this._storage_elm.setAttribute("jStorage",this._storage_service.jStorage);
this._storage_elm.save("jStorage");
}catch(B){}}}},_checkKey:function(B){if(!B||(typeof B!="string"&&typeof B!="number")){throw new TypeError("Key name must be string or numeric");
}return true;
},set:function(B,C){this._checkKey(B);
this._storage[B]=C;
this._save();
return C;
},get:function(B,C){this._checkKey(B);
if(B in this._storage){return this._storage[B];
}return C?C:null;
},deleteKey:function(B){this._checkKey(B);
if(B in this._storage){delete this._storage[B];
this._save();
return true;
}return false;
},flush:function(){this._storage={};
this._save();
if("localStorage" in window){localStorage.clear();
}return true;
}};
A.jStorage._init();
})(typeof jQuery!="undefined"&&jQuery||$);
}catch(e){}
(function($,P){var I,M=Array.prototype.slice,R=decodeURIComponent,A=$.param,C,L,V,B=$.bbq=$.bbq||{},Q,U,J,E=$.event.special,D="hashchange",a="querystring",d="fragment",Y="elemUrlAttr",G="location",K="href",T="src",X=/^.*\?|#.*$/g,W=/^.*\#/,H,c={};
function e(f){return typeof f==="string";
}function b(g){var f=M.call(arguments,1);
return function(){return g.apply(this,f.concat(M.call(arguments)));
};
}function N(f){return f.replace(/^[^#]*#?(.*)$/,"$1");
}function O(f){return f.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1");
}function F(h,m,f,i,g){var o,l,k,n,j;
if(i!==I){k=f.match(h?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/);
j=k[3]||"";
if(g===2&&e(i)){l=i.replace(h?W:X,"");
}else{n=L(k[2]);
i=e(i)?L[h?d:a](i):i;
l=g===2?i:g===1?$.extend({},i,n):$.extend({},n,i);
l=A(l);
if(h){l=l.replace(H,R);
}}o=k[1]+(h?"#":l||!k[1]?"?":"")+l+j;
}else{o=m(f!==I?f:P[G][K]);
}return o;
}A[a]=b(F,0,O);
A[d]=C=b(F,1,N);
C.noEscape=function(g){g=g||"";
var f=$.map(g.split(""),encodeURIComponent);
H=new RegExp(f.join("|"),"g");
};
C.noEscape(",/");
$.deparam=L=function(i,f){var h={},g={"true":!0,"false":!1,"null":null};
$.each(i.replace(/\+/g," ").split("&"),function(m,r){var l=r.split("="),q=R(l[0]),k,p=h,n=0,s=q.split("]["),o=s.length-1;
if(/\[/.test(s[0])&&/\]$/.test(s[o])){s[o]=s[o].replace(/\]$/,"");
s=s.shift().split("[").concat(s);
o=s.length-1;
}else{o=0;
}if(l.length===2){k=R(l[1]);
if(f){k=k&&!isNaN(k)?+k:k==="undefined"?I:g[k]!==I?g[k]:k;
}if(o){for(;
n<=o;
n++){q=s[n]===""?p.length:s[n];
p=p[q]=n<o?p[q]||(s[n+1]&&isNaN(s[n+1])?{}:[]):k;
}}else{if($.isArray(h[q])){h[q].push(k);
}else{if(h[q]!==I){h[q]=[h[q],k];
}else{h[q]=k;
}}}}else{if(q){h[q]=f?I:"";
}}});
return h;
};
function Z(h,f,g){if(f===I||typeof f==="boolean"){g=f;
f=A[h?d:a]();
}else{f=e(f)?f.replace(h?W:X,""):f;
}return L(f,g);
}L[a]=b(Z,0);
L[d]=V=b(Z,1);
$[Y]||($[Y]=function(f){return $.extend(c,f);
})({a:K,base:K,iframe:T,img:T,input:T,form:"action",link:K,script:T});
J=$[Y];
function S(i,g,h,f){if(!e(h)&&typeof h!=="object"){f=h;
h=g;
g=I;
}return this.each(function(){var l=$(this),j=g||J()[(this.nodeName||"").toLowerCase()]||"",k=j&&l.attr(j)||"";
l.attr(j,A[i](k,h,f));
});
}$.fn[a]=b(S,a);
$.fn[d]=b(S,d);
B.pushState=Q=function(i,f){if(e(i)&&/^#/.test(i)&&f===I){f=2;
}var h=i!==I,g=C(P[G][K],h?i:{},h?f:2);
P[G][K]=g+(/#/.test(g)?"":"#");
};
B.getState=U=function(f,g){return f===I||typeof f==="boolean"?V(f):V(g)[f];
};
B.removeState=function(f){var g={};
if(f!==I){g=U();
$.each($.isArray(f)?f:arguments,function(j,h){delete g[h];
});
}Q(g,2);
};
E[D]=$.extend(E[D],{add:function(f){var h;
function g(j){var i=j[d]=C();
j.getState=function(k,l){return k===I||typeof k==="boolean"?L(i,k):L(i,l)[k];
};
h.apply(this,arguments);
}if($.isFunction(f)){h=f;
return g;
}else{h=f.handler;
f.handler=g;
}}});
})(jQuery,this);
(function($,I,B){var J,K=$.event.special,C="location",D="hashchange",L="href",F=$.browser,G=document.documentMode,H=F.msie&&(G===B||G<8),E="on"+D in I&&!H;
function A(M){M=M||I[C][L];
return M.replace(/^[^#]*#?(.*)$/,"$1");
}$[D+"Delay"]=100;
K[D]=$.extend(K[D],{setup:function(){if(E){return false;
}$(J.start);
},teardown:function(){if(E){return false;
}$(J.stop);
}});
J=(function(){var M={},R,N,O,Q;
function P(){O=Q=function(S){return S;
};
if(H){N=$('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow;
Q=function(){return A(N.document[C][L]);
};
O=function(U,S){if(U!==S){var T=N.document;
T.open().close();
T[C].hash="#"+U;
}};
O(A());
}}M.start=function(){if(R){return ;
}var T=A();
O||P();
(function S(){var V=A(),U=Q(T);
if(V!==T){O(T=V,U);
$(I).trigger(D);
}else{if(U!==T){I[C][L]=I[C][L].replace(/#.*/,"")+"#"+U;
}}R=setTimeout(S,$[D+"Delay"]);
})();
};
M.stop=function(){if(!N){R&&clearTimeout(R);
R=0;
}};
return M;
})();
})(jQuery,this);

(function(I){function B(){this.regional=[];
this.regional[""]={labels:["Years","Months","Weeks","Days","Hours","Minutes","Seconds"],labels1:["Year","Month","Week","Day","Hour","Minute","Second"],compactLabels:["y","m","w","d"],whichLabels:null,timeSeparator:":",isRTL:false};
this._defaults={until:null,since:null,timezone:null,serverSync:null,format:"dHMS",layout:"",compact:false,significant:0,description:"",expiryUrl:"",expiryText:"",alwaysExpire:false,onExpiry:null,onTick:null,tickInterval:1};
I.extend(this._defaults,this.regional[""]);
this._serverSyncs=[];
}var L="countdown";
var C=0;
var J=1;
var E=2;
var A=3;
var N=4;
var K=5;
var G=6;
I.extend(B.prototype,{markerClassName:"hasCountdown",_timer:setInterval(function(){I.countdown._updateTargets();
},980),_timerTargets:[],setDefaults:function(D){this._resetExtraLabels(this._defaults,D);
F(this._defaults,D||{});
},UTCDate:function(T,S,R,P,O,M,H,D){if(typeof S=="object"&&S.constructor==Date){D=S.getMilliseconds();
H=S.getSeconds();
M=S.getMinutes();
O=S.getHours();
P=S.getDate();
R=S.getMonth();
S=S.getFullYear();
}var Q=new Date();
Q.setUTCFullYear(S);
Q.setUTCDate(1);
Q.setUTCMonth(R||0);
Q.setUTCDate(P||1);
Q.setUTCHours(O||0);
Q.setUTCMinutes((M||0)-(Math.abs(T)<30?T*60:T));
Q.setUTCSeconds(H||0);
Q.setUTCMilliseconds(D||0);
return Q;
},periodsToSeconds:function(D){return D[0]*31557600+D[1]*2629800+D[2]*604800+D[3]*86400+D[4]*3600+D[5]*60+D[6];
},_settingsCountdown:function(H,D){if(!D){return I.countdown._defaults;
}var M=I.data(H,L);
return(D=="all"?M.options:M.options[D]);
},_attachCountdown:function(H,D){var O=I(H);
if(O.hasClass(this.markerClassName)){return ;
}O.addClass(this.markerClassName);
var M={options:I.extend({},D),_periods:[0,0,0,0,0,0,0]};
I.data(H,L,M);
this._changeCountdown(H);
},_addTarget:function(D){if(!this._hasTarget(D)){this._timerTargets.push(D);
}},_hasTarget:function(D){return(I.inArray(D,this._timerTargets)>-1);
},_removeTarget:function(D){this._timerTargets=I.map(this._timerTargets,function(H){return(H==D?null:H);
});
},_updateTargets:function(){for(var D=this._timerTargets.length-1;
D>=0;
D--){this._updateCountdown(this._timerTargets[D]);
}},_updateCountdown:function(V,U){var T=I(V);
U=U||I.data(V,L);
if(!U){return ;
}T.html(this._generateHTML(U));
T[(this._get(U,"isRTL")?"add":"remove")+"Class"]("countdown_rtl");
var S=this._get(U,"onTick");
if(S){var R=U._hold!="lap"?U._periods:this._calculatePeriods(U,U._show,this._get(U,"significant"),new Date());
var Q=this._get(U,"tickInterval");
if(Q==1||this.periodsToSeconds(R)%Q==0){S.apply(V,[R]);
}}var P=U._hold!="pause"&&(U._since?U._now.getTime()<U._since.getTime():U._now.getTime()>=U._until.getTime());
if(P&&!U._expiring){U._expiring=true;
if(this._hasTarget(V)||this._get(U,"alwaysExpire")){this._removeTarget(V);
var O=this._get(U,"onExpiry");
if(O){O.apply(V,[]);
}var M=this._get(U,"expiryText");
if(M){var H=this._get(U,"layout");
U.options.layout=M;
this._updateCountdown(V,U);
U.options.layout=H;
}var D=this._get(U,"expiryUrl");
if(D){window.location=D;
}}U._expiring=false;
}else{if(U._hold=="pause"){this._removeTarget(V);
}}I.data(V,L,U);
},_changeCountdown:function(H,D,Q){D=D||{};
if(typeof D=="string"){var P=D;
D={};
D[P]=Q;
}var O=I.data(H,L);
if(O){this._resetExtraLabels(O.options,D);
F(O.options,D);
this._adjustSettings(H,O);
I.data(H,L,O);
var M=new Date();
if((O._since&&O._since<M)||(O._until&&O._until>M)){this._addTarget(H);
}this._updateCountdown(H,O);
}},_resetExtraLabels:function(H,D){var O=false;
for(var M in D){if(M!="whichLabels"&&M.match(/[Ll]abels/)){O=true;
break;
}}if(O){for(var M in H){if(M.match(/[Ll]abels[0-9]/)){H[M]=null;
}}}},_adjustSettings:function(T,S){var R;
var Q=this._get(S,"serverSync");
var P=0;
var O=null;
for(var D=0;
D<this._serverSyncs.length;
D++){if(this._serverSyncs[D][0]==Q){O=this._serverSyncs[D][1];
break;
}}if(O!=null){P=(Q?O:0);
R=new Date();
}else{var M=(Q?Q.apply(T,[]):null);
R=new Date();
P=(M?R.getTime()-M.getTime():0);
this._serverSyncs.push([Q,P]);
}var H=this._get(S,"timezone");
H=(H==null?-R.getTimezoneOffset():H);
S._since=this._get(S,"since");
if(S._since!=null){S._since=this.UTCDate(H,this._determineTime(S._since,null));
if(S._since&&P){S._since.setMilliseconds(S._since.getMilliseconds()+P);
}}S._until=this.UTCDate(H,this._determineTime(this._get(S,"until"),R));
if(P){S._until.setMilliseconds(S._until.getMilliseconds()+P);
}S._show=this._determineShow(S);
},_destroyCountdown:function(H){var D=I(H);
if(!D.hasClass(this.markerClassName)){return ;
}this._removeTarget(H);
D.removeClass(this.markerClassName).empty();
I.removeData(H,L);
},_pauseCountdown:function(D){this._hold(D,"pause");
},_lapCountdown:function(D){this._hold(D,"lap");
},_resumeCountdown:function(D){this._hold(D,null);
},_hold:function(H,D){var O=I.data(H,L);
if(O){if(O._hold=="pause"&&!D){O._periods=O._savePeriods;
var M=(O._since?"-":"+");
O[O._since?"_since":"_until"]=this._determineTime(M+O._periods[0]+"y"+M+O._periods[1]+"o"+M+O._periods[2]+"w"+M+O._periods[3]+"d"+M+O._periods[4]+"h"+M+O._periods[5]+"m"+M+O._periods[6]+"s");
this._addTarget(H);
}O._hold=D;
O._savePeriods=(D=="pause"?O._periods:null);
I.data(H,L,O);
this._updateCountdown(H,O);
}},_getTimesCountdown:function(H){var D=I.data(H,L);
return(!D?null:(!D._hold?D._periods:this._calculatePeriods(D,D._show,this._get(D,"significant"),new Date())));
},_get:function(H,D){return(H.options[D]!=null?H.options[D]:I.countdown._defaults[D]);
},_determineTime:function(M,H){var D=function(R){var Q=new Date();
Q.setTime(Q.getTime()+R*1000);
return Q;
};
var P=function(Z){Z=Z.toLowerCase();
var Y=new Date();
var X=Y.getFullYear();
var W=Y.getMonth();
var V=Y.getDate();
var U=Y.getHours();
var T=Y.getMinutes();
var S=Y.getSeconds();
var R=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g;
var Q=R.exec(Z);
while(Q){switch(Q[2]||"s"){case"s":S+=parseInt(Q[1],10);
break;
case"m":T+=parseInt(Q[1],10);
break;
case"h":U+=parseInt(Q[1],10);
break;
case"d":V+=parseInt(Q[1],10);
break;
case"w":V+=parseInt(Q[1],10)*7;
break;
case"o":W+=parseInt(Q[1],10);
V=Math.min(V,I.countdown._getDaysInMonth(X,W));
break;
case"y":X+=parseInt(Q[1],10);
V=Math.min(V,I.countdown._getDaysInMonth(X,W));
break;
}Q=R.exec(Z);
}return new Date(X,W,V,U,T,S,0);
};
var O=(M==null?H:(typeof M=="string"?P(M):(typeof M=="number"?D(M):M)));
if(O){O.setMilliseconds(0);
}return O;
},_getDaysInMonth:function(H,D){return 32-new Date(H,D,32).getDate();
},_normalLabels:function(D){return D;
},_generateHTML:function(a){var Z=this._get(a,"significant");
a._periods=(a._hold?a._periods:this._calculatePeriods(a,a._show,Z,new Date()));
var Y=false;
var X=0;
var W=Z;
var V=I.extend({},a._show);
for(var U=C;
U<=G;
U++){Y|=(a._show[U]=="?"&&a._periods[U]>0);
V[U]=(a._show[U]=="?"&&!Y?null:a._show[U]);
X+=(V[U]?1:0);
W-=(a._periods[U]>0?1:0);
}var T=[false,false,false,false,false,false,false];
for(var U=G;
U>=C;
U--){if(a._show[U]){if(a._periods[U]){T[U]=true;
}else{T[U]=W>0;
W--;
}}}var S=this._get(a,"compact");
var R=this._get(a,"layout");
var Q=(S?this._get(a,"compactLabels"):this._get(a,"labels"));
var P=this._get(a,"whichLabels")||this._normalLabels;
var O=this._get(a,"timeSeparator");
var M=this._get(a,"description")||"";
var H=function(d){var c=I.countdown._get(a,"compactLabels"+P(a._periods[d]));
return(V[d]?a._periods[d]+(c?c[d]:Q[d])+" ":"");
};
var D=function(d){var c=I.countdown._get(a,"labels"+P(a._periods[d]));
return((!Z&&V[d])||(Z&&T[d])?'<span class="countdown_section"><span class="countdown_amount">'+a._periods[d]+"</span><br/>"+(c?c[d]:Q[d])+"</span>":"");
};
return(R?this._buildLayout(a,V,R,S,Z,T):((S?'<span class="countdown_row countdown_amount'+(a._hold?" countdown_holding":"")+'">'+H(C)+H(J)+H(E)+H(A)+(V[N]?this._minDigits(a._periods[N],2):"")+(V[K]?(V[N]?O:"")+this._minDigits(a._periods[K],2):"")+(V[G]?(V[N]||V[K]?O:"")+this._minDigits(a._periods[G],2):""):'<span class="countdown_row countdown_show'+(Z||X)+(a._hold?" countdown_holding":"")+'">'+D(C)+D(J)+D(E)+D(A)+D(N)+D(K)+D(G))+"</span>"+(M?'<span class="countdown_row countdown_descr">'+M+"</span>":"")));
},_buildLayout:function(Z,Y,X,W,V,U){var S=this._get(Z,(W?"compactLabels":"labels"));
var R=this._get(Z,"whichLabels")||this._normalLabels;
var Q=function(b){return(I.countdown._get(Z,(W?"compactLabels":"labels")+R(Z._periods[b]))||S)[b];
};
var P=function(d,c){return Math.floor(d/c)%10;
};
var O={desc:this._get(Z,"description"),sep:this._get(Z,"timeSeparator"),yl:Q(C),yn:Z._periods[C],ynn:this._minDigits(Z._periods[C],2),ynnn:this._minDigits(Z._periods[C],3),y1:P(Z._periods[C],1),y10:P(Z._periods[C],10),y100:P(Z._periods[C],100),y1000:P(Z._periods[C],1000),ol:Q(J),on:Z._periods[J],onn:this._minDigits(Z._periods[J],2),onnn:this._minDigits(Z._periods[J],3),o1:P(Z._periods[J],1),o10:P(Z._periods[J],10),o100:P(Z._periods[J],100),o1000:P(Z._periods[J],1000),wl:Q(E),wn:Z._periods[E],wnn:this._minDigits(Z._periods[E],2),wnnn:this._minDigits(Z._periods[E],3),w1:P(Z._periods[E],1),w10:P(Z._periods[E],10),w100:P(Z._periods[E],100),w1000:P(Z._periods[E],1000),dl:Q(A),dn:Z._periods[A],dnn:this._minDigits(Z._periods[A],2),dnnn:this._minDigits(Z._periods[A],3),d1:P(Z._periods[A],1),d10:P(Z._periods[A],10),d100:P(Z._periods[A],100),d1000:P(Z._periods[A],1000),hl:Q(N),hn:Z._periods[N],hnn:this._minDigits(Z._periods[N],2),hnnn:this._minDigits(Z._periods[N],3),h1:P(Z._periods[N],1),h10:P(Z._periods[N],10),h100:P(Z._periods[N],100),h1000:P(Z._periods[N],1000),ml:Q(K),mn:Z._periods[K],mnn:this._minDigits(Z._periods[K],2),mnnn:this._minDigits(Z._periods[K],3),m1:P(Z._periods[K],1),m10:P(Z._periods[K],10),m100:P(Z._periods[K],100),m1000:P(Z._periods[K],1000),sl:Q(G),sn:Z._periods[G],snn:this._minDigits(Z._periods[G],2),snnn:this._minDigits(Z._periods[G],3),s1:P(Z._periods[G],1),s10:P(Z._periods[G],10),s100:P(Z._periods[G],100),s1000:P(Z._periods[G],1000)};
var M=X;
for(var T=C;
T<=G;
T++){var H="yowdhms".charAt(T);
var D=new RegExp("\\{"+H+"<\\}(.*)\\{"+H+">\\}","g");
M=M.replace(D,((!V&&Y[T])||(V&&U[T])?"$1":""));
}I.each(O,function(d,c){var b=new RegExp("\\{"+d+"\\}","g");
M=M.replace(b,c);
});
return M;
},_minDigits:function(H,D){H=""+H;
if(H.length>=D){return H;
}H="0000000000"+H;
return H.substr(H.length-D);
},_determineShow:function(H){var D=this._get(H,"format");
var M=[];
M[C]=(D.match("y")?"?":(D.match("Y")?"!":null));
M[J]=(D.match("o")?"?":(D.match("O")?"!":null));
M[E]=(D.match("w")?"?":(D.match("W")?"!":null));
M[A]=(D.match("d")?"?":(D.match("D")?"!":null));
M[N]=(D.match("h")?"?":(D.match("H")?"!":null));
M[K]=(D.match("m")?"?":(D.match("M")?"!":null));
M[G]=(D.match("s")?"?":(D.match("S")?"!":null));
return M;
},_calculatePeriods:function(w,v,b,a){w._now=a;
w._now.setMilliseconds(0);
var Z=new Date(w._now.getTime());
if(w._since){if(a.getTime()<w._since.getTime()){w._now=a=Z;
}else{a=w._since;
}}else{Z.setTime(w._until.getTime());
if(a.getTime()>w._until.getTime()){w._now=a=Z;
}}var Y=[0,0,0,0,0,0,0];
if(v[C]||v[J]){var X=I.countdown._getDaysInMonth(a.getFullYear(),a.getMonth());
var W=I.countdown._getDaysInMonth(Z.getFullYear(),Z.getMonth());
var V=(Z.getDate()==a.getDate()||(Z.getDate()>=Math.min(X,W)&&a.getDate()>=Math.min(X,W)));
var U=function(c){return(c.getHours()*60+c.getMinutes())*60+c.getSeconds();
};
var T=Math.max(0,(Z.getFullYear()-a.getFullYear())*12+Z.getMonth()-a.getMonth()+((Z.getDate()<a.getDate()&&!V)||(V&&U(Z)<U(a))?-1:0));
Y[C]=(v[C]?Math.floor(T/12):0);
Y[J]=(v[J]?T-Y[C]*12:0);
a=new Date(a.getTime());
var S=(a.getDate()==X);
var R=I.countdown._getDaysInMonth(a.getFullYear()+Y[C],a.getMonth()+Y[J]);
if(a.getDate()>R){a.setDate(R);
}a.setFullYear(a.getFullYear()+Y[C]);
a.setMonth(a.getMonth()+Y[J]);
if(S){a.setDate(R);
}}var Q=Math.floor((Z.getTime()-a.getTime())/1000);
var P=function(d,c){Y[d]=(v[d]?Math.floor(Q/c):0);
Q-=Y[d]*c;
};
P(E,604800);
P(A,86400);
P(N,3600);
P(K,60);
P(G,1);
if(Q>0&&!w._since){var O=[1,12,4.3482,7,24,60,60];
var M=G;
var H=1;
for(var D=G;
D>=C;
D--){if(v[D]){if(Y[M]>=H){Y[M]=0;
Q=1;
}if(Q>0){Y[D]++;
Q=0;
M=D;
H=1;
}}H*=O[D];
}}if(b){for(var D=C;
D<=G;
D++){if(b&&Y[D]){b--;
}else{if(!b){Y[D]=0;
}}}}return Y;
}});
function F(H,D){I.extend(H,D);
for(var M in D){if(D[M]==null){H[M]=null;
}}return H;
}I.fn.countdown=function(H){var D=Array.prototype.slice.call(arguments,1);
if(H=="getTimes"||H=="settings"){return I.countdown["_"+H+"Countdown"].apply(I.countdown,[this[0]].concat(D));
}return this.each(function(){if(typeof H=="string"){I.countdown["_"+H+"Countdown"].apply(I.countdown,[this].concat(D));
}else{I.countdown._attachCountdown(this,H);
}});
};
I.countdown=new B();
})(jQuery);

(function(B){B.fn.bgiframe=(B.browser.msie&&/msie 6\.0/i.test(navigator.userAgent)?function(C){C=B.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:true,src:"javascript:false;"},C);
var D='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+C.src+'"style="display:block;position:absolute;z-index:-1;'+(C.opacity!==false?"filter:Alpha(Opacity='0');":"")+"top:"+(C.top=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":A(C.top))+";left:"+(C.left=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":A(C.left))+";width:"+(C.width=="auto"?"expression(this.parentNode.offsetWidth+'px')":A(C.width))+";height:"+(C.height=="auto"?"expression(this.parentNode.offsetHeight+'px')":A(C.height))+';"/>';
return this.each(function(){if(B(this).children("iframe.bgiframe").length===0){this.insertBefore(document.createElement(D),this.firstChild);
}});
}:function(){return this;
});
B.fn.bgIframe=B.fn.bgiframe;
function A(C){return C&&C.constructor===Number?C+"px":C;
}})(jQuery);

(function(B){function A(G,F){function I(K){if(!H){H=true;
J.start&&J.start(K,C);
}}function E(K,L){if(H){clearTimeout(D);
D=setTimeout(function(){H=false;
J.stop&&J.stop(K,C);
},L>=0?L:J.delay);
}}var J=B.extend({start:null,stop:null,delay:400},F),C=B(G),H=false,D;
C.keypress(I);
C.keydown(function(K){if(K.keyCode===8||K.keyCode===46){I(K);
}});
C.keyup(E);
C.blur(function(K){E(K,0);
});
}B.fn.typing=function(C){return this.each(function(D,E){A(E,C);
});
};
})(jQuery);

var caretPositionAmp=[];
jQuery.fn.extend({getSelection:function(){var I=this.jquery?this[0]:this,J,H,F,C=0;
I.onmousedown=function(){document.selection&&typeof I.selectionStart!="number"?document.selection.empty():window.getSelection().removeAllRanges();
};
if(document.selection){var G=document.selection.createRange(),E=0,D=0,B=0;
J=document.getElementsByTagName("TEXTAREA");
for(H=0;
H<J.length;
H++){if(J[H]==I){break;
}}if(I.value.match(/\n/g)!=null){C=I.value.match(/\n/g).length;
}if(G.text){F=G.text;
if(typeof I.selectionStart=="number"){J=I.selectionStart;
H=I.selectionEnd;
if(J==H){return{start:J,end:H,text:G.text,length:H-J};
}}else{J=I.createTextRange();
F=J.duplicate();
firstRe=J.text;
J.moveToBookmark(G.getBookmark());
secondRe=J.text;
F.setEndPoint("EndToStart",J);
if(firstRe==secondRe&&firstRe!=G.text||F.text.length>firstRe.length){return{start:caretPositionAmp[H],end:caretPositionAmp[H],text:"",length:0};
}J=F.text.length;
H=F.text.length+G.text.length;
}if(C>0){for(F=0;
F<=C;
F++){var A=I.value.indexOf("\n",D);
if(A!=-1&&A<J){D=A+1;
E++;
B=E;
}else{if(A!=-1&&A>=J&&A<=H){if(A==J+1){E--;
B--;
D=A+1;
}else{D=A+1;
B++;
}}else{F=C;
}}}}if(G.text.indexOf("\n",0)==1){B+=2;
}J-=E;
H-=B;
return{start:J,end:H,text:G.text,length:H-J};
}I.focus();
if(typeof I.selectionStart=="number"){J=I.selectionStart;
}else{G=document.selection.createRange();
J=I.createTextRange();
F=J.duplicate();
J.moveToBookmark(G.getBookmark());
F.setEndPoint("EndToStart",J);
J=F.text.length;
}if(C>0){for(F=0;
F<=C;
F++){A=I.value.indexOf("\n",D);
if(A!=-1&&A<J){D=A+1;
E++;
}else{F=C;
}}}J-=E;
if(J==0&&typeof I.selectionStart!="number"){J=caretPositionAmp[H];
H=caretPositionAmp[H];
}return{start:J,end:J,text:G.text,length:0};
}else{if(typeof I.selectionStart=="number"){J=I.selectionStart;
H=I.selectionEnd;
F=I.value.substring(I.selectionStart,I.selectionEnd);
return{start:J,end:H,text:F,length:H-J};
}else{return{start:undefined,end:undefined,text:undefined,length:undefined};
}}},replaceSelection:function(L){var M=this.jquery?this[0]:this,K,I;
I=0;
var F,J,H=0,G=0,E=M.scrollTop==undefined?0:M.scrollTop;
K=document.getElementsByTagName("TEXTAREA");
for(var C=0;
C<K.length;
C++){if(K[C]==M){break;
}}if(document.selection&&typeof M.selectionStart!="number"){E=document.selection.createRange();
if(typeof M.selectionStart!="number"){var D;
J=M.createTextRange();
F=J.duplicate();
K=J.text;
J.moveToBookmark(E.getBookmark());
D=J.text;
try{F.setEndPoint("EndToStart",J);
}catch(A){return this;
}if(K==D&&K!=E.text||F.text.length>K.length){return this;
}}if(E.text){part=E.text;
if(M.value.match(/\n/g)!=null){H=M.value.match(/\n/g).length;
}K=F.text.length;
if(H>0){for(D=0;
D<=H;
D++){var B=M.value.indexOf("\n",I);
if(B!=-1&&B<K){I=B+1;
G++;
}else{D=H;
}}}E.text=L;
caretPositionAmp[C]=F.text.length+L.length;
J.move("character",caretPositionAmp[C]);
document.selection.empty();
M.blur();
}return this;
}else{if(typeof M.selectionStart=="number"&&M.selectionStart!=M.selectionEnd){K=M.selectionStart;
I=M.selectionEnd;
M.value=M.value.substr(0,K)+L+M.value.substr(I);
I=K+L.length;
M.setSelectionRange(I,I);
M.scrollTop=E;
return this;
}}return this;
},setSelection:function(H,I){H=parseInt(H);
I=parseInt(I);
var G=this.jquery?this[0]:this;
G.focus();
if(typeof G.selectionStart!="number"){re=G.createTextRange();
if(re.text.length<I){I=re.text.length+1;
}}if(I<H){return this;
}if(document.selection){var E=0,B=0,F=0,D=0;
if(typeof G.selectionStart!="number"){re.collapse(true);
re.moveEnd("character",I);
re.moveStart("character",H);
re.select();
}else{if(typeof G.selectionStart=="number"){if(G.value.match(/\n/g)!=null){E=G.value.match(/\n/g).length;
}if(E>0){for(var C=0;
C<=E;
C++){var A=G.value.indexOf("\n",F);
if(A!=-1&&A<H){F=A+1;
B++;
D=B;
}else{if(A!=-1&&A>=H&&A<=I){if(A==H+1){B--;
D--;
F=A+1;
}else{F=A+1;
D++;
}}else{C=E;
}}}}H+=B;
I+=D;
G.selectionStart=H;
G.selectionEnd=I;
}G.focus();
}return this;
}else{if(G.selectionStart||G.selectionStart==0){G.focus();
window.getSelection().removeAllRanges();
G.selectionStart=H;
G.selectionEnd=I;
G.focus();
return this;
}}},insertAtCaretPos:function(L){var M=this.jquery?this[0]:this,K,I,F,J,H,G,E;
K=I=0;
var C=M.scrollTop==undefined?0:M.scrollTop;
E=document.getElementsByTagName("TEXTAREA");
for(var D=0;
D<E.length;
D++){if(E[D]==M){break;
}}M.focus();
if(document.selection&&typeof M.selectionStart!="number"){if(M.value.match(/\n/g)!=null){K=M.value.match(/\n/g).length;
}E=parseInt(caretPositionAmp[D]);
if(K>0){for(var A=0;
A<=K;
A++){var B=M.value.indexOf("\n",F);
if(B!=-1&&B<=E){F=B+1;
E-=1;
I++;
}}}}caretPositionAmp[D]=parseInt(caretPositionAmp[D]);
M.onkeyup=function(){if(document.selection&&typeof M.selectionStart!="number"){M.focus();
J=document.selection.createRange();
H=M.createTextRange();
G=H.duplicate();
H.moveToBookmark(J.getBookmark());
G.setEndPoint("EndToStart",H);
caretPositionAmp[D]=G.text.length;
}};
M.onmouseup=function(){if(document.selection&&typeof M.selectionStart!="number"){M.focus();
J=document.selection.createRange();
H=M.createTextRange();
G=H.duplicate();
H.moveToBookmark(J.getBookmark());
G.setEndPoint("EndToStart",H);
caretPositionAmp[D]=G.text.length;
}};
if(document.selection&&typeof M.selectionStart!="number"){J=document.selection.createRange();
if(J.text.length!=0){return this;
}H=M.createTextRange();
textLength=H.text.length;
G=H.duplicate();
H.moveToBookmark(J.getBookmark());
G.setEndPoint("EndToStart",H);
K=G.text.length;
if(caretPositionAmp[D]>0&&K==0){I=caretPositionAmp[D]-I;
H.move("character",I);
H.select();
J=document.selection.createRange();
caretPositionAmp[D]+=L.length;
}else{if(!(caretPositionAmp[D]>=0)&&textLength==0){J=document.selection.createRange();
caretPositionAmp[D]=L.length+textLength;
}else{if(!(caretPositionAmp[D]>=0)&&K==0){H.move("character",textLength);
H.select();
J=document.selection.createRange();
caretPositionAmp[D]=L.length+textLength;
}else{if(!(caretPositionAmp[D]>=0)&&K>0){H.move("character",0);
document.selection.empty();
H.select();
J=document.selection.createRange();
caretPositionAmp[D]=K+L.length;
}else{if(caretPositionAmp[D]>=0&&caretPositionAmp[D]==textLength){if(textLength!=0){H.move("character",textLength);
H.select();
}else{H.move("character",0);
}J=document.selection.createRange();
caretPositionAmp[D]=L.length+textLength;
}else{if(caretPositionAmp[D]>=0&&K!=0&&caretPositionAmp[D]>=K){I=caretPositionAmp[D]-K;
H.move("character",I);
}else{caretPositionAmp[D]>=0&&K!=0&&caretPositionAmp[D]<K&&H.move("character",0);
}document.selection.empty();
H.select();
J=document.selection.createRange();
caretPositionAmp[D]+=L.length;
}}}}}J.text=L;
M.focus();
return this;
}else{if(typeof M.selectionStart=="number"&&M.selectionStart==M.selectionEnd){F=M.selectionStart+L.length;
K=M.selectionStart;
I=M.selectionEnd;
M.value=M.value.substr(0,K)+L+M.value.substr(I);
M.setSelectionRange(F,F);
M.scrollTop=C;
return this;
}}return this;
},setCaretPos:function(A){var B=this.jquery?this[0]:this,H,F=0,C=0,G;
G=document.getElementsByTagName("TEXTAREA");
for(var E=0;
E<G.length;
E++){if(G[E]==B){break;
}}B.focus();
if(parseInt(A)==0){return this;
}if(parseInt(A)>0){A=parseInt(A)-1;
if(document.selection&&typeof B.selectionStart=="number"&&B.selectionStart==B.selectionEnd){if(B.value.match(/\n/g)!=null){F=B.value.match(/\n/g).length;
}if(F>0){for(var D=0;
D<=F;
D++){G=B.value.indexOf("\n",H);
if(G!=-1&&G<=A){H=G+1;
A=parseInt(A)+1;
}}}}}else{if(parseInt(A)<0){A=parseInt(A)+1;
if(document.selection&&typeof B.selectionStart!="number"){A=B.value.length+parseInt(A);
if(B.value.match(/\n/g)!=null){F=B.value.match(/\n/g).length;
}if(F>0){for(D=0;
D<=F;
D++){G=B.value.indexOf("\n",H);
if(G!=-1&&G<=A){H=G+1;
A=parseInt(A)-1;
C+=1;
}}A=A+C-F;
}}else{if(document.selection&&typeof B.selectionStart=="number"){A=B.value.length+parseInt(A);
if(B.value.match(/\n/g)!=null){F=B.value.match(/\n/g).length;
}if(F>0){A=parseInt(A)-F;
for(D=0;
D<=F;
D++){G=B.value.indexOf("\n",H);
if(G!=-1&&G<=A){H=G+1;
A=parseInt(A)+1;
C+=1;
}}}}else{A=B.value.length+parseInt(A);
}}}else{return this;
}}if(document.selection&&typeof B.selectionStart!="number"){H=document.selection.createRange();
if(H.text!=0){return this;
}B=B.createTextRange();
B.collapse(true);
B.moveEnd("character",A);
B.moveStart("character",A);
B.select();
caretPositionAmp[E]=A;
return this;
}else{if(typeof B.selectionStart=="number"&&B.selectionStart==B.selectionEnd){B.setSelectionRange(A,A);
return this;
}}return this;
},countCharacters:function(){var A=this.jquery?this[0]:this;
if(A.value.match(/\r/g)!=null){return A.value.length-A.value.match(/\r/g).length;
}return A.value.length;
},setMaxLength:function(A,B){this.each(function(){var F=this.jquery?this[0]:this,D=F.type,C,E;
if(parseInt(A)<0){A=100000000;
}if(D=="text"){F.maxLength=A;
}if(D=="textarea"||D=="text"){F.onkeypress=function(H){var G=F.value.match(/\r/g);
E=A;
if(G!=null){E=parseInt(E)+G.length;
}H=H||event;
G=H.keyCode;
C=document.selection?document.selection.createRange().text.length>0:F.selectionStart!=F.selectionEnd;
if(F.value.length>=E&&(G>47||G==32||G==0||G==13)&&!H.ctrlKey&&!H.altKey&&!C){F.value=F.value.substring(0,E);
typeof B=="function"&&B();
return false;
}};
F.onkeyup=function(){var J=F.value.match(/\r/g),I=0,H=0;
E=A;
if(J!=null){for(var G=0;
G<=J.length;
G++){if(F.value.indexOf("\n",H)<=parseInt(A)){I++;
H=F.value.indexOf("\n",H)+1;
}}E=parseInt(A)+I;
}if(F.value.length>E){F.value=F.value.substring(0,E);
typeof B=="function"&&B();
return this;
}};
}else{return this;
}});
return this;
}});

(function(A){A.fn.extend({autocomplete:function(B,C){var D=typeof B=="string";
C=A.extend({},A.Autocompleter.defaults,{url:D?B:null,data:D?null:B,delay:D?A.Autocompleter.defaults.delay:10,max:C&&!C.scroll?10:150},C);
C.highlight=C.highlight||function(E){return E;
};
C.formatMatch=C.formatMatch||C.formatItem;
C.itemsKey=C.itemsKey||"searchSuggstion";
C.left=C.left||0;
C.top=C.top||0;
return this.each(function(){new A.Autocompleter(this,C);
});
},result:function(B){return this.bind("result",B);
},search:function(B){return this.trigger("search",[B]);
},flushCache:function(){return this.trigger("flushCache");
},setOptions:function(B){return this.trigger("setOptions",[B]);
},unautocomplete:function(){return this.trigger("unautocomplete");
}});
A.Autocompleter=function(L,G){var C={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8};
var B=A(L).attr("autocomplete","off").addClass(G.inputClass);
var J;
var R="";
var O;
var M=A.Autocompleter.Cache(G);
var E=0;
var V;
var Y={mouseDownOnSelect:false};
var S=A.Autocompleter.Select(G,L,D,Y);
var X;
A.browser.opera&&A(L.form).bind("submit.autocomplete",function(){if(X){X=false;
return false;
}});
B.bind((A.browser.opera?"keypress":"keydown")+".autocomplete",function(Z){E=1;
V=Z.keyCode;
switch(Z.keyCode){case C.UP:Z.preventDefault();
if(S.visible()){S.prev();
}else{U(0,true);
}break;
case C.DOWN:Z.preventDefault();
if(S.visible()){S.next();
}else{U(0,true);
}break;
case C.PAGEUP:Z.preventDefault();
if(S.visible()){S.pageUp();
}else{U(0,true);
}break;
case C.PAGEDOWN:Z.preventDefault();
if(S.visible()){S.pageDown();
}else{U(0,true);
}break;
case G.multiple&&A.trim(G.multipleSeparator)==","&&C.COMMA:case C.TAB:case C.RETURN:if(D()){Z.preventDefault();
X=true;
return false;
}break;
case C.ESC:S.hide();
break;
default:clearTimeout(J);
J=setTimeout(U,G.delay);
break;
}}).focus(function(){E++;
}).blur(function(){E=0;
if(!Y.mouseDownOnSelect){T();
}}).click(function(){if(E++>1&&!S.visible()){U(0,true);
}}).bind("search",function(){var Z=(arguments.length>1)?arguments[1]:null;
function a(e,d){var b;
if(d&&d.length){for(var c=0;
c<d.length;
c++){if(d[c].result.toLowerCase()==e.toLowerCase()){b=d[c];
break;
}}}if(typeof Z=="function"){Z(b);
}else{B.trigger("result",b&&[b]);
}}A.each(H(B.val()),function(b,c){F(c,a,a);
});
}).bind("flushCache",function(){M.flush();
}).bind("setOptions",function(){A.extend(G,arguments[1]);
if("data" in arguments[1]){M.populate();
}}).bind("unautocomplete",function(){S.unbind();
B.unbind();
A(L.form).unbind(".autocomplete");
});
A(window).resize(function(){if(S.visible()){S.show();
}});
function D(){var c=S.selected();
if(!c||B.val().length<G.minChars){return false;
}var Z=c.result;
R=Z;
if(G.multiple){var f=H(B.val());
if(f.length>1){var b=G.multipleSeparator.length;
var e=A(L).selection().start;
var d,a=0;
A.each(f,function(g,h){a+=h.length;
if(e<=a){d=g;
return false;
}a+=b;
});
f[d]=Z;
Z=f.join(G.multipleSeparator);
}Z+=G.multipleSeparator;
}B.val(Z);
W();
B.trigger("result",[c]);
return true;
}function U(b,a){if(V==C.DEL){S.hide();
return ;
}var Z=B.val();
if(!a&&Z==R){return ;
}R=Z;
Z=I(Z);
if(Z.length>=G.minChars){B.addClass(G.loadingClass);
if(!G.matchCase){Z=Z.toLowerCase();
}F(Z,K,W);
}else{N();
S.hide();
}}function H(Z){if(!Z){return[""];
}if(!G.multiple){return[A.trim(Z)];
}return A.map(Z.split(G.multipleSeparator),function(a){return A.trim(Z).length?A.trim(a):null;
});
}function I(Z){if(!G.multiple){return Z;
}var b=H(Z);
if(b.length==1){return b[0];
}var a=A(L).selection().start;
if(a==Z.length){b=H(Z);
}else{b=H(Z.replace(Z.substring(a),""));
}return b[b.length-1];
}function Q(Z,a){if(G.autoFill&&(I(B.val()).toLowerCase()==Z.toLowerCase())&&V!=C.BACKSPACE){B.val(B.val()+a.substring(I(R).length));
A(L).selection(R.length,R.length+a.length);
}}function T(){clearTimeout(J);
J=setTimeout(W,200);
}function W(){var Z=S.visible();
S.hide();
clearTimeout(J);
N();
if(G.mustMatch){B.search(function(a){if(!a){if(G.multiple){var b=H(B.val()).slice(0,-1);
B.val(b.join(G.multipleSeparator)+(b.length?G.multipleSeparator:""));
}else{B.val("");
B.trigger("result",null);
}}});
}}function K(a,Z){if(O){clearTimeout(O);
O=null;
}if(Z&&Z.length&&E){var b=function(){N();
S.emptyList();
S.display(Z,a);
Q(a,Z[0].value);
S.show();
};
if(G.adProvider&&!G.adProvider.getSuggestAd(a)){O=setTimeout(b,100);
}else{b();
}}else{S.emptyList();
W();
}}function F(a,c,Z){if(G.adProvider){G.adProvider.getSuggestAd(a);
}if(!G.matchCase){a=a.toLowerCase();
}var b=M.load(a);
if(b&&b.length){c(a,b);
}else{if((typeof G.url=="string")&&(G.url.length>0)){var d={timestamp:+new Date()};
A.each(G.extraParams,function(e,f){d[e]=typeof f=="function"?f():f;
});
A.ajax({mode:"abort",port:"autocomplete"+L.name,dataType:G.dataType,url:G.url,data:A.extend({q:I(a),limit:G.max,cid:JASK.ssCfg.cid,token:JASK.ssCfg.token,lang:JASK.ssCfg.lang},d),success:function(f){if(!f||!A.trim(f).length){f=A(document.body).data(G.itemsKey);
}var e=G.parse&&G.parse(f)||P(f);
M.add(a,e);
c(a,e);
}});
}else{S.emptyList();
Z(a);
}}}function P(c){var Z=[];
var b=c.split("\n");
for(var a=0;
a<b.length;
a++){var d=A.trim(b[a]);
if(d){d=d.split("|");
Z[Z.length]={data:d,value:d[0],result:G.formatResult&&G.formatResult(d,d[0])||d[0]};
}}return Z;
}function N(){B.removeClass(G.loadingClass);
}};
A.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",minChars:1,delay:400,matchCase:false,matchSubset:true,matchContains:false,cacheLength:10,max:100,mustMatch:false,extraParams:{},selectFirst:true,formatItem:function(B){return B[0];
},formatMatch:null,autoFill:false,width:0,multiple:false,multipleSeparator:", ",highlight:function(C,B){return C.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+B.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>");
},scroll:true,scrollHeight:180};
A.Autocompleter.Cache=function(C){var F={};
var D=0;
function H(K,J){if(!C.matchCase){K=K.toLowerCase();
}var I=K.indexOf(J);
if(C.matchContains=="word"){I=K.toLowerCase().search("\\b"+J.toLowerCase());
}if(I==-1){return false;
}return I==0||C.matchContains;
}function G(J,I){if(D>C.cacheLength){B();
}if(!F[J]){D++;
}F[J]=I;
}function E(){if(!C.data){return false;
}var J={},I=0;
if(!C.url){C.cacheLength=1;
}J[""]=[];
for(var L=0,K=C.data.length;
L<K;
L++){var O=C.data[L];
O=(typeof O=="string")?[O]:O;
var N=C.formatMatch(O,L+1,C.data.length);
if(N===false){continue;
}var M=N.charAt(0).toLowerCase();
if(!J[M]){J[M]=[];
}var P={value:N,data:O,result:C.formatResult&&C.formatResult(O)||N};
J[M].push(P);
if(I++<C.max){J[""].push(P);
}}A.each(J,function(Q,R){C.cacheLength++;
G(Q,R);
});
}setTimeout(E,25);
function B(){F={};
D=0;
}return{flush:B,add:G,populate:E,load:function(L){if(!C.cacheLength||!D){return null;
}if(!C.url&&C.matchContains){var K=[];
for(var I in F){if(I.length>0){var M=F[I];
A.each(M,function(O,N){if(H(N.value,L)){K.push(N);
}});
}}return K;
}else{if(F[L]){return F[L];
}else{if(C.matchSubset){for(var J=L.length-1;
J>=C.minChars;
J--){var M=F[L.substr(0,J)];
if(M){var K=[];
A.each(M,function(O,N){if(H(N.value,L)){K[K.length]=N;
}});
return K;
}}}}}return null;
}};
};
A.Autocompleter.Select=function(E,K,M,Q){var J={ACTIVE:"ac_over"};
var L,F=-1,S,N="",T=true,C,P;
var H=null;
function O(){if(!T){return ;
}C=A("<div/>").hide().addClass(E.resultsClass).css("position","absolute");
if(E.setUITemplate){E.setUITemplate(C);
}if(A.fn.bgiframe){C.bgiframe();
}C.appendTo(document.body);
P=A("<ul/>").appendTo(C).mouseover(function(U){if(R(U).nodeName&&R(U).nodeName.toUpperCase()=="LI"){F=A("li",P).removeClass(J.ACTIVE).index(R(U));
A(R(U)).addClass(J.ACTIVE);
}}).mouseout(function(){}).click(function(U){A(R(U)).addClass(J.ACTIVE);
H=L&&L.filter("."+J.ACTIVE).removeClass(J.ACTIVE);
M();
K.focus();
return false;
}).mousedown(function(){Q.mouseDownOnSelect=true;
}).mouseup(function(){Q.mouseDownOnSelect=false;
});
if(E.width>0){C.css("width",E.width);
}if(E.setTurnOffComponent){E.setTurnOffComponent(C,K);
}T=false;
}function R(V){var U=V.target;
while(U&&U.tagName!="LI"){U=U.parentNode;
}if(!U){return[];
}return U;
}function I(U){L.slice(F,F+1).removeClass(J.ACTIVE);
G(U);
H=L.slice(F,F+1).addClass(J.ACTIVE);
if(S[F]&&A.data(H[0],"ac_data").result){A(K).val(A.data(H[0],"ac_data").result);
}else{A(K).val(N);
}if(E.scroll){var V=0;
L.slice(0,F).each(function(){V+=this.offsetHeight;
});
if((V+H[0].offsetHeight-P.scrollTop())>P[0].clientHeight){P.scrollTop(V+H[0].offsetHeight-P.innerHeight());
}else{if(V<P.scrollTop()){P.scrollTop(V);
}}}}function G(U){F+=U;
if(F<-1){F=L.size()-1;
}else{if(F>=L.size()){F=-1;
}}}function B(U){return E.max&&E.max<U?E.max:U;
}function D(){var X,Z=function(){};
if(E.adProvider&&E.adProvider.getSuggestAd&&E.formatAd){X=E.adProvider.getSuggestAd(N);
if(X){Z=function(){var b=E.formatAd(X);
if(b===false){return ;
}var a=A("<li/>").addClass("ac_ad").html(b).appendTo(P)[0];
A.data(a,"ac_data",X);
};
}}P.empty();
if(X&&X.position&&X.position==="Top"){Z();
}var V=B(S.length);
for(var W=0;
W<V;
W++){if(!S[W]){continue;
}var Y=E.formatItem(S[W],W+1,V);
if(Y===false){continue;
}var U=A("<li/>").html(E.highlight(Y,N)).addClass(W%2==0?"ac_even":"ac_odd").appendTo(P)[0];
A.data(U,"ac_data",S[W]);
}if(X&&(!X.position||X.position!=="Top")){Z();
}L=P.find("li");
if(E.selectFirst){L.slice(0,1).addClass(J.ACTIVE);
F=0;
}}return{display:function(V,U){O();
S=V;
N=U;
D();
},next:function(){I(1);
},prev:function(){I(-1);
},pageUp:function(){if(F!=0&&F-8<0){I(-F);
}else{I(-8);
}},pageDown:function(){if(F!=L.size()-1&&F+8>L.size()){I(L.size()-1-F);
}else{I(8);
}},hide:function(){C&&C.hide();
L&&L.removeClass(J.ACTIVE);
F=-1;
},visible:function(){return C&&C.is(":visible");
},current:function(){return this.visible()&&(L.filter("."+J.ACTIVE)[0]||E.selectFirst&&L[0]);
},show:function(){var W=A(K).offset();
C.css({width:typeof E.width=="string"||E.width>0?E.width:A(K).width(),top:W.top+K.offsetHeight+E.top,left:W.left+E.left}).show();
if(E.scroll){P.scrollTop(0);
P.css({maxHeight:E.scrollHeight,overflow:"auto"});
if(A.browser.msie&&typeof document.body.style.maxHeight==="undefined"){var U=0;
L.each(function(){U+=this.offsetHeight;
});
var V=U>E.scrollHeight;
P.css("height",V?E.scrollHeight:U);
if(!V){L.width(P.width()-parseInt(L.css("padding-left"))-parseInt(L.css("padding-right")));
}}}},selected:function(){return H&&H.length&&A.data(H[0],"ac_data");
},emptyList:function(){P&&P.empty();
},unbind:function(){C&&C.remove();
}};
};
A.fn.selection=function(I,B){if(I!==undefined){return this.each(function(){if(this.createTextRange){var J=this.createTextRange();
if(B===undefined||I==B){J.move("character",I);
J.select();
}else{J.collapse(true);
J.moveStart("character",I);
J.moveEnd("character",B);
J.select();
}}else{if(this.setSelectionRange){this.setSelectionRange(I,B);
}else{if(this.selectionStart){this.selectionStart=I;
this.selectionEnd=B;
}}}});
}var G=this[0];
if(G.createTextRange){var C=document.selection.createRange(),H=G.value,F="<->",D=C.text.length;
C.text=F;
var E=G.value.indexOf(F);
G.value=H;
this.selection(E,E+D);
return{start:E,end:E+D};
}else{if(G.selectionStart!==undefined){return{start:G.selectionStart,end:G.selectionEnd};
}}};
})(jQuery);

if(!("console" in window)){window.console={log:function(){}};
}var JASK=JASK||{};
jQuery.noConflict();
var $j=jQuery;
JASK.cfg=JASK.cfg||{};
JASK.ssCfg=JASK.ssCfg||{};
JASK.namespace=function namespace(){var A=arguments,E=null,C,B,D;
for(C=0;
C<A.length;
C=C+1){D=(""+A[C]).split(".");
E=JASK;
for(B=(D[0]=="JASK")?1:0;
B<D.length;
B=B+1){E[D[B]]=E[D[B]]||{};
E=E[D[B]];
}}return E;
};
JASK.namespace("ja");

jQuery.noConflict();
var $j=jQuery;
$j.expr[":"].containsIgnoreCase=function(B,C,A){return $j(B).text().toUpperCase().indexOf(A[3].toUpperCase())>=0;
};
(function(A){A.serializeObject=function(D){var C={};
var B=(typeof D=="string")?A("#"+D):A(D);
B.find("*[name]").each(function(E,F){C[F.name]=F.value;
});
return C;
};
})(jQuery);
(function(A){A.capitalize=function(B){return B.charAt(0).toUpperCase()+B.substring(1).toLowerCase();
};
})(jQuery);
(function(A){A.noOfLinksInText=function(E){var C=/(\b(http:\/\/|https:\/\/|www[.])[\-A-Za-z0-9+&@#\/%?=~_()|!:,.;]*[\-A-Za-z0-9+&@#\/%=~_()|])/ig;
var D=0,B;
while((B=C.exec(E))!==null){D++;
}return D;
};
})(jQuery);
(function(A){A.prefixHttp=function(B){if(B&&B.toLowerCase().indexOf("http://")===0){return B;
}else{return"http://"+B;
}};
})(jQuery);
(function(A){A.hasHTML=function(B){if(B){return !!B.match(/<(.|\n)*?>/mg);
}else{return false;
}};
})(jQuery);
(function(A){A.isValidEmail=function(B){return !!(B.match(/^[a-zA-Z0-9._\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,4}$/));
};
})(jQuery);
(function(A){A.stripURLs=function(B){return B.replace(/(ftp|http|https|file):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/gim,"");
};
})(jQuery);
(function(A){A.uniqueArray=function(C){var D={};
var B=[];
for(var E=0;
E<C.length;
E++){var F=C[E];
if(typeof D[F]==="undefined"){B.push(F);
D[F]=F;
}}return B;
};
})(jQuery);
(function(A){A.getUrlParams=function(){var B={},E,D=window.location.search.substring(1);
var C=/([^&=]+)=([^&]+)/g;
while((E=C.exec(D))!==null){B[decodeURIComponent(E[1])]=decodeURIComponent(E[2]);
}return B;
};
A.getUrlParam=function(B){return A.getUrlParams()[B];
};
})(jQuery);
(function(A){A.effects.fade=function(B){return this.queue(function(){var E=A(this);
var C=B.options.duration||300;
var D=B.options.mode||"show";
if(D=="show"){E.fadeIn(C);
}else{E.fadeOut(C);
}E.queue("fx",function(){E.dequeue();
});
E.dequeue();
});
};
})(jQuery);

function _RP(B){if(WZInfo.pickRedirectPrefix!=""){return WZInfo.pickRedirectPrefix+pob(B);
}else{var A=WZInfo.pickRedirectDefault.replace("c=a&","c=anc&");
A=A.replace("q=&","q=default&");
return A+pob(B);
}}function _SP(B){if(WZInfo.pickPrefix!=""){return WZInfo.pickPrefix+pob(B);
}else{var A=WZInfo.pickPrefix.replace("c=a&","c=anc&");
A=A.replace("q=&","q=default&");
return A+pob(B);
}}function ptxt(A){var B="";
if(A.innerHTML){B=A.innerHTML;
B=B.replace(/<\/?[^>]+>/ig,"");
B=B.replace(/&amp;/g,"&");
}return B;
}function pgptxt(B){var D="";
if(B){var E="";
if(typeof document.getElementsByClassName=="function"){if(B.getElementsByClassName("productTitle")[0]!=undefined){E=B.getElementsByClassName("productTitle")[0].lastChild.previousSibling;
}}else{var A=B.getElementsByTagName("li");
for(var C=0;
C<A.length;
C++){if(B.getElementsByTagName("li")[C].className[0]==="productTitle"&&B.getElementsByTagName("li")[C]!=undefined){E=B.getElementsByTagName("li")[C].lastChild.previousSibling;
}}}if(E){D=E.innerHTML;
D=D.replace(/<\/?[^>]+>/ig,"");
D=D.replace(/&amp;/g,"&");
}}return D;
}function pk(A,D,C){if(A&&A.href){if(A.wzup){return true;
}if(!D.u){D.u=A.href;
}if(document.all&&navigator.userAgent.indexOf("MSIE")!=-1){D.u=enc(D.u);
}var B=(C)?obj(C):A;
if(!D.pt){switch(D.en.toLowerCase()){case"js":case"is":D.pt=D.en.toUpperCase()+" thumbnail";
break;
default:D.pt=ptxt(B);
}}A.href=_RP(D);
A.wzup=1;
}return true;
}function pgpk(A,D,C){if(A&&A.href){if(A.wzup){return true;
}if(!D.u){D.u=A.href;
}if(document.all&&navigator.userAgent.indexOf("MSIE")!=-1){D.u=enc(D.u);
}var B=(C)?obj(C):A;
if(!D.pt){switch(D.en.toLowerCase()){case"js":case"is":D.pt=D.en.toUpperCase()+" thumbnail";
break;
default:D.pt=pgptxt(B);
}}A.href=_RP(D);
A.wzup=1;
}return true;
}function nopk(A,C,B){return true;
}function spk(A,E,D,C){if(A&&A.href&&E){if(!E.u){if(C){E.u=C;
}else{E.u=A.href;
}}if(!E.pt){var B=(D)?obj(D):A;
E.pt=ptxt(B);
}}return(new Image()).src=_SP(E);
}function ospk(A,C){spk(A,C);
var B=__va.getRARedirectURL(A);
if(!B){B=A.href;
}setTimeout('document.location = "'+B+'"',500);
}function noct(A,B){return true;
}function ct(A,C){if(A&&A.href&&C){if(!A.oUrl){A.oUrl=A.href;
}var B=A.innerHTML;
A.href=WZInfo.ctRedirectPrefix(C,A.oUrl);
if(navigator.userAgent.toLowerCase().indexOf("msie")!=-1&&A.innerHTML!=B){A.innerHTML=B;
}}return true;
}function nosct(E,A,B){if(E){var C="";
if(A){C=((A.href)?A.href:A);
}var D=C;
return D;
}}function sct(F,A,B){if(F){var D="";
if(A){D=((A.href)?A.href:A);
}var E=WZInfo.ctPrefix(F,D);
E=E+"&rnd="+Math.random().toString();
var C=new Image();
if(B){setTimeout(function(){C.src=E;
},100);
}else{C.src=E;
}return E;
}}function wzr(C,A){if(C&&A){var B=WZInfo.ctRedirectPrefix(C,A);
if(B){return B;
}}}function enc(A){return(typeof encodeURIComponent!="undefined")?encodeURIComponent(A):escape(A);
}function obj(C,B){if(!B){B=document;
}var A=B.getElementById(C);
return A;
}function pob(A){A=A||{};
return WZInfo.pickObjConversion(A);
}function h(A){return(A!=null&&A!="undefined")?A:"";
}function cspk(A,E,F,C){var B="co";
if(E=="ahdict"){B="dicp";
}if(E=="roget"){B="dicp";
}if(E=="wiki"){B="wk";
}if(E=="col"){B="cb";
}if(E=="hmwh"){B="h0";
}if(E=="hmff"){B="h1";
}if(E=="wordnet"){B="dicp";
}if(E=="wordnetuk"){B="dicp";
}var D={};
D.en=B;
D.b="sa";
D.tp="d";
D.ec="1";
D.io=F;
if(C){spk(A,D);
}else{pk(A,D);
}return true;
}function fp(O,C,F,I,D,E){if(O.href){var M=O.href.match(WZInfo.framedPickDomainRE);
if(M){var P,N,B,G,H,J,A;
G=M[1];
B=M[2];
H=WZInfo.framedPickSearchDomain;
J=WZInfo.framedPickAdvLang;
A=WZInfo.framedPickAdvCtry;
N=WZInfo.framedPickUrlPrefix;
if(H){N+="&dm="+H+"&advl="+J+"&advc="+A;
}G+="u="+B+"&bu="+enc(N)+WZInfo.framedPickUrlPrefix2;
if(H){G+="&dm="+H;
}if(D){G+="&ou="+enc(E);
}if(F=="true"){var K=_mb(I);
var L;
if(D){P=WZInfo.framedPickTitle+E;
L=WZInfo.framedPickAbstract+D;
}else{L=_ma(I);
}G+="&ma="+enc(L)+"&mt="+enc(P)+"&mb="+K;
}C.url=(E)?E:O.href;
C.u=G;
}pk(O,C);
}return true;
}function InitClickLog(){var D=function(){return sct(this.getAttribute("ask_clicklogid"),this);
};
var A=document.getElementsByTagName("A");
for(var B=A.length-1;
B>=0;
B--){var C=A[B].getAttribute("ask_clicklogid");
if(C){ask.util.Events.addListener(A[B],"mousedown",D);
}}A=document.getElementsByName("ask_clicklog");
for(var B=A.length-1;
B>=0;
B--){var C=A[B].getAttribute("ask_clicklogid");
if(C){ask.util.Events.addListener(A[B],"mousedown",D);
}}}function pkVig(A,D,B){if(A&&A.href){if(A.wzup){return true;
}var C=A.href;
pk(A,D,B);
C="http://"+_wzRedirDomain+"/vr"+A.href.substring(A.href.indexOf("?"))+"&loc=http://"+WZInfo.framedPickDomain+"&out="+enc(C);
A.href=C;
}return true;
}
function searchSuggestion(A){$j(document.body).data("searchSuggestion",A[1]);
}JASK.namespace("ss");
JASK.ss.cookie={disable:function(){var B=window.location.hostname;
var I=window.location.hostname;
var E=window.location.hostname;
var F=window.location.hostname;
var D=window.location.hostname;
var A=$j.cookie("gset");
var G="";
var H=new Date();
H.setFullYear(H.getFullYear()+2);
if(A&&A.indexOf("&ss=1")!=-1){var C=A.split("&ss=1");
G=C.join("");
G+="&ss=0";
}else{G="ss=0";
}if(B.indexOf("pageset.com")!=-1){document.cookie="gset="+G+"; expires="+H.toGMTString()+"; path=/; domain=.pageset.com";
}else{if(I.indexOf("life123.com")!=-1){document.cookie="gset="+G+"; expires="+H.toGMTString()+"; path=/; domain=.life123.com";
}else{if(E.indexOf("shop-savvy.com")!=-1){document.cookie="gset="+G+"; expires="+H.toGMTString()+"; path=/; domain=.shop-savvy.com";
}else{if(F.indexOf("shop411.com")!=-1){document.cookie="gset="+G+"; expires="+H.toGMTString()+"; path=/; domain=.shop411.com";
}else{if(D.indexOf("about.com")!=-1){document.cookie="gset="+G+"; expires="+H.toGMTString()+"; path=/; domain=.about.com";
}else{document.cookie="gset="+G+"; expires="+H.toGMTString()+"; path=/; domain=.ask.com";
}}}}}},clear:function(){var B=window.location.hostname;
var E=window.location.hostname;
var A=window.location.hostname;
var D=window.location.hostname;
var F=window.location.hostname;
if(B.indexOf("pageset.com")!=-1){var C={path:"/",domain:"pageset.com"};
}else{if(E.indexOf("life123.com")!=-1){var C={path:"/",domain:"custom.life123.com"};
}else{if(A.indexOf("shop-savvy.com")!=-1){var C={path:"/",domain:"shop-savvy.com"};
}else{if(D.indexOf("shop411.com")!=-1){var C={path:"/",domain:"shop411.com"};
}else{if(F.indexOf("about.com")!=-1){var C={path:"/",domain:"about.com"};
}else{var C={path:"/",domain:"ask.com"};
}}}}}JASK.ssCfg.queryHistory=null;
$j.cookie("qh",null,C);
},isAvailable:function(){return(!$j.cookie("gset")||$j.cookie("gset").indexOf("ss=0")<0);
},getQueryHistory:function(){var A=JASK.ssCfg.queryHistory;
if(A!=null&&A.length>0){return A.split("|");
}return null;
}};
(function(A){A.fn.ja_getValue=function(C,B){var D=this.val();
if(!D||(B&&D==B)){D=C?C:"";
}return D;
};
})(jQuery);
(function(A){A.fn.searchsuggestion=function(){return this.each(function(){var N=D(this);
var K=window["googleSuggestAds"];
if(K&&K.initialize){K.initialize({client:"suggest-aj-cat",channel:"SuggestAffected",uid:$j.cookie("wz_uid")==null?"":$j.cookie("wz_uid")});
}A(this).autocomplete("http://"+JASK.ssCfg.server+"/query?sstype=prefix&fn=searchSuggestion",{width:N.width,selectFirst:false,highlight:false,scroll:false,max:JASK.ssCfg.max||8,minChars:2,cacheLength:30,matchSubset:false,dataType:"script",formatItem:J,parse:B,itemsKey:"searchSuggestion",setTurnOffComponent:C,left:N.left,top:N.top,adProvider:K,formatAd:G});
A(this).result(function(P,Q){window.location.href=Q.url;
});
function D(Q){var T=new Object();
var P=A("div[name=searchBoxContainer]:first");
var S=A(P).offset();
var R=A(Q).offset();
T.width=A(P).innerWidth()-8;
T.top=A(P).outerHeight(true)-A(Q).outerHeight(true)-(R.top-S.top)+1;
T.left=-2;
if(JASK.ssCfg.width){T.width=JASK.ssCfg.width;
T.top-=JASK.ssCfg.top;
T.left=JASK.ssCfg.left;
}else{if(JASK.ssCfg.channel=="homepage"){T.width=540;
T.top-=1;
T.left=-9;
}else{if(JASK.ssCfg.channel=="themes"){T.width=540;
T.top-=10;
T.left=-12;
}}}return T;
}var O="2352";
var H="0";
var I="dir";
var M=(function(){var R=new Array();
if(JASK.ssCfg.channel=="homepage"){R["qsrc"]="178";
}else{R["qsrc"]=O;
}R["o"]=A("input[name=o]").ja_getValue(H);
R["l"]=A("input[name=l]").ja_getValue(I,"0");
R["siteid"]=A("input[name=siteid]").ja_getValue();
R["vps"]=A("input[name=vps]").ja_getValue();
R["siteid"]=A("input[name=siteid]").ja_getValue();
if(window.location.hostname.indexOf("mypageset.com")!=-1){R["askid"]="undefined"!=typeof $j.cookie("askid")&&$j.cookie("askid")?$j.cookie("askid"):"";
}var P="";
for(var Q in R){if(!R[Q]==""){P+=("&"+Q+"="+R[Q]);
}}return P;
})();
var F=function(){var P="";
if(JASK.ssCfg.channel=="homepage"){if(document.getElementById("ctry_label")&&(document.getElementById("ctry_label").checked==true)){P="&dm=ctry";
}}else{if(document.getElementById("ctrytop")&&(document.getElementById("ctrytop").checked==true)){P="&dm=ctry";
}}return P;
};
function B(R){var Q="";
if(JASK.ssCfg.channel&&JASK.ssCfg.appendParams[JASK.ssCfg.channel]){Q=JASK.ssCfg.appendParams[JASK.ssCfg.channel]+"&";
}var U=F();
var T=[];
if(JASK.ssCfg.ssFromQueryHistory=="true"){var W=JASK.ss.cookie.getQueryHistory();
if(W!=null&&W.length>0){var P=M.replace(/(qsrc=)[^\&]+/,"$12991");
var X=E($j("input[name=q]:first:not(:hidden)").val(),W);
for(var S=0;
S<X.length;
S++){T[T.length]={data:X[S],value:X[S].replace(/(<([^>]+)>)/ig,""),result:X[S].replace(/(<([^>]+)>)/ig,""),url:JASK.ssCfg.ldomain+JASK.ssCfg.path+"?"+Q+"q="+X[S].replace(/(<([^>]+)>)/ig,"").replace(/(\s)/ig,"+")+P+U};
}R=L(X,R);
}}for(var S=0;
S<R.length;
S++){var V=A.trim(R[S]);
if(V){T[T.length]={data:V,value:V.replace(/(<([^>]+)>)/ig,""),result:V.replace(/(<([^>]+)>)/ig,""),url:JASK.ssCfg.ldomain+JASK.ssCfg.path+"?"+Q+"q="+V.replace(/(<([^>]+)>)/ig,"").replace(/(\s)/ig,"+")+M+U};
}}return T;
}function J(V,T,P){if(JASK.ssCfg.ssBold=="true"){var S=V.data;
return A("<a/>").attr("href",V.url).addClass("txt4").html(S.replace(/\\\"suggest\\\"/,"ac_ss_typedtxt"));
}if(JASK.ssCfg.ssFromQueryHistory=="true"){var R=E($j("input[name=q]:first:not(:hidden)").val(),JASK.ss.cookie.getQueryHistory());
if(T<=R.length){var W="#3300B5";
var U=JASK.ssCfg.queryHistoryContentColor.length==0?W:JASK.ssCfg.queryHistoryContentColor;
return A("<a/>").attr("href",V.url).addClass("txt4").css("color",U).html(V.data);
}}if(JASK.ssCfg.ssContentColor=="true"&&T<=JASK.ssCfg.ssItems){var W="#3300B5";
var Q=JASK.ssCfg.ssContentColorCode.length==0?W:JASK.ssCfg.ssContentColorCode;
return A("<a/>").attr("href",V.url).addClass("txt4").css("color",Q).html(V.data);
}return A("<a/>").attr("href",V.url).addClass("txt4").html(V.data);
}function G(P){if(P&&P.line1&&P.line2&&P.visible_url){var Q=A("<div/>");
Q.append(A("<div/>").addClass("label").html("Sponsored Result"));
Q.append(A("<div/>").addClass("line1").html(P.line1));
Q.append(A("<div/>").addClass("line2").html(P.line2));
Q.append(A("<div/>").addClass("url").html(P.visible_url));
return Q;
}return false;
}function C(S,P){var Q=A("<div/>",{"id":"ssdisable"}).appendTo(S);
var R=JASK.ss.cookie.getQueryHistory();
if(JASK.ssCfg.ssFromQueryHistory=="true"&&R!=null&&R.length>0){var U="#3300B5";
var T=JASK.ssCfg.queryHistoryContentColor.length==0?U:JASK.ssCfg.queryHistoryContentColor;
A("<a/>",{"href":"#","class":"txt1","style":"color:"+T,"text":JASK.ssCfg.clearSearchHistory,click:function(){JASK.ss.cookie.clear();
}}).appendTo(Q);
A("<span/>",{"text":" | ","class":"txt1"}).appendTo(Q);
}A("<a/>",{"href":"#","class":"txt1",text:"Turn off suggestions",click:function(){A(P).unautocomplete();
JASK.ss.cookie.disable();
}}).appendTo(Q);
}function E(T,S){var R=new Array();
if(S){var U="^"+A.trim(T)+".*$";
for(var Q=0,P=0;
Q<S.length;
Q++){var V=A.trim(S[Q]);
if(V.match(new RegExp(U,"i"))){R[P]=V;
P++;
}}}return R;
}function L(U,W){var P=new Array();
var R=0;
var V=null;
var T=false;
if(U&&W){for(var S=0;
S<W.length;
S++){for(var Q=0;
Q<U.length;
Q++){V=W[S].replace(/(<([^>]+)>)/ig,"");
if(V===U[Q]){T=true;
break;
}else{T=false;
}}if(!T&&A.inArray(W[S],P)==-1){P[R]=W[S];
R++;
}}}return P;
}});
};
})(jQuery);
$j(document).ready(function(){if(!JASK.ssCfg.disableSS&&JASK.ss.cookie.isAvailable()){if(!$j("input[name=q]:first:not(:hidden)").hasClass("ssDisabled")){$j("input[name=q]:first:not(:hidden)").searchsuggestion();
}}});

$j(document).ready(function(){$j("#ftMobileSite").click(function(){jQuery.cookie("sp","1",{path:"/",domain:"."+location.hostname.match(/\w+\.[^\.]+$/g)[0].replace(/\:\d+/,""),expires:1});
window.location.href=jQuery.param.querystring(window.location.href,"qsrc=14164");
return false;
});
});

JASK.namespace("nanoMe");
(function(A){A.fn.cnb_addClickId=function(B){return this.each(function(){A(this).mousedown(function(){if(B){sct(B);
}});
});
};
})(jQuery);
$j(document).ready(function(){function D(){if($j("#cnbNanoMe")[0]){$j("#nmAvatar, #nmProfileName").cnb_addClickId(53320);
}}function E(){try{JASK.doLogOut();
B();
$j("#cnbSignInText, #a16CnbSignInText").text("Sign In");
$j("#nmAvatar, #nmProfileName").unbind();
$j("#cnbNanoMe, .nanome, #cnbNanoMeSeparator1").html("").hide();
$j("#nmSignInAvatar").show();
}catch(F){}}function B(){$j("#userInfo").load(JASK.cfg.ldomain+"/ja-user-info?rnd="+new Date().getTime(),function(){D();
$j("#cnbSignIn").click(C);
}).show();
}function A(){$j("#cnbSignInText, #a16CnbSignInText").text("Sign Out");
$j("#cnbNanoMe").load(JASK.cfg.ldomain+"/ja-load-nanome?rnd="+new Date().getTime(),function(){D();
}).show();
$j(".nanome").load(JASK.cfg.ldomain+"/ja-user-info?rnd="+new Date().getTime(),function(){D();
}).show();
B();
$j("#nmSignInAvatar").hide();
$j("#cnbNanoMeSeparator1").show();
}JASK.nanoMe.signedIn=A;
JASK.nanoMe.signedOut=E;
function C(F){if(JASK.isEraserOn()){return true;
}F.preventDefault();
if(!JASK.isAuthenticated()){if(JASK&&JASK.ask_dialog&&JASK.ask_dialog.initSignin){JASK.ask_dialog.initSignin(3123);
}else{JASK.ask_dialog.loadAskDialog();
}}else{E();
}}$j(document).bind("questionAsked",function(F,G){window.location.href=$j.param.querystring(JASK.cfg.ldomain+"/answers/browse",{"id":G});
});
$j(document).bind("login",A);
$j(document).bind("userCreated",function(){$j(document).trigger("login");
});
$j("#cnbSignIn, #a16CnbSignIn").click(C);
if(JASK.isAuthenticated&&JASK.isAuthenticated()){D();
}});

(function(A){A.fn.hp_addClickId=function(B){return this.each(function(){A(this).mousedown(function(){if(B){sct(B);
}});
});
};
})(jQuery);
(function(A){A.fn.hp_questionAnswered=function(B){return this.each(function(){A(this).click(function(){var C=(new Date()).getTime();
var F="no";
var G=A(this).hasClass("correct");
if(G){F="yes";
}var D=JASK.cfg.ldomain+"/updateamazondb";
var E=A(this).find("a.qotdopttxt").first().attr("href");
A.get(D,{"cb":C,"qotdid":B,"qotdaction":F},function(H){window.location=E;
});
return false;
});
});
};
})(jQuery);
(function(A){A.fn.hp_impression=function(B,C){if(this.length<1){return ;
}A(window).load(function(){if(B&&B.length&&B.length>0){var D=A("<img />",{src:B}).get();
}if(C){A(D).load(function(){A(D).hp_impression(C);
});
}});
};
})(jQuery);
(function(A){A.fn.hp_insertStyleSheet=function(B){A("<link />",{href:B,rel:"stylesheet",type:"text/css",className:"hp_insertedStyleSheet"}).appendTo("head");
};
})(jQuery);
$j(document).ready(function(){if(window.location.hash=="#opensignin"){window.location.hash="";
}});

JASK.namespace("spellcheck");
JASK.spellcheck.ignoreList=[];
JASK.spellcheck.SpellChecker=function SpellChecker(A){this._errors=[];
this._errorCount=0;
this._currentIndex=0;
this._element=A;
this.conf={};
this.inCorrectionMode=false;
this.isRotating=false;
this.shouldSpellCheck=function(){return true;
};
this.onShow=function(){};
this.checkSpelling=function(){var B=$j("#"+this._element);
var C=B.val();
if(C!=""){$j.ajax({url:this.conf["url"],data:{"data":C},dataType:"jsonp",context:this,success:function(D){this.spellCheckCallback(D);
}});
}else{B.data("spellErrors",0);
}};
this.spellCheckCallback=function(E){var B=this;
B._errorMsg=E;
var F=this._errorMsg["results"];
var D=0;
B._errorCount=0;
B._errors=[];
B._currentIndex=0;
$j.each(F,function(H,G){var J=G["error"];
if(J["type"]=="spelling"){if((JASK.spellcheck.ignoreList.length==0||($j.inArray(J["string"],JASK.spellcheck.ignoreList)==-1))&&$j("#"+B._element).val().indexOf(J["string"])>=0){var I=B.buildErrorStructure(G);
if(I!=undefined){B._errors[D]=I;
D++;
}}}});
B._errorCount=D;
var C=B._element;
$j("#"+C).data("spellErrors",D);
if(D>0&&this.shouldSpellCheck()){this.displayErrors();
}else{if(this.conf.renderError){this.conf.renderError();
}}};
this.buildErrorStructure=function(C){var D;
var E=C["error"];
if(E["suggestions"]!=undefined){D=new Object();
D.suggestions=[];
var B=E["suggestions"]["option"];
$j.each(B,function(F,G){D.suggestions[F]=G;
});
D.actualWord=E["string"];
D.type=E["type"];
D.preContext=E["precontext"];
}return D;
};
this.displayErrors=function(){var C=this._element;
var B=$j("#"+C);
var I=B.val();
B.data("spellErrors",this._errorCount);
if(this._errorCount>0){var H=$j(this.suggestionMarkup(this._currentIndex));
var J="Did you mean?";
if(!this.inCorrectionMode&&!this.isRotating){J=this._errorCount+" misspelling"+((this._errorCount>1)?"s":"")+" found";
}if(this.conf.renderError){this.conf.renderError(J,$j(H),this.inCorrectionMode);
}var E=this._errors[this._currentIndex];
var G=0;
if(B.data("endIndex")!=undefined){G=B.data("endIndex");
}if(this.isRotating){this.isRotating=false;
return ;
}var F=I.indexOf(E.actualWord,G);
if(this._currentIndex==0||F<0){F=I.indexOf(E.actualWord);
}var D=E.actualWord.length;
if(this.inCorrectionMode){B.setSelection(F,F+D);
B.data("startIndex",F);
B.data("endIndex",F+D);
this.isRotating=true;
}this.onShow&&this.onShow();
}else{B.focus();
}};
this.markIgnored=function(E){var C=JASK.spellcheck.ignoreList.length;
var D=this._errors;
var B=[];
JASK.spellcheck.ignoreList[C]=E;
this._errors=$j.grep(this._errors,function(F){return F.actualWord==E;
},true);
this._errorCount=this._errors.length;
if(this._errorCount<=this._currentIndex){this._currentIndex=0;
}};
this.suggestionMarkup=function(B){var E=this._errors;
var D=$j("<ul/>").addClass("spell-suggestions");
var C=this._element;
var F=E[B].actualWord;
$j.each(E[B].suggestions,function(I,H){$j(D).append($j("<li><a onclick=\" JASK.spellcheck.suggestionCorrection('"+C+"',"+I+')" >'+H+"</a></li>"));
});
var G=$j("<div>").addClass("sc-footer").append("<a onclick=\"JASK.spellcheck.ignoreSuggestion('"+C+"','"+escape(F)+"')\">Ignore</a>");
if(E.length>1){G.append('<span class="sc-divider">|</span>').addClass("info").append("<a onclick=\"JASK.spellcheck.nextSpellingError('"+C+"')\">Next misspelling &raquo;</a>");
}return $j("<div>").append($j(D)).append(G);
};
this.getEventHandler=function(B){if(this.conf&&this.conf["events"]){return this.conf["events"][B];
}};
this.moveNext=function(){(this._currentIndex<(this._errorCount-1))?this._currentIndex++:(this._currentIndex=0);
};
this.makeCorrection=function(D){var E=this._errors[this._currentIndex];
var C=E.suggestions[D];
var B=$j("#"+this._element);
var G=B.data("startIndex");
var F=B.data("endIndex");
B.setSelection(G,F);
B.replaceSelection(C);
this.isRotating=false;
this._errors.splice(this._currentIndex,1);
this._errorCount--;
B.data("spellErrors",this._errorCount);
if(this._errorCount>0){this.inCorrectionMode=true;
if(this._errorCount==this._currentIndex){this._currentIndex=0;
}this.displayErrors();
}else{if(this.conf.renderError){this.conf.renderError();
}}};
};
JASK.spellcheck.showSuggestions=function(A){$j("#"+A).trigger("changeToSuggestionMode");
$j("#"+A).trigger("nextSpellingError");
};
JASK.spellcheck.suggestionCorrection=function(B,A){$j("#"+B).trigger("selectSuggestion",[A]);
};
JASK.spellcheck.nextSpellingError=function(A){$j("#"+A).trigger("nextSpellingError");
};
JASK.spellcheck.ignoreSuggestion=function(A,B){$j("#"+A).trigger("ignoreSuggestion",[B]);
};
(function(A){A.fn.ja_spellcheck=function(B){return this.each(function(){var D=$j(this).attr("id");
var C=new JASK.spellcheck.SpellChecker(D);
if(B){C.conf=B;
if(C.getEventHandler("shouldSpellCheck")!=undefined){C.shouldSpellCheck=C.getEventHandler("shouldSpellCheck");
}if(C.getEventHandler("onShow")!=undefined){C.onShow=C.getEventHandler("onShow");
}}$j(this).bind("changeToSuggestionMode",function(E){C._currentIndex=-1;
});
$j(this).bind("selectSuggestion",function(F,E){F.preventDefault();
C.makeCorrection(E);
$j(this).trigger("updateCharCount");
});
$j(this).bind("ignoreSuggestion",function(E,F){C.markIgnored(unescape(F));
$j(this).data("spellErrors",C._errorCount);
if(C._errorCount>0){C.inCorrectionMode=true;
C.isRotating=false;
C.displayErrors();
}else{if(C.conf.renderError){C.conf.renderError();
}}});
$j(this).bind("nextSpellingError",function(E){E.preventDefault();
C.inCorrectionMode=true;
C.isRotating=false;
C.moveNext();
C.displayErrors();
});
$j(this).bind("displaySpellErrors",function(E){C.displayErrors();
});
$j(this).typing({start:function(F,E){C.inCorrectionMode=false;
},stop:function(F,E){if(F.type!="blur"){C.checkSpelling();
}},delay:400});
$j(this).click(function(){C.inCorrectionMode=false;
C.isRotating=false;
if(C.conf.hideSuggestion){C.conf.hideSuggestion();
}});
$j(this).blur(function(){C.inCorrectionMode=false;
});
$j(this).bind("keyup",function(E){C.inCorrectionMode=false;
if(C.conf.hideSuggestion){C.conf.hideSuggestion();
}});
$j(this).bind("keydown",function(E){C.inCorrectionMode=false;
if(C.conf.hideSuggestion){C.conf.hideSuggestion();
}});
$j(this).bind("clearSpellErrors",function(){C._errorCount=0;
C._errors=[];
C._currentIndex=0;
JASK.spellcheck.ignoreList=[];
$j(this).data("spellErrors",0);
});
C.checkSpelling();
});
};
})(jQuery);

(function(D){var C=[];
D.tools=D.tools||{};
D.tools.tooltip={version:"1.1.3",conf:{effect:"toggle",fadeOutSpeed:"fast",tip:null,predelay:0,delay:30,opacity:1,lazy:undefined,position:["top","center"],offset:[0,0],cancelDefault:true,relative:false,oneInstance:true,events:{def:"mouseover,mouseout",input:"focus,blur",widget:"focus mouseover,blur mouseout",tooltip:"mouseover,mouseout"},api:false},addEffect:function(G,E,F){A[G]=[E,F];
}};
var A={toggle:[function(H){var G=this.getConf(),F=this.getTip(),E=G.opacity;
if(E<1){F.css({opacity:E});
}F.show();
H.call();
},function(E){this.getTip().hide();
E.call();
}],fade:[function(E){this.getTip().fadeIn(this.getConf().fadeInSpeed,E);
},function(E){this.getTip().fadeOut(this.getConf().fadeOutSpeed,E);
}]};
function B(O,N){var E=this,J=D(this);
O.data("tooltip",E);
var I=O.next();
if(N.tip){I=D(N.tip);
if(I.length>1){I=O.nextAll(N.tip).eq(0);
if(!I.length){I=O.parent().nextAll(N.tip).eq(0);
}}}function F(R){var S=N.relative?O.position().top:O.offset().top,T=N.relative?O.position().left:O.offset().left,Q=N.position[0];
S-=I.outerHeight()-N.offset[0];
T+=O.outerWidth()+N.offset[1];
var V=I.outerHeight()+O.outerHeight();
if(Q=="center"){S+=V/2;
}if(Q=="bottom"){S+=V;
}Q=N.position[1];
var U=I.outerWidth()+O.outerWidth();
if(Q=="center"){T-=U/2;
}if(Q=="left"){T-=U;
}return{top:S,left:T};
}var L=O.is(":input"),P=L&&O.is(":checkbox, :radio, select, :button"),M=O.attr("type"),G=N.events[M]||N.events[L?(P?"widget":"input"):"def"];
G=G.split(/,\s*/);
if(G.length!=2){throw"Tooltip: bad events configuration for "+M;
}O.bind(G[0],function(Q){if(N.oneInstance){D.each(C,function(){this.hide();
});
}var R=I.data("trigger");
if(R&&R[0]!=this){I.hide().stop(true,true);
}Q.target=this;
E.show(Q);
G=N.events.tooltip.split(/,\s*/);
I.bind(G[0],function(){E.show(Q);
});
if(G[1]){I.bind(G[1],function(){E.hide(Q);
});
}});
O.bind(G[1],function(Q){E.hide(Q);
});
if(!D.browser.msie&&!L&&!N.predelay){O.mousemove(function(){if(!E.isShown()){O.triggerHandler("mouseover");
}});
}if(N.opacity<1){I.css("opacity",N.opacity);
}var H=0,K=O.attr("title");
if(K&&N.cancelDefault){O.removeAttr("title");
O.data("title",K);
}D.extend(E,{show:function(Q){if(Q){O=D(Q.target);
}clearTimeout(I.data("timer"));
if(I.is(":animated")||I.is(":visible")){return E;
}function R(){I.data("trigger",O);
var S=F(Q);
if(N.tip&&K){I.html(O.data("title"));
}Q=Q||D.Event();
Q.type="onBeforeShow";
J.trigger(Q,[S]);
if(Q.isDefaultPrevented()){return E;
}S=F(Q);
I.css({position:"absolute",top:S.top,left:S.left});
var T=A[N.effect];
if(!T){throw'Nonexistent effect "'+N.effect+'"';
}T[0].call(E,function(){Q.type="onShow";
J.trigger(Q);
});
}if(N.predelay){clearTimeout(H);
H=setTimeout(R,N.predelay);
}else{R();
}return E;
},hide:function(Q){clearTimeout(I.data("timer"));
clearTimeout(H);
if(!I.is(":visible")){return ;
}function R(){Q=Q||D.Event();
Q.type="onBeforeHide";
J.trigger(Q);
if(Q.isDefaultPrevented()){return ;
}A[N.effect][1].call(E,function(){Q.type="onHide";
J.trigger(Q);
});
}if(N.delay&&Q){I.data("timer",setTimeout(R,N.delay));
}else{R();
}return E;
},isShown:function(){return I.is(":visible, :animated");
},getConf:function(){return N;
},getTip:function(){return I;
},getTrigger:function(){return O;
},bind:function(R,Q){J.bind(R,Q);
return E;
},onHide:function(Q){return this.bind("onHide",Q);
},onBeforeShow:function(Q){return this.bind("onBeforeShow",Q);
},onShow:function(Q){return this.bind("onShow",Q);
},onBeforeHide:function(Q){return this.bind("onBeforeHide",Q);
},unbind:function(Q){J.unbind(Q);
return E;
}});
D.each(N,function(R,Q){if(D.isFunction(Q)){E.bind(R,Q);
}});
}D.prototype.tooltip=function(G){var F=this.eq(typeof G=="number"?G:0).data("tooltip");
if(F){return F;
}var E=D.extend(true,{},D.tools.tooltip.conf);
if(D.isFunction(G)){G={onBeforeShow:G};
}else{if(typeof G=="string"){G={tip:G};
}}G=D.extend(true,E,G);
if(typeof G.position=="string"){G.position=G.position.split(/,?\s/);
}if(G.lazy!==false&&(G.lazy===true||this.length>20)){this.one("mouseover",function(H){F=new B(D(this),G);
F.show(H);
C.push(F);
});
}else{this.each(function(){F=new B(D(this),G);
C.push(F);
});
}return G.api?F:this;
};
})(jQuery);
(function(A){var B=A.tools.tooltip;
B.effects=B.effects||{};
B.effects.slide={version:"1.0.0"};
A.extend(B.conf,{direction:"up",bounce:false,slideOffset:10,slideInSpeed:200,slideOutSpeed:200,slideFade:!A.browser.msie});
var C={up:["-","top"],down:["+","top"],left:["-","left"],right:["+","left"]};
A.tools.tooltip.addEffect("slide",function(H){var F=this.getConf(),E=this.getTip(),D=F.slideFade?{opacity:F.opacity}:{},G=C[F.direction]||C.up;
D[G[1]]=G[0]+"="+F.slideOffset;
if(F.slideFade){E.css({opacity:0});
}E.show().animate(D,F.slideInSpeed,H);
},function(H){var F=this.getConf(),D=F.slideOffset,E=F.slideFade?{opacity:0}:{},G=C[F.direction]||C.up;
var I=""+G[0];
if(F.bounce){I=I=="+"?"-":"+";
}E[G[1]]=I+"="+D;
this.getTip().animate(E,F.slideOutSpeed,function(){A(this).hide();
H.call();
});
});
})(jQuery);
(function(C){var D=C.tools.tooltip;
D.plugins=D.plugins||{};
D.plugins.dynamic={version:"1.0.1",conf:{api:false,classNames:"top right bottom left"}};
function A(E){var H=C(window);
var F=H.width()+H.scrollLeft();
var G=H.height()+H.scrollTop();
return[E.offset().top<=H.scrollTop(),F<=E.offset().left+E.width(),G<=E.offset().top+E.height(),H.scrollLeft()>=E.offset().left];
}function B(E){var F=E.length;
while(F--){if(E[F]){return false;
}}return true;
}C.fn.dynamic=function(G){var F=C.extend({},D.plugins.dynamic.conf),H;
if(typeof G=="number"){G={speed:G};
}G=C.extend(F,G);
var I=G.classNames.split(/\s/),E;
this.each(function(){if(C(this).tooltip().jquery){throw"Lazy feature not supported by dynamic plugin. set lazy: false for tooltip";
}var J=C(this).tooltip().onBeforeShow(function(O,N){var K=this.getTip(),L=this.getConf();
if(!E){E=[L.position[0],L.position[1],L.offset[0],L.offset[1],C.extend({},L)];
}C.extend(L,E[4]);
L.position=[E[0],E[1]];
L.offset=[E[2],E[3]];
K.css({visibility:"hidden",position:"absolute",top:N.top,left:N.left}).show();
var M=A(K);
if(!B(M)){if(M[2]){C.extend(L,G.top);
L.position[0]="top";
K.addClass(I[0]);
}if(M[3]){C.extend(L,G.right);
L.position[1]="right";
K.addClass(I[1]);
}if(M[0]){C.extend(L,G.bottom);
L.position[0]="bottom";
K.addClass(I[2]);
}if(M[1]){C.extend(L,G.left);
L.position[1]="left";
K.addClass(I[3]);
}if(M[0]||M[2]){L.offset[0]*=-1;
}if(M[1]||M[3]){L.offset[1]*=-1;
}}K.css({visibility:"visible"}).hide();
});
J.onShow(function(){var K=this.getConf(),L=this.getTip();
K.position=[E[0],E[1]];
K.offset=[E[2],E[3]];
});
J.onHide(function(){var K=this.getTip();
K.removeClass(G.classNames);
});
H=J;
});
return G.api?H:this;
};
})(jQuery);

(function(A){A.fn.autoResize=function(B){var C=A.extend({onResize:function(){},animate:true,animateDuration:150,animateCallback:function(){},extraSpace:20,limit:1000},B);
this.filter("textarea").each(function(){var E=A(this).css({resize:"none","overflow-y":"hidden"}),G=E.height(),H=(function(){var I=["height","width","lineHeight","textDecoration","letterSpacing"],J={};
A.each(I,function(K,L){J[L]=E.css(L);
});
return E.clone().removeAttr("id").removeAttr("name").css({position:"absolute",top:0,left:-9999}).css(J).attr("tabIndex","-1").insertBefore(E);
})(),F=null,D=function(){H.height(0).val(A(this).val()).scrollTop(10000);
var J=Math.max(H.scrollTop(),G)+C.extraSpace,I=A(this).add(H);
if(F===J){return ;
}F=J;
if(J>=C.limit){A(this).css("overflow-y","");
return ;
}C.onResize.call(this);
C.animate&&E.css("display")==="block"?I.stop().animate({height:J},C.animateDuration,C.animateCallback):I.height(J);
};
E.unbind(".dynSiz").bind("keyup.dynSiz",D).bind("keydown.dynSiz",D).bind("change.dynSiz",D);
});
return this;
};
})(jQuery);

JASK.namespace("validation");
JASK.validation.getRecaptcha=function(B,F){var E=(JASK.communityCfg.recaptchaEnabled==="true");
var C=$j("#recaptchaDialog");
C.bind("userClosedDialog",function(G){if(G.id==="recaptchaDialog"){C.data("canceled",true);
}});
if(!C.data().canceled){function A(){var H={};
if(E&&C.is(":visible")){var G=$j.trim($j("#answerRecaptcha .recaptcha").val());
if(G.length===0||G==="enter the words above"){$j("#recaptchaError").hide();
$j("#recaptchaEmpty").show();
}else{H["recaptcha_challenge_field"]=Recaptcha.get_challenge();
H["recaptcha_response_field"]=$j("#answerRecaptcha .recaptcha").val();
$j("#recaptchaEmpty").hide();
C.dialog("close");
}}return H;
}if(B){$j("#recaptchaError").show();
$j("#recaptchaEmpty").hide().bind("click",function(){var G=A();
if(typeof F==="function"&&G["recaptcha_response_field"]){F.apply(this,[G]);
}});
Recaptcha.reload();
}else{$j("#recaptchaError,#recaptchaEmpty").hide();
$j("#recaptchaBtn").unbind("click").bind("click",function(){var G=A();
if(typeof F==="function"&&G["recaptcha_response_field"]){F.apply(this,[A()]);
}});
$j("#recaptcha_image").attr("id","recaptcha_image_old");
$j("#answerRecaptcha #answerRecaptchaImage").attr("id","recaptcha_image");
Recaptcha.focus_response_field=function(){};
Recaptcha.create("6LeUnAIAAAAAAFK4AJHqebEoW5xCHMe5MmwvQHJL","recaptcha_image",{theme:"custom"});
}var D=$j("#answerRecaptcha .recaptcha");
D.val(D.attr("default"));
D.toggleClass("prefocus",true);
D.toggleClass("postfocus",false);
}C.dialog("open");
};

JASK.namespace("signin");
JASK.signin.changeState=(function(){function A(){$j("#lnvConnMod").load(JASK.cfg.ldomain+"/ja-following-update?rnd="+new Date().getTime()+"&lnvConnMod=1&maxconn=24").show();
}return{signedIn:function(){JASK.nanoMe.signedIn();
A();
},signedOut:function(){JASK.nanoMe.signedOut();
},getConnections:function(){A();
}};
})();

JASK.namespace("question");
JASK.namespace("answer");
JASK.answer.throttle="throttle";
JASK.answer.dailyThrottle="dailyThrottle";
JASK.answer.duplicate="duplicate";
JASK.answer.spam="spam";
JASK.answer.recaptcha="recaptcha";
JASK.answer.authentication="authentication";
JASK.answer.general="general";
JASK.answer.askerAnswered="askerAnswered";
JASK.answer.answeredTwice="answeredTwice";
JASK.answer.duplicateError="Some one from your organization has already answered this question.";
JASK.answer.generalError="Sorry, there was an error saving your answer. Please try again.";
JASK.answer.askerAnsweredError="Sorry, you can't answer your own question";
JASK.answer.answeredTwiceError="Sorry, you've already answered this question.";
JASK.question.answer=function(B,D){var A=D?D:function(){};
var C=B["quickAnswer"]?B["quickAnswer"]:false;
if(C){url=JASK.cfg.ldomain+"/ja-quick-answer?qid="+JASK.cfg.queryid;
}else{url=JASK.cfg.ldomain+"/ja-submit-answer?qid="+JASK.cfg.queryid;
}if(JASK.isAuthenticated()){$j.post(url,B,function(E){if($j("errormessage",E).attr("type")=="error"&&$j("errormessage",E).attr("code")==161){A($j.extend(B,{success:false,error:JASK.answer.throttle}),E);
}else{if($j("errormessage",E).attr("type")=="error"&&$j("errormessage",E).attr("code")==165){A($j.extend(B,{success:false,error:JASK.answer.dailyThrottle}),E);
}else{if($j("errormessage",E).attr("type")=="error"&&$j("errormessage",E).attr("code")==112){A($j.extend(B,{success:false,error:JASK.answer.answeredTwice}),E);
}else{if($j("errormessage",E).attr("type")=="error"&&$j("errormessage",E).attr("code")==113){A($j.extend(B,{success:false,error:JASK.answer.askerAnswered}),E);
}else{if($j("errormessage",E).attr("type")=="error"&&$j("errormessage",E).attr("code")==173){A($j.extend(B,{success:false,error:JASK.answer.duplicate}),E);
}else{if($j("errormessage",E).attr("type")=="error"){JASK.cfg.ans_count=0;
A($j.extend(B,{success:false,error:JASK.answer.general}),E);
}else{if($j("errormessage",E).attr("type")=="spam"){JASK.cfg.ans_count=0;
A($j.extend(B,{success:false,error:JASK.answer.spam}),E);
}else{if($j("errormessage",E).attr("type")=="recaptcha"){JASK.cfg.ans_count=0;
A($j.extend(B,{success:false,error:JASK.answer.recaptcha}),E);
}else{A($j.extend(B,{success:true}),E);
}}}}}}}}},"xml");
}else{A($j.extend(B,{success:false,error:JASK.answer.authentication}));
}};
(function(A){A.fn.quickSubmitAnswer=function(){return A(this).live("click",function(){function E(M,O){var N=M["id"];
var L=A("#quickanswerfrm-"+N);
var K=A(".quickanswererr",L);
if(M.success){if(JASK.hp){sct(68);
}if(A("html",O).text()!=0){var J=A("html",O).text();
L.parent("div").replaceWith(J);
JASK.question.countDownTimer($j(".editCntDwn","#questionContent"+N));
}else{K.html("<span class='error b txt3'>"+JASK.answer.generalError+"</span>");
}}else{switch(M.error){case JASK.answer.throttle:K.html("<span class='error b txt3'>"+JASK.communityCfg.answerThrottleError+"</span>");
break;
case JASK.answer.dailyThrottle:K.html("<span class='error b txt3'>"+JASK.communityCfg.answerDailyThrottleError+"</span>");
break;
case JASK.answer.duplicate:K.html("<span class='error b txt3'>"+JASK.answer.duplicateError+"</span>");
break;
case JASK.answer.answeredTwice:K.html("<span class='error b txt3'>"+JASK.answer.answeredTwiceError+"</span>");
break;
case JASK.answer.askerAnswered:K.html("<span class='error b txt3'>"+JASK.answer.askerAnsweredError+"</span>");
break;
case JASK.answer.spam:if(JASK&&JASK.ask_dialog&&JASK.ask_dialog.initSignInOrUp){JASK.validation.getRecaptcha(false,function(P){$j.extend(M,P);
JASK.question.answer(M,E);
});
}else{$j(document).unbind("askDialogLoaded");
$j(document).bind("askDialogLoaded",function(){JASK.validation.getRecaptcha(false,function(P){$j.extend(M,P);
JASK.question.answer(M,E);
});
});
JASK.ask_dialog.loadAskDialog();
}break;
case JASK.answer.recaptcha:if(JASK&&JASK.ask_dialog&&JASK.ask_dialog.initSignInOrUp){JASK.validation.getRecaptcha(true,function(P){$j.extend(M,P);
JASK.question.answer(M,E);
});
}else{$j(document).unbind("askDialogLoaded");
$j(document).bind("askDialogLoaded",function(){JASK.validation.getRecaptcha(true,function(P){$j.extend(M,P);
JASK.question.answer(M,E);
});
});
JASK.ask_dialog.loadAskDialog();
}break;
case JASK.answer.authentication:var I=JASK.cfg.trackerData.qsrc;
if(JASK.hp&&JASK.hp.conf&&JASK.hp.conf.answerFunnelQsrc){I=JASK.hp.conf.answerFunnelQsrc;
}if(JASK&&JASK.ask_dialog&&JASK.ask_dialog.initSignInOrUp){JASK.ask_dialog.initSignInOrUp(I,function(){JASK.signin.changeState.signedIn();
JASK.question.answer(M,E);
});
}else{$j(document).unbind("askDialogLoaded");
$j(document).bind("askDialogLoaded",function(){JASK.ask_dialog.initSignInOrUp(I,function(){JASK.signin.changeState.signedIn();
JASK.question.answer(M,E);
});
});
JASK.ask_dialog.loadAskDialog();
}break;
case JASK.answer.general:K.html("<span class='error b txt3'>"+JASK.answer.generalError+"</span>");
break;
}}A("#quickanswerbtn-"+N).showDone();
}var H=A(this).attr("id").split("-")[1];
var F=$j(this).closest("form");
var C=F.find("#quickanswertxt-"+H);
var D=A(".quickanswererr",F);
if(C.data("unmodified")==true){C.data("unmodified",false);
C.val("");
}D.html("");
var G=A.serializeObject(F);
G["quickAnswer"]=true;
var B=JASK.question.validateAnswer(false,C.val());
if(B.valid){A(this).showBusy();
JASK.question.answer(G,E);
}else{D.html("<span class='error b txt3'>"+B.error+"</span>");
}});
};
})(jQuery);
JASK.answer.readyTxtBox=function(A){A.data("unmodified",false);
A.val("");
A.removeAttr("style");
};
JASK.answer.resetTxtBox=function(A,B){A.data("unmodified",true);
A.attr("style","color: #666;");
A.val(B);
};
JASK.answer.bindQuickAnswerSpellCheck=function bindQuickAnswerSpellCheck(B){var A=$j("#"+B).closest("form");
$j("#"+B).ja_spellcheck({events:{shouldSpellCheck:function(){var E=this._element;
var F=$j("#"+E);
var C=(F.data("spellErrors")>0);
if(!C){var D=$j("#ans-sc-wrp");
D.addClass("hide");
D.find(".sc-desc").html("");
}return C;
}},url:JASK.cfg.scDomain+"/ja-spellcheck",renderError:function(H,F){var I=$j("#"+B);
var C=B.split("-")[1];
var E=I.data("spellErrors");
var D=$j("#ans-sc-wrp");
if(E<=0){$j(".sc-answer-err",A).slideUp();
D.hide();
}else{if(E){$j(".sc-answer-err",A).slideDown();
$j("#answer_error").html("");
var G=E+" misspelling"+((E>1)?"s":"")+" found";
$j(".sc-count",A).html(G);
D.find(".sc-desc").html(F);
}}},hideSuggestion:function(){JASK.question.hideToolTip();
}});
};
function jaDisplaySpellcheckDetails(B,A){B.tooltip({events:{input:"focus, click dummyevent",tooltip:""},tip:"#ans-sc-wrp",position:"center right",offset:[0,20],onShow:function(){if(this.getTrigger().data("spellErrors")<=0){JASK.question.hideToolTip();
}else{var C=$j("#ans-sc-wrp");
if(C.data("animateMode")!="1"){C.animate({left:"-=15"});
C.data("animateMode","1");
}else{C.css("left",(C.position().left-15)+"px");
}}}});
JASK.spellcheck.showSuggestions(B.attr("id"));
}
JASK.cfg.ans_count=0;
JASK.namespace("answer");
JASK.namespace("question");
JASK.question.okToAnswer=function(E,C){var B=true;
JASK.cfg.ans_count++;
var D=(E)?$j("#edit_ans_form > #answer_error"):$j("#answerfrm > #answer_error");
var H="";
if(!E&&JASK.cfg.ans_count>1){B=false;
return B;
}var A=(E)?$j("#ans-edit-txt"):$j("#answer-form-txt");
if(C&&$j(C).length>0){A=$j(C);
D=$j("#mkt_error");
}var F=$j.noOfLinksInText(A.val());
var G=A.val();
if(!G){H="Sorry, you cannot submit a blank answer!";
$j(D).html("<span class='error b txt3'>"+H+"</span>");
JASK.cfg.ans_count=0;
B=false;
}else{if(G=="Answer this question..."){JASK.cfg.ans_count=0;
B=false;
}else{if(G==null||G==""||$j.trim(G).length==0){H="Sorry, you cannot submit a blank answer!";
$j(D).html("<span class='error b txt3'>"+H+"</span>");
JASK.cfg.ans_count=0;
B=false;
}else{if(G.length>JASK.communityCfg.answerCharLimit){H=JASK.communityCfg.answerCharLimitExceedError;
$j(D).html("<span class='error b txt3'>"+H+"</span>");
JASK.cfg.ans_count=0;
B=false;
}else{if(!G.match(/[a-z0-9]/)){H="Please don't use all caps for your answer.";
$j(D).html("<span class='error b txt3'>"+H+"</span>");
JASK.cfg.ans_count=0;
B=false;
}else{if(F>JASK.communityCfg.answerMaxUrlAllowedCount){$j(D).html("<span class='error b txt3'>"+JASK.communityCfg.answerSpamLinksError+"</span>");
JASK.cfg.ans_count=0;
B=false;
}}}}}}return B;
};
JASK.question.hideToolTip=function(){$j("#ans-sc-wrp").hide();
var A=$j(".sc-toggle > .hide-ss");
A.text("Show Suggestions");
A.removeClass("hide-ss").addClass("show-ss");
$j("#ans-sc-wrp").data("animateMode","0");
};
JASK.question.hideQuestionSpellcheckToolTip=function(){$j("#askq_sc_wrp").css("display","none");
$j("#askq_help").css("display","block");
var A=$j(".q-sc-toggle > .hide-ss");
A.text("Show Suggestions");
A.removeClass("hide-ss").addClass("show-ss");
$j("#askq_sc_wrp").data("animateMode","0");
};
JASK.question.validateAnswer=function(C,B){var A={};
JASK.cfg.ans_count++;
var E="";
if(!C&&JASK.cfg.ans_count>1){A={valid:false};
}var D=$j.noOfLinksInText(B);
if(!B){E="Sorry, you cannot submit a blank answer.";
JASK.cfg.ans_count=0;
A={valid:false,error:E};
}else{if(B==null||B==""||$j.trim(B).length==0){E="Sorry, you cannot submit a blank answer.";
A={valid:false,error:E};
JASK.cfg.ans_count=0;
}else{if(!B.match(/[a-z0-9]/)){E="Please don't use all caps for your answer.";
A={valid:false,error:E};
JASK.cfg.ans_count=0;
}else{if(D>JASK.communityCfg.answerMaxUrlAllowedCount){A={valid:false,error:JASK.communityCfg.answerSpamLinksError};
JASK.cfg.ans_count=0;
}else{if(B.length>JASK.communityCfg.answerCharLimit){A={valid:false,error:JASK.communityCfg.answerCharLimitExceedError};
JASK.cfg.ans_count=0;
}else{A={valid:true};
}}}}}return A;
};

$j(document).bind("login",function(){window.location.reload();
});
$j(document).bind("logout",function(){window.location.reload();
});
$j(function(){var A=$j("#qtxt");
A.bind("updateCharCount",JASK.question.charLimit);
A.focus(function(){A.trigger("updateCharCount");
A.keyup(JASK.question.charLimit);
});
A.autoResize({extraSpace:0}).keyup();
});
$j(document).ready(function(){$j(".quickanswerbox").live("keypress",function(A){if($j(this).data("events")==undefined||$j(this).data("events").keypress==undefined){$j(this).autoResize();
JASK.answer.bindQuickAnswerSpellCheck(this.id);
}});
$j(".labeledBox").each(function(B,C){var A=$j(C);
if(A.data("unmodified")==true){JASK.answer.resetTxtBox(A,A.data("label"));
}});
$j(".labeledBox").live("keypress",function(A){if($j(this).data("unmodified")==true){$j(this).data("unmodified",false);
}});
$j(".quickanswerbox .labeledBox").live("blur",function(B){var A=$j(this);
if(A.val()==""){JASK.answer.resetTxtBox(A,A.data("label"));
}});
$j(".labeledBox").live("focus",function(){var A=$j(this);
if(A.data("unmodified")==true){JASK.answer.readyTxtBox(A);
}$j(".quickanswerfrm").each(function(){var B=$j(this).find(".quickanswerbox");
if(!B.is(A)&&(B.val()==""||B.data("unmodified")==true)){$j(this).find(".quickansweraction").hide();
}else{$j(this).find(".quickansweraction").show();
}});
});
$j(".quickanswerbtn").quickSubmitAnswer();
$j(".quickanswerclear").live("click",function(B){B.preventDefault();
$j(this).closest("form").find(".quickansweraction").slideUp();
var C=$j(this).attr("id").split("-")[1];
var A=$j("#quickanswertxt-"+C);
$j("#quickanswererr-"+C).html("");
JASK.question.hideToolTip();
JASK.answer.resetTxtBox(A,A.data("label"));
});
});

JASK.namespace("logging");
JASK.logging.JALogger=function JALogger(A){var D={iId:"0"};
$j.extend(D,JASK.cfg.trackerData);
if(A){$j.extend(D,A);
}var C=this;
function B(J,G,K){var F=(G)?G:JASK.cfg.trackerImpressionUri;
var I=K||function(){};
var H={};
$j.extend(H,JASK.cfg.trackerData,J);
$j.ajax({url:F,data:H,success:I,cache:false,global:false});
}function E(F){if(D.gaMode&&F.iId&&F.evId&&_gaq&&_gaq.push){_gaq.push(["_trackEvent",F.iId,F.evId,""]);
}}this.bindActivity=function(K,I){var H="*[data-activity]";
var F=(K)?$j(K).find(H):$j(H);
function G(){var L=$j(this).attr("data-activity");
B({"iId":D.iId,"evId":L,"qsrc":D.qsrc},JASK.cfg.trackerActivityUri);
E({"iId":D.iId,"evId":L});
}var J=I||G;
C.bind(F,J);
};
this.bind=function(F,H){if(typeof F=="string"){var G=$j(F);
}else{var G=F;
}G.each(function(){var I=($j(this).attr("data-eventType"))?$j(this).attr("data-eventType"):"mousedown";
$j(this).unbind(I+".activity");
$j(this).bind(I+".activity",H);
});
};
this.activity=function(F){B(F,JASK.cfg.trackerActivityUri);
E(F);
};
this.impression=function(F){B(F);
$j.extend(D,F);
};
this.setParams=function(F){$j.extend(D,F);
};
this.resetParams=function(){D={iId:"0"};
$j.extend(D,JASK.cfg.trackerData);
};
this.getParams=function(){return D;
};
};
JASK.logging.fid="generic";
(function(A){A.fn.ja_addClickId=function(B){return this.each(function(){A(this).mousedown(function(){if(B){sct(B);
}});
});
};
})(jQuery);
(function(A){A.fn.ja_impression=function(B,C){if(this.length<1){return ;
}A(window).load(function(){if(B&&B.length&&B.length>0){var D=A("<img />",{src:B}).get();
if(C){A(D).load(function(){A(D).hp_impression(C);
});
}}});
};
})(jQuery);
JASK.logging.doPickOrdinal=function doPickOrdinal(G,A){var E=121;
var F=JASK.cfg.queryid;
var D=JASK.logging.getPickFragmentOrdinal(G,A);
var C=encodeURI(_SP(D));
C=JASK.logging.setPickUrlLdId(C);
C=$j.param.querystring(C,"c="+JASK.logging.fid);
C=$j.param.querystring(C,"qs="+E);
C=$j.param.querystring(C,"id="+F);
C=decodeURI($j.param.querystring(C,"p=1"));
var B=new Image();
B.src=C;
};
JASK.logging.getLdIdFromLdptCookie=function getLdIdFromLdptCookie(){var A="0";
var D=$j.cookie("ldpt");
if(D&&D.length>0){var B=D.indexOf("porg=");
if(B!=-1){try{A=D.substring(B+5,B+9);
}catch(C){}}}return A;
};
JASK.logging.setPickUrlLdId=function setPickUrlLdId(C){var A=C;
var B=JASK.logging.getLdIdFromLdptCookie();
var D=C.indexOf("&ex=");
if(D!=-1){A=C.substring(0,D);
}return $j.param.querystring(A,"ld="+B);
};
JASK.logging.getPickFragmentOrdinal=function getPickFragmentOrdinal(F,A){var E={en:"",io:A,b:"",tp:"d",ec:"1",ex:""};
var B=F.split("-");
var C=B[0];
var D=B[1];
if(D=="cf_action"){E.en="ccf";
}if(C=="cfalert"){E.b="jfc";
}return E;
};
JASK.logging.getPickFragment=function getPickFragment(A){return JASK.logging.getPickFragmentOrdinal(A,"0");
};
JASK.logging.doPick=function doPick(A){JASK.logging.doPickOrdinal(A,"0");
};

JASK.ja.maxTopicLength=50;
JASK.ja.topicLengthErrMsg="Sorry, that topic is too long. Please enter one topic at a time and keep them concise but descriptive.";
JASK.ja.fid="generic";
JASK.ja.hasQuestionErrors=0;
JASK.ja.hasTagsErrors=0;
JASK.ja.hasDetailErrors=0;
JASK.ja.hasQuestionWarnings=0;
JASK.ja.communityQMustHaveInterrogatives="";
JASK.namespace("ask_dialog");
JASK.ask_dialog=(function(Ba,BT){var B3=new JASK.logging.JALogger();
var Ay=null;
var y=(BT.recaptchaEnabled=="true")?true:false;
var z=(BT.spellcheckEnabled=="true")?true:false;
var AX=false;
var BJ="signin";
var CF=false;
var B="asker";
var r="learnmore";
var Bw="generic";
var Ar={"asker":"jrf","learnmore":"jaf","generic":"jgf","komen":"jkl"};
var W="ccf";
var k="jfc";
var A7=Bx(BA(BT.sessionTracker1));
var G=Bx(BA(BT.sessionTracker2));
var F=Bx(BA(BT.sessionTracker3));
var h=Bx(BA(BT.sessionTracker4));
var BF=Bx(BA(BT.sessionTracker5));
var A8=Bx(BA(BT.sessionTracker6));
var X=Bx(BA(BT.sessionTracker7));
var I=Bx(BA(BT.sessionTracker8));
var Bt=JASK.cfg.trackerData.qsrc||121;
var AB=BT.qBoxCharLimit;
var O=JASK.cfg.queryid;
var Bm=_claraAdcat||"24";
var B1=$j.getUrlParam("id");
var CB=$j.getUrlParam("tokentype")||"";
if(B1!=null){var BK=BT.protocol+"://"+BT.secureDomain+"/ja-new-user?token="+encodeURIComponent(B1)+"&tokentype="+CB+"&qsrc=";
}else{var BK=BT.protocol+"://"+BT.secureDomain+"/ja-new-user?qsrc=";
}var A3="";
var Bk="http://"+BT.resultsDomain+"/ja-new-question?qid="+BT.qid+"&qsrc=";
var o="http://"+BT.resultsDomain+"/ja-send-email?qsrc=";
var L="http://"+BT.spellcheckDomain+"/ja-spellcheck";
var Ac=BT.EMAIL_UNAVAILABLE;
var A5=BT.EMAIL_INVALID;
var Y=BT.USER_TOOSHORT;
var C=BT.USER_UNAVAILABLE;
var Bd=BT.USER_INVALID;
var Aw=BT.USER_NONEXISTENT;
var BL=BT.PASS_TOOSHORT;
var Ag=BT.PASS_HASSPACE;
var l=BT.PASS_NOMATCH;
var Bb=BT.CAPTCHA_INCORRECT;
var V=BT.USER_UNDERSCORE;
var AT=BT.USER_CONS_UNDERSCORES;
var BY=BT.EMAIL_HELP;
var Ai=BT.USER_HELP;
var AR=BT.PASS_HELP;
var Ah=BT.CAPTCHA_HELP;
var AD=BT.TOPICS_EMPTY;
var e=BT.TOPICS_EXCEEDS;
var i=BT.DUPLICATE_TOPIC;
var Aq=BT.TOPICS_CHARACTER_LIMIT;
var Am=BT.QUESTION_EMPTY;
var An=BT.QUESTION_CAPS;
var BM=BT.QUESTION_LEN;
var Av=BT.DETAILS_LEN;
var AO=BT.DETAILS_LONG;
var B6=BT.NOT_A_QUESTION;
var BH=BT.AS_A_QUESTION;
var AU="       "+BT.ANALYZING;
var d=BT.NO_HTML;
var c=BT.SIGNIN_EMPTY;
var By=BT.SIGNIN_FAIL;
var Bc=BT.ADD_PLACE;
var Bi=BT.ADD_INTEREST;
var b=BT.OOPS;
var AE=BT.AJAXERR;
var Al=BT.QUESTION_POST_ERROR;
var AG=BT.QUESTION_DAILY_THROTTLE_ERROR;
var AW=BT.QUESTION_MULTI_QUES_MARK;
var At=BT.QUESTION_SHORT_TEXT;
var AA=BT.QUESTION_CAPS_LIMITED;
var a=BT.ALREADY_LINKED;
var s=["","","",""];
var BO=BT.INVALID_SHORTHAND_WORDS;
var n=false;
var Bz=false;
var N=false;
var m=false;
var j=false;
var Bg="";
var AQ=[BT.threshold1,BT.threshold2,BT.threshold3];
var Bo=false;
function CJ(){var CN=100;
var CM=999;
var J=CM-CN;
var CL=Math.floor(Math.random()*J+CN);
var CK=Math.floor(Math.random()*J+CN);
return CL.toString()+CK.toString();
}function BA(J){var CK=CJ();
return $j.param.querystring(J,"ord="+CK);
}function Bx(CK){var J=JASK.logging.getLdIdFromLdptCookie();
return $j.param.querystring(CK,"ld="+J);
}function Aj(J){return $j.param.querystring(J,"c="+Ar[JASK.ja.fid]);
}function Au(J){JASK.ja.fid=J||JASK.ja.fid;
}function Br(J){A3=J;
}function CG(CK){if(CK){return true;
}var J=true;
$j("#signupform").find(".txtin").each(function(){if(!this.value){JASK.showValidateMsg("error","#signup_ok",c);
J=false;
}});
if(!J){return false;
}if(!Ba.validatePassword()){J=false;
}if(!Ba.confirmPassword()){J=false;
}if(($j("#dialog_email").data("email")!=$j("#dialog_email").val())&&!$j("#dialog_email").data("isPending")){J=false;
}if((($j("#dialog_username").data("user")!=$j("#dialog_username").val())||!$j("#dialog_username").val())&&!$j("#dialog_username").data("isPending")){J=false;
}if($j("#dialog_pusername").length>0&&(($j("#dialog_pusername").data("puser")!=$j("#dialog_pusername").val())||!$j("#dialog_pusername").val())&&!$j("#dialog_pusername").data("isPending")){J=false;
}if((y&&!$j("#signupform input[id=recaptcha_response_field]").val()||$j("#signupform input[id=recaptcha_response_field]").data("captcha")!=$j("#signupform input[id=recaptcha_response_field]").val())&&!$j("#signupform input[id=recaptcha_response_field]").data("isPending")){J=false;
}return J;
}function AP(CK){if(CK){return true;
}var J=true;
if(!AM($j("#signin_email").val())){JASK.showValidateMsg("error","#signin_ok",A5);
J=false;
}if(!$j("#signin_password").val()){JASK.showValidateMsg("error","#signin_ok",c);
J=false;
}return J;
}function AF(){var J=true;
if(!AM($j("#linkacct_email").val())){JASK.showValidateMsg("error","#linkacct_ok",A5);
J=false;
}if(!$j("#linkacct_password").val()){JASK.showValidateMsg("error","#linkacct_ok",c);
J=false;
}return J;
}Ba.checkPUserName=function CA(){q("#dialog_pusername");
if($j("#dialog_pusername").val().length==0){JASK.showValidateMsg("error","#pusername_ok",Y);
$j("#dialog_pusername").removeData("puser");
return false;
}else{$j("#dialog_pusername").trigger("success");
$j("#dialog_pusername").data("puser",$j("#dialog_pusername").val());
$j("#dialog_pusername").data("isPending",1);
$j.get("http://"+BT.resultsDomain+"/paid-user-validate",{"provider":$j("#dialog_pusername").val()},function(J){$j("#dialog_pusername").removeData("isPending");
if(J&&J.status["@code"]==100){JASK.showValidateMsg("success","#pusername_ok");
$j("#dialog_pusername").trigger("success");
$j("#dialog_pusername").data("puser",$j("#dialog_pusername").val());
}else{if(J&&J.status["@code"]!=100){JASK.showValidateMsg("error","#pusername_ok",Aw);
$j("#dialog_pusername").removeData("puser");
}else{JASK.showValidateMsg("error","#pusername_ok",AE);
}}},"json");
}};
Ba.checkUserName=function T(J,CL,CK){q(J);
if($j(J).val().length<3){JASK.showValidateMsg("error",CK,Y);
$j(J).removeData("user");
return false;
}else{if($j(J).val().match(/\W/)){JASK.showValidateMsg("error",CK,Bd);
$j(J).removeData("user");
return false;
}else{if($j(J).val().match(/^_/)||$j(J).val().match(/_$/)){JASK.showValidateMsg("error",CK,V);
$j(J).removeData("user");
return false;
}else{if($j(J).val().match(/_{2,}/)){JASK.showValidateMsg("error",CK,AT);
$j(J).removeData("user");
return false;
}else{$j(J).data("isPending",1);
$j.get($j(CL).attr("action"),{"username":$j(J).val(),"engine_id":"add_user"},function(CM){$j(J).removeData("isPending");
if(CM&&CM.status["@code"]==100){JASK.showValidateMsg("error",CK,C);
$j(J).removeData("user");
}else{if(CM){JASK.showValidateMsg("success",CK);
$j(J).trigger("success");
$j(J).data("user",$j(J).val());
}else{JASK.showValidateMsg("error",CK,AE);
}}},"json");
}}}}};
Ba.validateEmail=function v(J,CL,CK){$j(CK).removeClass("email_info_2line");
q(J);
if(AM($j(J).val())){$j(J).data("isPending",1);
$j.get($j(CL).attr("action"),{"email":$j(J).val(),"engine_id":"add_user"},function(CM){$j(J).removeData("isPending");
if(CM&&CM.status["@code"]==100){JASK.showValidateMsg("error",CK,Ac);
$j(J).removeData("email");
}else{if(CM){JASK.showValidateMsg("success",CK);
$j(J).trigger("success");
$j(J).data("email",$j(J).val());
}else{JASK.showValidateMsg("error",CK,AE);
}}},"json");
JASK.showValidateMsg("success",CK);
return true;
}else{JASK.showValidateMsg("error",CK,A5);
return false;
}};
JASK.ja.okToAsk=function BG(){var J=true;
J=Ba.validateQuestion()&&Ba.validateCategory()&&Ba.validateDetail();
return J;
};
JASK.ja.validateQuestionTextArea=function AI(){Ba.validateQuestion();
};
JASK.ja.validateDetailTextArea=function A(){Ba.validateDetail();
};
JASK.ja.clearSpellErrors=function A9(){$j("#questinbox").trigger("clearSpellErrors");
$j("#detail").trigger("clearSpellErrors");
};
Ba.validateCategory=function BR(){if($j("#inboundCategories").val()==-1){$j(".askq_cat_label").addClass("validate_error");
return false;
}else{return true;
}};
Ba.validateQuestion=function Bs(){var CU=true;
var CL="";
var CK=$j("#questionbox");
CL=CK.val();
var CM=$j.trim(CL).length;
if(CM==0){JASK.showValidateMsg("error","#question_cont_err",Am);
CU=false;
}else{if(CL.length>AB){JASK.showValidateMsg("error","#question_cont_err",BM);
CU=false;
}else{var CQ=$j.trim(CL).split(" ");
var CO=CQ.length;
var CS=$j.trim(CL).replace(/[^a-zA-Z 0-9]+/g,"").split(" ");
var CR=CS.length;
if((CO<15)&&JASK.serp&&(!JASK.serp.isQuestion())){JASK.ja.hasQuestionWarnings=1;
JASK.showValidateMsg("error","#question_cont_err",BH);
CU=true;
}if(CO<=2){JASK.showValidateMsg("error","#question_cont_err",BH);
CU=false;
}else{if($j.trim(CL).match(/[A-Z]/)&&!$j.trim(CL).match(/[a-z0-9]/)){JASK.showValidateMsg("error","#question_cont_err",An);
CU=false;
}else{if((CL.replace(/\s\s+/g,"").indexOf("??")>-1)||(CL.replace(/\s\s+/g,"").indexOf("? ?")>-1)){JASK.showValidateMsg("error","#question_cont_err",AW);
CU=false;
}else{for(var CP=0;
CP<CR;
CP++){if(($j.inArray(CS[CP].toLowerCase(),BO.split(","))>-1)){if(CU){JASK.showValidateMsg("error","#question_cont_err",At);
CU=false;
break;
}}}if(CU){var J=$j.trim(CL).match(/\b[^\Wa-z0-9_]+\b/g);
var CT=J!=null?J.length:0;
if(CT>0){var CN=0;
if(CR==3){CN=Math.round(CR*(33/100));
}else{CN=Math.round(CR*(40/100));
}if(CT>CN){JASK.showValidateMsg("error","#question_cont_err",AA);
CU=false;
}}}}}}}}JASK.ja.hasQuestionErrors=(CU?0:1);
return CU;
};
Ba.validateTagList=function B8(){var J=true;
var CK=$j(".keywords_list_topic").length;
if(CK<=0){JASK.showValidateMsg("errTip","#q_modal_error",AD);
JASK.showValidateMsg("tipTitle","#q_error_title","Whoops!");
J=false;
}else{JASK.ja.hasTagsErrors=0;
}JASK.ja.hasTagsErrors=(J?0:1);
return J;
};
function BP(CK){var J=false;
var CM=$j.trim(CK);
if(CM==null||CM==""||CM=="Add a keyword"){JASK.showValidateMsg("errTip","#q_modal_error",AD);
JASK.showValidateMsg("tipTitle","#q_error_title","Whoops!");
J=true;
}else{if($j.hasHTML(CM)){JASK.showValidateMsg("errTip","#q_modal_error",d);
JASK.showValidateMsg("tipTitle","#q_error_title","Whoops!");
J=true;
}else{var CL=Az(CM);
if(!CL&&CM!="Add a keyword"){J=!Bq(CM);
}else{J=true;
}}}$j("#askq_tt").children().remove();
JASK.ja.displayToolTip("#tagList",(J)?"#askq_error":"#topics_tt_cnt");
return !J;
}function Az(J){var CK=false;
$j("#keywords_list .tags-left").each(function(){var CL=$j.trim($j(this).text());
if(CL.toLowerCase()==J.toLowerCase()){JASK.showValidateMsg("errTip","#q_modal_error",i);
JASK.showValidateMsg("tipTitle","#q_error_title","Whoops!");
CK=true;
}});
JASK.ja.hasTagsErrors=(CK?1:0);
return CK;
}Ba.validateDetail=function AK(){var J=true;
var CK=$j.trim($j("#detail").val());
if($j.hasHTML(CK)){JASK.showValidateMsg("error","#question_detail_err",d);
J=false;
}else{if(CK.length>1200){JASK.showValidateMsg("error",".question_detail_err",AO);
JASK.showValidateMsg("error","#question_detail_err",Av);
J=false;
}}JASK.ja.hasDetailErrors=(J?0:1);
return J;
};
Ba.validateCaptcha=function AL(){if(!y){return true;
}if($j("#signupform input[id=recaptcha_response_field]").val()){$j("#signupform input[id=recaptcha_response_field]").data("isPending",1);
$j.get("http://"+BT.resultsDomain+"/ja-recaptcha-ajax",{"recaptcha_response_field":$j("#signupform input[id=recaptcha_response_field]").val(),"recaptcha_challenge_field":$j("#recaptcha_challenge_field").val(),"engine_id":"captcha"},function(J){$j("#signupform input[id=recaptcha_response_field]").removeData("isPending");
if(J&&J.status=="failure"){JASK.showValidateMsg("error","#captcha_ok",Bb);
$j("#signupform input[id=recaptcha_response_field]").removeData("captcha");
Recaptcha.reload();
return false;
}else{JASK.showValidateMsg("success","#captcha_ok");
$j("#signupform input[id=recaptcha_response_field]").data("captcha",$j("#signupform input[id=recaptcha_response_field]").val());
$j("#signupform input[id=recaptcha_response_field]").trigger("success");
return true;
}},"json");
}else{JASK.showValidateMsg("error","captcha_ok",Bb);
return false;
}};
Ba.validatePassword=function CE(){q("#dialog_password");
if($j("#dialog_password").val().length<6){JASK.showValidateMsg("error","#password_ok",BL);
return false;
}else{if($j("#dialog_password").val().match(/ /)){JASK.showValidateMsg("error","#password_ok",Ag);
return false;
}else{JASK.showValidateMsg("success","#password_ok");
if($j("#dialog_password2").val()){if(!Ba.confirmPassword()){return false;
}}return true;
}}};
Ba.confirmPassword=function BV(){if($j("#dialog_password").val()&&$j("#dialog_password").val()==$j("#dialog_password2").val()){JASK.showValidateMsg("success","#password_confirm");
return true;
}else{JASK.showValidateMsg("error","#password_confirm",l);
return false;
}};
Ba.askQuestion=function AY(){if(Bz){return ;
}$j("#question_ajx_err").ajaxError(function(){JASK.showValidateMsg("error","#question_ajx_err",AE);
$j("#question_ajx_err").unbind();
});
$j.post($j("#ask_form").attr("action"),$j.serializeObject("ask_form"),function(CK){if(CK){$j("#origTagList").val(AC(CK.question,0,AQ));
var J=AC(CK.question,0,AQ).split(",");
if(J!=null&&J!=""){$j.each(J,function(){var CM=this.length;
var CL=this;
pattern=new RegExp("(\\s|<|\\s)");
if(this.match(pattern)){CL=this.replace(/</g,"&lt;");
}if(CM<=49){$j("#keywords_list").append($j('<div class="clearfix keywords_list_topic"><div class="tags-left">'+CL+'</div><div style="float:left"><div class="tags-right" ><a  class="tags-close tags-topic-close" style="text-decoration:none;cursor:pointer" href="#"> </a></div></div></div>'));
}});
}Bg=AC(CK.question,1);
}else{$j("#tagList,#origTagList").val("");
}$j("#question_ajx_err").unbind();
},"json");
Bz=true;
$j("#questionbox").keyup();
$j("#keywords_list").html("");
};
function x(){var J=[];
$j("#keywords_list .tags-left").each(function(){J.push($j.trim($j(this).text()));
});
return J.join(",");
}Ba.updateQuestion=function BX(){if(JASK.ja.okToAsk()&&!n){if(JASK.isAuthenticated()){$j("#question_ajx_err").ajaxError(function(){JASK.showValidateMsg("error","#question_ajx_err",AE);
$j("#question_ajx_err").unbind();
$j("#askq_form_submit").showDone();
});
var CK=$j("#detail");
if(CK.data("unmodified")==true){CK.data("unmodified",false);
CK.val("");
}var J=$j.extend($j.serializeObject("ask_form"),{"update_w_user":"1"},{"tagList":x()});
if(y&&$j("#recaptchaDialog").is(":visible")){if($j.trim($j("#answerRecaptcha .recaptcha").val()).length==0){$j("#recaptchaError").hide();
$j("#recaptchaEmpty").show();
return ;
}J["recaptcha_challenge_field"]=Recaptcha.get_challenge();
J["recaptcha_response_field"]=$j("#answerRecaptcha .recaptcha").val();
$j("#recaptchaEmpty").hide();
$j("#recaptchaDialog").dialog("close");
}J["spellingErrorCount"]=($j("#questionbox").data("spellErrors")+CK.data("spellErrors"));
var CN=Aa("question_asked");
var CL="j_cat="+Bg;
$j("#askq_form_submit").showBusy();
$j.post((Bk+Bt+"&j_cat="+Bg+"&tfid=JAAskQForm&iId="+encodeURIComponent(CN)+"&ex="+encodeURIComponent(CL)),J,function(CP){n=false;
sct(53701);
if(CP.status["@code"]==100){$j(document).trigger("questionAsked",[CP.status["id"]]);
}else{if(y&&CP.status["@code"]==1){$j("#recaptchaError").hide();
$j("#recaptchaEmpty").hide();
$j("#recaptchaBtn").unbind("click");
$j("#recaptchaBtn").bind("click",Ba.updateQuestion);
$j("#recaptcha_image").attr("id","recaptcha_image_old");
$j("#answerRecaptcha #answerRecaptchaImage").attr("id","recaptcha_image");
Recaptcha.focus_response_field=function(){};
Recaptcha.create("6LeUnAIAAAAAAFK4AJHqebEoW5xCHMe5MmwvQHJL","recaptcha_image",{theme:"custom"});
var CO=$j("#answerRecaptcha .recaptcha");
CO.val(CO.attr("default"));
CO.toggleClass("prefocus",true);
CO.toggleClass("postfocus",false);
$j("#recaptchaDialog").dialog("open");
}else{if(y&&CP.status["@code"]==2){$j("#recaptchaError").show();
$j("#recaptchaEmpty").hide();
$j("#recaptchaBtn").unbind("click");
$j("#recaptchaBtn").bind("click",Ba.updateQuestion);
Recaptcha.reload();
var CO=$j("#answerRecaptcha .recaptcha");
CO.val(CO.attr("default"));
CO.toggleClass("prefocus",true);
CO.toggleClass("postfocus",false);
$j("#recaptchaDialog").dialog("open");
}else{if(CP.status["@code"]==159){$j(document).trigger("questionAsked",[0]);
}else{if(CP.status["@code"]==160){JASK.showValidateMsg("error","#question_ajx_err",Al);
$j("#question_ajx_err").unbind();
return ;
}else{if(CP.status["@code"]==164){JASK.showValidateMsg("error","#question_ajx_err",AG);
$j("#question_ajx_err").unbind();
return ;
}}}}}}$j("#askq_form_submit").showDone();
Ba.cancel();
$j("#question_ajx_err").unbind();
},"json");
n=true;
}else{S();
}D("SignUp");
}else{if($j.trim($j("#aq_err_id").val()).length>0){var CM={"iId":"/"+JASK.ja.fid+"/question/"+$j("#aq_err_id").val(),"qsrc":Bt,"q":$j("#questionbox").val()};
B3.impression(CM);
}}if(JASK.ja.hasQuestionErrors){$j("#questionbox").focus();
}else{if(JASK.ja.hasTagsErrors){$j("#tagList").focus();
$j("#tagList").val("Add a keyword");
$j("#tagList").css("color","#AAA");
}else{if(JASK.ja.hasDetailErrors){$j("#detail").focus();
}}}};
function CI(CL,CM){if(CG(CM)&&!m){$j(".userinfo_submit").showBusy();
var J="#signup_ajx_err";
var CN=setTimeout(function(){JASK.showValidateMsg("error",J,AE);
clearTimeout(CN);
$j(".userinfo_submit").showDone();
},90000);
var CK=$j.serializeObject("signupform");
CK["news_optin"]=$j("input[name=news_optin]:checked").val();
CK["origin"]=0;
if(Bv()){$j.ajax({url:BK+Bt,data:CK,success:function(CO){clearTimeout(CN);
m=false;
if(CO&&CO.status["@code"]==100){$j("#ask_form #userId").val(CO.status["id"]);
Ae(function(){if(typeof CL==="function"){CL.apply(Ba);
}});
}else{if(CO){JASK.showValidateMsg("error","#signup_ok",b);
}else{JASK.showValidateMsg("error",J,AE);
}}$j(".userinfo_submit").showDone();
},dataType:"json",crossDomain:true,xhrFields:{withCredentials:true},type:"POST"});
}else{$j.getJSON(BK+Bt+"&callback=?",CK,function(CO){clearTimeout(CN);
m=false;
if(CO&&CO.status["@code"]==100){$j("#ask_form #userId").val(CO.status["id"]);
Ae(function(){if(typeof CL==="function"){CL.apply(Ba);
}});
}else{if(CO){JASK.showValidateMsg("error","#signup_ok",b);
}else{JASK.showValidateMsg("error",J,AE);
}}$j(".userinfo_submit").showDone();
});
}m=true;
}}function Be(){if(Ay){Ay.apply(this);
}else{$j(document).trigger("userCreated");
}Ba.cancel();
}function Ae(J){sct(53706);
var CK=setTimeout(function(){JASK.showValidateMsg("error","#signup_ajx_err",AE);
clearTimeout(CK);
},90000);
logicalMatchId=Aa("signup");
if(Bv()){$j.ajax({url:$j("#signinform").attr("action"),data:{"engine_id":"sign_in","login":"true","username":$j("#dialog_email").val(),"password":encodeURIComponent($j("#dialog_password").val()),"tfid":"JALoginForm","iId":encodeURIComponent(logicalMatchId),"qsrc":Bt},success:function(CL){clearTimeout(CK);
if(CL&&CL.status["@code"]==100){if(typeof J==="function"){J.apply(Ba);
CF=true;
}K(Bt);
}else{if(CL){JASK.showValidateMsg("error","#signup_ajx_err",By);
}else{JASK.showValidateMsg("error","#signup_ajx_err",AE);
}}},dataType:"json",crossDomain:true,xhrFields:{withCredentials:true},type:"POST"});
}else{$j.getJSON($j("#signinform").attr("action")+"?callback=?",{"engine_id":"sign_in","login":"true","username":$j("#dialog_email").val(),"password":encodeURIComponent($j("#dialog_password").val()),"tfid":"JALoginForm","iId":encodeURIComponent(logicalMatchId),"qsrc":Bt},function(CL){clearTimeout(CK);
if(CL&&CL.status["@code"]==100){if(typeof J==="function"){J.apply(Ba);
CF=true;
}K(Bt);
}else{if(CL){JASK.showValidateMsg("error","#signup_ajx_err",By);
}else{JASK.showValidateMsg("error","#signup_ajx_err",AE);
}}});
}}Ba.addUser=function BW(CL){if(CG(CL)&&!m){var J=(BJ=="askq")?"#signup_ajx_err":"#topics_ajx_err";
var CM=setTimeout(function(){JASK.showValidateMsg("error",J,AE);
clearTimeout(CM);
$j("#topics_submit,.userinfo_submit").showDone();
},90000);
var CK=$j.serializeObject("signupform");
CK["news_optin"]=$j("input[name=news_optin]:checked").val();
CK["origin"]=0;
if(!CL){$j(".userinfo_submit").showBusy();
}if(Bv()){$j.ajax({url:BK+Bt,data:CK,success:function(CN){clearTimeout(CM);
m=false;
if(CN&&CN.status["@code"]==100){$j("#ask_form #userId").val(CN.status["id"]);
if(BJ=="askq"){Ba.updateQuestion();
}Ba.signIn($j("#dialog_email").val(),$j("#dialog_password").val(),true,"signup");
}else{if(CN){JASK.showValidateMsg("error","#signup_ok",b);
}else{JASK.showValidateMsg("error",J,AE);
}}$j("#topics_submit,.userinfo_submit").showDone();
},dataType:"json",crossDomain:true,xhrFields:{withCredentials:true},type:"POST"});
}else{$j.getJSON(BK+Bt+"&callback=?",CK,function(CN){clearTimeout(CM);
m=false;
if(CN&&CN.status["@code"]==100){$j("#ask_form #userId").val(CN.status["id"]);
if(BJ=="askq"){Ba.updateQuestion();
}Ba.signIn($j("#dialog_email").val(),$j("#dialog_password").val(),true,"signup");
}else{if(CN){JASK.showValidateMsg("error","#signup_ok",b);
}else{JASK.showValidateMsg("error",J,AE);
}}$j("#topics_submit,.userinfo_submit").showDone();
});
}m=true;
}};
function K(J){$j.getJSON(o+J+"&callback=?",{"":""},function(CK){if(CK&&CK.status["@code"]==100){}});
}function Bn(J){$j("#signup_panel,#ask_question_panel,#signin_panel,#topics_panel,#forgot_panel,#notificationPanel,#learn_more_panel,#linkacct_panel,#social_panel").hide();
$j(J).show();
if($j(J).attr("data-impression")){Bu($j(J).attr("data-impression"));
}}function CD(){$j("#signup_panel,#ask_question_panel,#signin_panel,#topics_panel,#forgot_panel,#notificationPanel,#learn_more_panel,#linkacct_panel,#social_panel").hide();
}function B7(){window.location.href="http://"+BT.resultsDomain+"/jsignin?redirect="+escape(window.location);
}Ba.toggleSignInUp=function B2(){if($j("#signin_panel").css("display")!="block"){Bn("#signin_panel");
$j("#signin_email").focus();
D("SignIn");
}else{if(JASK.cfg.isSignUpEnabled){Bn("#signup_panel");
D("SignUp");
$j("#dialog_email").focus();
}else{B7();
}}};
function BN(CL,CK){var J=true;
$j(CL).find(".txtin").each(function(){if($j(this).data("isPending")){J=false;
$j(this).unbind("success");
$j(this).bind("success",CK);
}});
return J;
}function AN(CM,CN){if(CM&&CM.user){var CO=CM.user.interests?CM.user.interests.split(","):[];
var CK=CM.user.favorite_places?CM.user.favorite_places.split(","):[];
for(var CL=0;
CL<CO.length;
CL++){p($j.trim(CO[CL]),"interest",true);
}for(var J=0;
J<CK.length;
J++){p($j.trim(CK[J]),"place",true);
}if(CN=="facebook"){$j("#fbImportSignup").hide();
$j("#importSignupProvider").text("Facebook");
$j("#importSignupSuccess").show();
}if(CN=="linkedin"){$j("#liImportSignup").hide();
$j("#importSignupProvider").text("LinkedIn");
$j("#importSignupSuccess").show();
}}}function A1(){if(BN("#signupform",function(){A1();
})&&CG()){CI(function(){Be();
});
}}function S(){if($j.cookie("cu.wz")==2){Bn("#signin_panel");
$j("#signin_email").focus();
}else{Bn("#signup_panel");
$j("#dialog_email").focus();
}}function A0(){D("AskQuestion");
Bn("#ask_question_panel");
$j("#inboundCategories").selectmenu({style:"dropdown",menuWidth:268});
$j("#questionbox").focus();
}function Bv(){return(XMLHttpRequest&&"withCredentials" in new XMLHttpRequest());
}Ba.signIn=function U(CK,CM,CL,J){if(AP(CL)&&!N){sct(53706);
$j(".signin_submit").showBusy();
var CN=setTimeout(function(){JASK.showValidateMsg("error","#signin_ajx_err",AE);
clearTimeout(CN);
$j(".signin_submit").showDone();
},90000);
var CO="";
if(J=="signup"){CO=Aa("signup");
}else{CO=Aa("signin");
}if(Bv()){$j.ajax({url:$j("#signinform").attr("action"),data:{"engine_id":"sign_in","login":"true","username":CK,"password":encodeURIComponent(CM),"tfid":"JALoginForm","iId":encodeURIComponent(CO),"qsrc":Bt},success:function(CP){N=false;
clearTimeout(CN);
$j(".signin_submit").showDone();
Ak(CP,J);
},dataType:"json",crossDomain:true,xhrFields:{withCredentials:true},type:"POST"});
}else{$j.getJSON($j("#signinform").attr("action")+"?callback=?",{"engine_id":"sign_in","login":"true","username":CK,"password":encodeURIComponent(CM),"tfid":"JALoginForm","iId":encodeURIComponent(CO),"qsrc":Bt},function(CP){N=false;
clearTimeout(CN);
$j(".signin_submit").showDone();
Ak(CP,J);
});
}N=true;
}};
function Ak(CK,J){var CL=function(){$j("#userId","#ask_form").val(CK.status["id"]);
if(BJ=="askq"){Ba.updateQuestion();
}Ba.cancel();
if(J=="signup"){K(Bt);
if(Ay){Ay.apply(this,[CK]);
}else{if(BJ!="askq"){$j(document).trigger("userCreated");
}}}else{if(Ay){Ay.apply(this,[CK]);
}else{if(BJ!="askq"){$j(document).trigger("login");
}}}};
if(CK&&CK.status["@code"]==99){CF=true;
if(J=="signup"){CL();
}else{Ba.initPrivacyPolicy(CL);
}}else{if(CK&&CK.status["@code"]==100){CF=true;
CL();
}else{if(CK){JASK.showValidateMsg("error","#signin_ok",By);
}else{JASK.showValidateMsg("error","#signin_ajx_err",AE);
}}}}Ba.cancel=function Q(){$j(".learn_more_video").html("");
if($j("#ask_question_dialog").dialog("isOpen")===false){return ;
}$j("#ask_question_dialog").dialog("close");
$j("#ask_question_dialog_container").append($j("#ask_question_dialog").children());
$j("#ask_question_dialog").empty();
$j("#keywords_list").html("");
$j(".askq_cat_label").removeClass("validate_error");
if(CF){if(BJ=="askq"&&$j.cookie("hc")==1){JASK.serp.createAskDialog();
}}JASK.ja.clearSpellErrors();
return false;
};
Ba.socialSignIn=function(J){if(!JASK.cfg.isSignUpEnabled){B7();
return ;
}if(Bo){gigya.services.socialize.login(JASK.social.conf,{provider:J,callback:Ba.socialSignInSuccess});
}};
Ba.socialSignUp=function(J){if(Bo){gigya.services.socialize.login(JASK.social.conf,{provider:J,callback:Ba.socialSignUpSuccess});
}};
Ba.socialSignInSuccess=function(J){if(J.user){Br(J.user.loginProvider);
if(J.user.isSiteUID){Ba.authenticateSocialAtAsk(J,J.UID,J.signatureTimestamp,J.UIDSignature);
}else{if(J.user.email){$j.get(JASK.cfg.ldomain+"/ja-linkuser-ok",{"email":J.user.email,"engine_id":"add_user","type":"full"},function(CK){if(CK&&CK.status["@code"]==100){A2(J);
}else{if(CK){Ba.socialInfoImported(J);
}else{JASK.showValidateMsg("error",msgId,AE);
}}},"json");
}else{Ba.socialInfoImported(J);
}}}};
Ba.socialSignUpSuccess=function(J,CK){if(J.user){Br(J.user.loginProvider);
if(!J.user.isSiteUID){if(J.user.email){$j.get(JASK.cfg.ldomain+"/ja-linkuser-ok",{"email":J.user.email,"engine_id":"add_user","type":"full"},function(CL){if(CL&&CL.status["@code"]==100){A2(J);
}else{if(CL){Ba.socialInfoImported(J);
}else{JASK.showValidateMsg("error",msgId,AE);
}}},"json");
}else{Ba.socialInfoImported(J);
}}else{Ba.authenticateSocialAtAsk(J,J.user.UID,J.user.signatureTimestamp,J.user.UIDSignature);
}}};
function M(J){JASK.deleteUserCookies();
Ba.socialInfoImported(J,true);
}function A2(J){D("SocialLink");
Bn("#linkacct_panel");
$j("#linkacct_email").val(J.user.email);
$j(".linkacct_provider").text($j.capitalize(J.user.loginProvider));
$j(".linkacct_submit,#abort_link_acct").unbind();
$j(".linkacct_submit").click(function(CK){CK.preventDefault();
P(J);
});
$j("#abort_link_acct").click(function(CK){CK.preventDefault();
M(J);
});
$j("#linkacct_panel").keyup(function(CK){Ad(CK,"linkacct_panel");
});
}function P(J){if(AF()){var CK=setTimeout(function(){JASK.showValidateMsg("error","#linkacct_ajx_err",AE);
clearTimeout(CK);
},90000);
if(Bv()){$j.ajax({url:$j("#linkacctform").attr("action"),data:{"engine_id":"sign_in","login":"true","username":$j("#linkacct_email").val(),"password":encodeURIComponent($j("#linkacct_password").val()),"tfid":"JALoginForm"},success:function(CL){clearTimeout(CK);
if(CL&&CL.status["@code"]==100){Ba.socialLinkAcctInfoImported(J);
}else{if(CL&&CL.status["@code"]==99){Ba.socialLinkAcctInfoImported(J);
}else{if(CL){JASK.showValidateMsg("error","#linkacct_ok",By);
}else{JASK.showValidateMsg("error","#linkacct_ajx_err",AE);
}}}},dataType:"json",crossDomain:true,xhrFields:{withCredentials:true},type:"POST"});
}else{$j.getJSON($j("#linkacctform").attr("action")+"?callback=?",{"engine_id":"sign_in","login":"true","username":$j("#linkacct_email").val(),"password":encodeURIComponent($j("#linkacct_password").val()),"tfid":"JALoginForm"},function(CL){clearTimeout(CK);
if(CL&&CL.status["@code"]==100){Ba.socialLinkAcctInfoImported(J);
}else{if(CL&&CL.status["@code"]==99){Ba.socialLinkAcctInfoImported(J);
}else{if(CL){JASK.showValidateMsg("error","#linkacct_ok",By);
}else{JASK.showValidateMsg("error","#linkacct_ajx_err",AE);
}}}});
}}}Ba.bindQuestionTip=function(){$j("#askq_tt").children().remove();
JASK.showValidateMsg("clearTip","#q_modal_error");
JASK.showValidateMsg("tipTitle","#q_error_title","Whoops!");
Ba.validateQuestion();
var J=$j("#questionbox").data("spellErrors");
if(JASK.ja.hasQuestionErrors==1){JASK.ja.displayToolTip("#questionbox","#askq_error");
}else{if(J!=undefined&&J>0){$j("#questionbox").trigger("displaySpellErrors");
}else{if(JASK.ja.hasQuestionWarnings==1){JASK.ja.displayToolTip("#questionbox","#askq_error");
}else{JASK.ja.displayToolTip("#questionbox","#q_tt_cnt");
}}}};
Ba.bindDetailsTip=function(){$j("#askq_tt").children().remove();
JASK.showValidateMsg("clearTip","#q_modal_error");
Ba.validateDetail();
var J=$j("#detail").data("spellErrors");
if(JASK.ja.hasDetailErrors==1){JASK.showValidateMsg("tipTitle","#q_error_title","Whoops!");
JASK.ja.displayToolTip("#detail","#askq_error","lb");
}else{if(J!=undefined&&J>0){$j("#detail").trigger("displaySpellErrors");
}else{JASK.ja.displayToolTip("#detail","#other_tt_cnt","lb");
}}};
Ba.bindTagListFocus=function Bh(){var J=$j("#tagList").val();
$j("#tagList").focus();
BP(J);
$j("#tagList").blur();
};
Ba.bindTagDetailsTip=function(){$j("#askq_tt").children().remove();
JASK.showValidateMsg("clearTip","#q_modal_error");
A6();
var J=$j("#origTagList").val();
if(JASK.ja.hasTagsErrors!=1){if(J==null||J==""){JASK.ja.hasTagsErrors=0;
}else{Ba.validateTagList();
}}if(JASK.ja.hasTagsErrors==1){JASK.showValidateMsg("errTip","#q_modal_error",AD);
JASK.showValidateMsg("tipTitle","#q_error_title","Whoops!");
JASK.ja.displayToolTip("#tagList","#askq_error");
}else{JASK.ja.displayToolTip("#tagList","#topics_tt_cnt");
}};
Ba.bindTopicCloseDetailsTip=function(){var J=$j.trim($j("#tagList").val());
$j("#askq_tt").children().remove();
if(J!="Add a keyword"){JASK.showValidateMsg("clearTip","#q_modal_error");
Ba.validateTagList();
}JASK.ja.displayToolTip("#tagList",(JASK.ja.hasTagsErrors)?"#askq_error":"#topics_tt_cnt");
};
function A6(){var J=$j("#tagList").val();
if($j.trim(J).length<=0||J=="Add a keyword"){$j("#tagList").val("");
$j("#tagList").removeClass("taglist");
$j("#tagList").css("color","#333");
}}$j("#tagList").bind("blur",function(CK){var J=$j("#tagList").val();
JASK.ja.hasTagsErrors=0;
if($j.trim(J).length<=0||J==""||J=="Add a keyword"){$j("#tagList").val("Add a keyword");
$j("#tagList").addClass("taglist");
$j("#tagList").css("color","#AAA");
}});
Ba.initSocialSignup=function(J){if(w()){$j("#social_panel").keyup(function(CK){Ad(CK,"social_panel");
});
D("SocialImport");
Bn("#social_panel");
$j("#network_name").html($j.capitalize(J));
$j("#social_email").focus();
}};
Ba.socialInfoImported=function(CK,CL){$j(".linkacct_provider").text($j.capitalize(CK.user.loginProvider));
$j("#linkacct_link").unbind();
$j("#linkacct_link").click(function(CM){CM.preventDefault();
A2(CK);
});
var J=CK.user;
$j("#social_firstname").val(J.firstName);
$j("#social_lastname").val(J.lastName);
if(!CL){$j("#social_email").val($j.trim(J.email));
if($j("#social_email").val()!=""){Ba.validateEmail("#social_email","#social_signup_form","#social_email_ok");
}$j("#social_username").val(J.nickname.replace(" ",""));
if($j("#social_username").val()!=""){Ba.checkUserName("#social_username","#social_signup_form","#social_username_ok");
}}else{JASK.showValidateMsg("help","#social_email_ok",BY);
JASK.showValidateMsg("help","#social_username_ok",Ai);
}$j("#social_timestamp").val(CK.signatureTimestamp);
$j("#social_signature").val(CK.UIDSignature);
if(!CK.isSiteUID){$j("#social_UID").val(CK.UID);
}$j("#social_avatar").hide();
if(J.thumbnailURL){$j("#social_avatar_url").val(J.thumbnailURL);
$j("#social_img_avatar_url").attr("src",J.thumbnailURL);
$j("#social_avatar").show();
}else{$j("#social_avatar_url").val("");
}JASK.ask_dialog.initSocialSignup(CK.user.loginProvider);
};
Ba.initSocialLinkAcctSignup=function(J){if(w()){$j("#social_panel").keyup(function(CK){Ad(CK,"social_panel");
});
D("SocialImport");
Bn("#social_panel");
$j("#network_name").html($j.capitalize(J.user.loginProvider));
$j("#social_email").focus();
$j(".socialinfo_submit").unbind();
$j(".socialinfo_submit").click(function(CK){CK.preventDefault();
Bj(J);
});
}};
Ba.socialLinkAcctInfoImported=function(CK){var J=CK.user;
$j("#social_firstname").val(J.firstName);
$j("#social_lastname").val(J.lastName);
$j("#social_email").parent().css("padding","10px 0px");
$j("#social_email").parent().text(J.email);
$j("#social_username").parent().parent().hide();
$j("#linkacct_link_social_signup").hide();
$j("#social_timestamp").val(CK.signatureTimestamp);
$j("#social_signature").val(CK.UIDSignature);
if(!CK.isSiteUID){$j("#social_UID").val(CK.UID);
}$j("#social_avatar").hide();
if(J.thumbnailURL){$j("#social_avatar_url").val(J.thumbnailURL);
$j("#social_img_avatar_url").attr("src",J.thumbnailURL);
$j("#social_avatar").show();
}else{$j("#social_avatar_url").val("");
}JASK.ask_dialog.initSocialLinkAcctSignup(CK);
};
function Bj(J){var CK=$j.serializeObject("social_signup_form");
CK["engine_id"]="linkuserprofile";
var CL=Aa("link_success");
$j.post(JASK.cfg.ldomain+"/ja-ajax-edit-profile?iId="+encodeURIComponent(CL)+"&qsrc="+Bt,CK,function(CN){if(CN&&CN.status["@code"]==100&&CN.social){var CM={siteUID:CN.status["id"],timestamp:CN.social["timestamp"],signature:CN.social["signature"],callback:function(CO){if(CO.errorCode!="409001"){$j("#ask_form #userId").val(CN.status["id"]);
if(BJ=="askq"){Ba.updateQuestion();
}Ba.cancel();
if(Ay){Ay.apply(this,[CN]);
}else{$j(document).trigger("login");
}}else{JASK.showValidateMsg("error","#social_signup_ok",a);
JASK.deleteUserCookies();
}}};
gigya.services.socialize.setUID(JASK.social.conf,CM);
}else{if(CN){JASK.showValidateMsg("error","#social_signup_ok",b);
}else{JASK.showValidateMsg("error","#social_signup_ajx_err",AE);
}}},"json");
}Ba.addSocialUser=function(){if(BE()){var CK=setTimeout(function(){JASK.showValidateMsg("error","#social_signup_ajx_err",AE);
clearTimeout(CK);
},90000);
var J=$j.serializeObject("social_signup_form");
J["origin"]=(A3=="facebook")?"1":"2";
if(Bv()){$j.ajax({url:BK+Bt,data:J,success:function(CM){clearTimeout(CK);
m=false;
if(CM&&CM.status["@code"]==100&&CM.social){var CL={siteUID:CM.status["id"],timestamp:CM.social["timestamp"],signature:CM.social["signature"],callback:function(CN){if(CN.errorCode==0){Ba.authenticateSocialAtAsk(CN,CM.status["id"],CM.social["timestamp"],CM.social["signature"],"signup");
}}};
gigya.services.socialize.setUID(JASK.social.conf,CL);
}else{if(CM){JASK.showValidateMsg("error","#social_signup_ok",b);
}else{JASK.showValidateMsg("error","#social_signup_ajx_err",AE);
}}},dataType:"json",crossDomain:true,xhrFields:{withCredentials:true},type:"POST"});
}else{$j.getJSON(BK+Bt+"&callback=?",J,function(CM){clearTimeout(CK);
m=false;
if(CM&&CM.status["@code"]==100&&CM.social){var CL={siteUID:CM.status["id"],timestamp:CM.social["timestamp"],signature:CM.social["signature"],callback:function(CN){if(CN.errorCode==0){Ba.authenticateSocialAtAsk(CN,CM.status["id"],CM.social["timestamp"],CM.social["signature"],"signup");
}}};
gigya.services.socialize.setUID(JASK.social.conf,CL);
}else{if(CM){JASK.showValidateMsg("error","#social_signup_ok",b);
}else{JASK.showValidateMsg("error","#social_signup_ajx_err",AE);
}}});
}m=true;
}};
function BE(){var J=true;
$j("#social_signup_form").find(".txtin").each(function(){if(!this.value){JASK.showValidateMsg("error","#social_signup_ok",c);
J=false;
}});
if(!J){return false;
}if(($j("#social_email").data("email")!=$j("#social_email").val())&&!$j("#social_email").data("isPending")){J=false;
}if((($j("#social_username").data("user")!=$j("#social_username").val())||!$j("#social_username").val())&&!$j("#social_username").data("isPending")){J=false;
}return J;
}Ba.authenticateSocialAtAsk=function(CN,CM,CK,CL,J){var CO=JASK.cfg.protocol+"://"+JASK.cfg.secureDomain+"/ja-social-authenticate";
if(!N){var CP=setTimeout(function(){JASK.showValidateMsg("error","#signin_ajx_err",AE);
clearTimeout(CP);
},90000);
var CQ="";
if(J=="signup"){CQ=Aa("signup");
}else{CQ=Aa("signin");
}if(Bv()){$j.ajax({url:CO,data:{"engine_id":"sign_in","login":"true","id":CM,"timestamp":CK,"signature":CL,"iId":encodeURIComponent(CQ),"qsrc":Bt},success:function(CR){N=false;
clearTimeout(CP);
Ao(CR,J);
},dataType:"json",crossDomain:true,xhrFields:{withCredentials:true},type:"POST"});
}else{$j.getJSON(CO+"?callback=?",{"engine_id":"sign_in","login":"true","id":CM,"timestamp":CK,"signature":CL,"iId":encodeURIComponent(CQ),"qsrc":Bt},function(CR){N=false;
clearTimeout(CP);
Ao(CR,J);
});
}N=true;
}};
function Ao(CK,J){var CL=function(){$j("#ask_form #userId").val(CK.status["id"]);
if(BJ=="askq"){Ba.updateQuestion();
}Ba.cancel();
if(J=="signup"){K(Bt);
if(Ay){Ay.apply(this,[CK]);
}else{$j(document).trigger("userCreated");
}}else{if(Ay){Ay.apply(this,[CK]);
}else{$j(document).trigger("login");
}}};
if(CK&&CK.status["@code"]==100){CF=true;
CL();
}else{if(CK){if(CK.status["@code"]==99){CF=true;
if(J=="signup"){CL();
}else{Ba.initPrivacyPolicy(CL);
}}else{if(CK.status["@code"]==103){JASK.showValidateMsg("error","#signin_ok",By);
}else{if(CK.status["@code"]==123){Ba.socialInfoImported(response,true);
}else{Ba.cancel();
}}}}else{JASK.showValidateMsg("error","#signin_ajx_err",AE);
}}}$j("#social_avatar_url").click(function(J){if($j("#social_avatar_url").attr("checked")){$j("#social_avatar_url").val($j("#social_img_avatar_url").attr("src"));
}else{$j("#social_avatar_url").val("");
}});
$j(".socialinfo_submit").click(function(J){J.preventDefault();
Ba.addSocialUser();
});
$j(".socialinfo_submit").keyup(function(CK){var J=(CK.keyCode?CK.keyCode:CK.which);
if(J==13){Ba.addSocialUser();
}});
function BC(CK){var J=(CK.keyCode?CK.keyCode:CK.which);
if(J==27){CK.stopImmediatePropagation();
CK.preventDefault();
Ba.closeConfirm();
}}Ba.openConfirm=function Bp(){if($j("#questionConfirmation").dialog("isOpen")===true){return ;
}j=false;
var CK=$j("#mini_me,#md_cna1").offset();
if(!CK){return ;
}var J=(CK.top+400)-$j(window).height();
if(J>0){window.scrollBy(0,J);
}$j("#questionConfirmation").dialog({autoOpen:false,height:300,width:600,modal:true,draggable:false,resizable:false,show:{effect:"fade",duration:400},hide:{effect:"fade",duration:400}});
if(CK){$j("#questionConfirmation").dialog("option","position",[(CK.left-440-$j(window).scrollLeft()),(CK.top+80-$j(window).scrollTop())]);
}$j("#questionConfirmation").dialog("open");
Bn("#questionConfirmation");
if(BJ=="askq"){$j("#qc_panel").show();
$j("#sc_panel").hide();
}else{$j("#qc_panel").hide();
$j("#sc_panel").show();
}$j(document).keyup(BC);
D("Confirm");
};
Ba.closeConfirm=function BI(){if(j){return false;
}if($j("#qc_dontshow:checked").length){var CM={"position":0,"value":$j("#qc_dontshow:checked").val()};
$j.post("http://"+BT.resultsDomain+"/ja-pref-update",CM);
var CK=$j.cookie("cp");
if(CK){var CO=CK.split("|");
var CN=(CO[0])+"|"+(CO[1])+"|1";
for(var CL=3;
CL<CO.length;
CL++){CN+="|"+CO[CL];
}var J=new Date();
J.setTime(J.getTime()+(10*365*24*60*60*1000));
document.cookie="cp="+CN+";path=/;domain=ask.com;expires="+J;
}}j=true;
$j("#questionConfirmation").dialog("close");
if(JASK.serp&&CF){$j("#questionConfirmation").remove();
JASK.serp.createAskDialog();
}else{if(CF){if(Ay){Ay.apply(this);
}else{$j(document).trigger("login");
}}}$j(document).unbind("keyup",BC);
return false;
};
function BB(){$j("#ask_form,#signupform,#topicsform,#signinform,#forgotpasswordform").unbind("submit");
$j("#ask_form,#signupform,#topicsform,#signinform,#forgotpasswordform").submit(function(J){J.preventDefault();
});
if(!AX){return ;
}$j("#inboundCategories").val(-1);
Ay=null;
A3="";
n=false;
Bz=false;
N=false;
m=false;
CF=false;
j=false;
$j("#ask_question_dialog *").unbind("keyup");
JASK.ja.hasTagsErrors=0;
$j("#addTopickeywords").unbind("click");
$j("#tagList").unbind("keyup");
$j(".add_topic_lnk").show();
if(y){$j("#recaptcha_audio_lnk").show();
$j("#recaptcha_image_lnk").hide();
}else{$j("#recaptcha_audio_lnk").hide();
$j("#recaptcha_image_lnk").hide();
}$j("#places_list,#interests_list").html("");
$j("#signup_panel,#ask_question_panel,#signin_panel").show();
$j("#social_panel").hide();
$j("#ask_form input[type=text],#ask_form textarea,#ask_form input[name=origTagList],#ask_form input[name=id]").val("");
$j("#signupform input:text,#signupform input:password").val("");
$j("#signinform input:text,#signinform input:password").val("");
$j("#topicsform input[type=text],#topicsform textarea").val("");
$j("#social_firstname,#social_lastname,#social_username,#social_email").val("");
$j("#forgotpasswordform input[type=text]").val("");
$j("#forgot_text").html("Forgot your password?").removeClass("validate_error");
$j("#oopsCheck").css("display","none");
$j(".form_error_field").html("");
$j(".cdisplay").text(AB);
$j("#hidden_interests").val("");
$j("#hidden_places").val("");
$j("#interests_list").html("");
$j(".signin_submit,#askq_form_submit,.userinfo_submit,#topics_submit,#topics_submit_later,#dialog_interest_btn,.add_topic_lnk").unbind("click");
$j("#dialog_email,#dialog_password,#dialog_username,#signupform #recaptcha_response_field").unbind("focus");
if(typeof $j("#questionConfirmation").dialog=="function"){$j("#questionConfirmation").dialog("destroy");
}B3.resetParams();
$j("#linkacct_panel").unbind("keyup");
t("questionbox");
t("detail");
$j("#dialog_place").removeData("edited");
$j("#dialog_interest").removeData("edited");
}function t(J){$j("#"+J).unbind("changeToSuggestionMode");
$j("#"+J).unbind("selectSuggestion");
$j("#"+J).unbind("ignoreSuggestion");
$j("#"+J).unbind("nextSpellingError");
$j("#"+J).unbind("displaySpellErrors");
$j("#"+J).unbind("clearSpellErrors");
$j("#"+J).unbind("keyup");
$j("#"+J).unbind("blur");
$j("#"+J).unbind("click");
}Ba.initQuestion=function R(CM,J,CN){if(JASK.isEraserOn()){window.location.href="http://"+BT.resultsDomain+"/settings?redirect="+escape(window.location)+"#askeraser";
return ;
}if(!(JASK.cfg.isSignUpEnabled||JASK.isAuthenticated())){B7();
return ;
}if(!w()){return false;
}BB();
var CK=$j("#detail");
JASK.answer.resetTxtBox(CK,CK.data("label"));
Bt=J||Bt;
BJ="askq";
$j("#askq_form_submit").keyup(function(CP){var CO=(CP.keyCode?CP.keyCode:CP.which);
if(CO==13){Ba.updateQuestion();
}});
$j(".userinfo_submit").keyup(function(CP){var CO=(CP.keyCode?CP.keyCode:CP.which);
if(CO==13){Ba.addUser();
}});
$j("#signin_email,#signin_password,.signin_submit").keyup(function(CP){var CO=(CP.keyCode?CP.keyCode:CP.which);
if(CO==13){Ba.signIn($j("#signin_email").val(),$j("#signin_password").val());
}});
$j(".askq_show").show();
$j(".signin_show").hide();
B0();
var CL=function(CT){var CU=CT.target;
var CS=$j(CT.target).parents("form");
var CO=CS.find(".cdisplay");
var CR=AB;
var CQ=CU.value.length;
var CP=CR-CQ;
if(CP<=0){$j(".charlimit").css("color","#B10000");
if(CP<0){if($j("#askq_form_submit").find(".JAButton").hasClass("cssButton")){$j("#askq_form_submit").find(".JAButton").toggleClass("cssButton cssButtonInactive");
}}else{if(CP==0){if($j("#askq_form_submit").find(".JAButton").hasClass("cssButtonInactive")){$j("#askq_form_submit").find(".JAButton").toggleClass("cssButton cssButtonInactive");
}}}}else{$j(".charlimit").css("color","#666666");
if($j("#askq_form_submit").find(".JAButton").hasClass("cssButtonInactive")){$j("#askq_form_submit").find(".JAButton").toggleClass("cssButton cssButtonInactive");
}}CO.text((CP<0)?0:CP);
};
$j("#questionbox").live("keyup",CL);
$j("#questionbox").live("updateCharCount",CL);
$j("#askq_form_submit").click(function(CO){CO.preventDefault();
Ba.updateQuestion();
});
$j(".userinfo_submit").click(function(CO){CO.preventDefault();
Ba.addUser();
});
$j(".signin_submit").click(function(CO){CO.preventDefault();
Ba.signIn($j("#signin_email").val(),$j("#signin_password").val());
});
$j("#dialog_email").focus(function(){if($j("#email_ok").text()==""){$j("#email_ok").addClass("email_info_2line");
}JASK.showValidateMsg("help","#email_ok",BY);
});
$j("#dialog_password").focus(function(){JASK.showValidateMsg("help","#password_ok",AR);
});
$j("#dialog_username").focus(function(){JASK.showValidateMsg("help","#username_ok",Ai);
});
$j("#dialog_pusername").focus(function(){JASK.showValidateMsg("help","#pusername_ok",Ai);
});
$j("#recaptcha_response_field").focus(function(){JASK.showValidateMsg("help","#captcha_ok",Ah);
});
$j("#questionbox").live("focus",function(){$j(".charlimit").fadeIn();
});
$j("#questionbox").live("blur",function(){$j(".charlimit").fadeOut();
});
$j("#recaptchaCancelBtn").click(function(){$j("#recaptchaDialog").dialog("close");
return false;
});
$j("#questionbox").bind("change",Ba.validateQuestion);
$j("#detail").bind("change",Ba.validateDetail);
if(y){$j("#recaptchaDialog").dialog({autoOpen:false,height:360,width:594,modal:true,draggable:false,resizable:false,show:{effect:"fade",duration:400},hide:{effect:"fade",duration:400},close:function(){Recaptcha.destroy();
}});
$j("#answerRecaptcha .recaptcha").bind("focus",function(CP){var CO=$j("#answerRecaptcha .recaptcha");
CO.val("");
CO.toggleClass("prefocus",false);
CO.toggleClass("postfocus",true);
});
$j("#answerRecaptcha .recaptcha").keyup(function(CP){var CO=(CP.keyCode?CP.keyCode:CP.which);
if(CO==13){$j("#recaptchaBtn").trigger("click");
return false;
}});
}$j("#ask_question_dialog").dialog({beforeClose:function(){$j(".learn_more_video").html("");
return true;
}});
$j("#ask_question_dialog").dialog("open");
AZ();
AX=true;
Bn("#ask_question_panel");
$j("#inboundCategories").selectmenu({style:"dropdown"});
if(CN===true){Au(B);
$j("#ask_question_panel").keyup(function(CO){Ad(CO,"ask_question_panel");
});
$j("#signup_panel").keyup(function(CO){Ad(CO,"signup_panel");
});
D("AskQuestion");
}if(CM){$j("#questionbox").val(CM);
setTimeout(function(){Ba.askQuestion();
},500);
}$j("#detail").change();
$j("#questionbox").change();
if(z){$j("#detail").ja_spellcheck({events:{shouldSpellCheck:function(){JASK.ja.validateDetailTextArea();
return !(JASK.ja.hasDetailErrors);
}},url:L,renderError:function(CR,CQ,CV){var CP=$j("#det_sec");
var CT=$j("#detail");
var CS=CT.data("spellErrors");
var CO=$j(".askq_sc_wrp",CP);
if(CS>0&&!JASK.ja.hasQuestionErrors){CO.find(".q_error_title").html(CR);
CO.find(".q_modal_error").html(CQ);
if(!CV){CO.hide();
$j(".sc-ques-err",CP).slideDown();
}var CU=CS+" misspelling"+((CS>1)?"s":"")+" found";
CP.find(".sc-count").html(CU);
CO.find(".sc-desc").html(CQ);
}else{CO.css("display","none");
CP.find(".sc-ques-err").slideUp();
}}});
$j("#questionbox").ja_spellcheck({events:{shouldSpellCheck:function(){JASK.ja.validateQuestionTextArea();
return !(JASK.ja.hasQuestionErrors);
}},url:L,renderError:function(CR,CQ,CV){var CP=$j("#q_qsec");
var CT=$j("#questionbox");
var CS=CT.data("spellErrors");
var CO=$j(".askq_sc_wrp",CP);
if(CS>0&&!JASK.ja.hasQuestionErrors){CO.find(".q_error_title").html(CR);
CO.find(".q_modal_error").html(CQ);
if(!CV){CO.hide();
$j(".sc-ques-err",CP).slideDown();
}var CU=CS+" misspelling"+((CS>1)?"s":"")+" found";
CP.find(".sc-count").html(CU);
CO.find(".sc-desc").html(CQ);
}else{CT.focus();
CO.css("display","none");
CP.find(".sc-ques-err").slideUp();
}}});
}$j("#questionbox").focus();
};
Ba.initLearnMore=function g(CK,J){if(JASK.isEraserOn()){window.location.href="http://"+BT.resultsDomain+"/settings?redirect="+escape(window.location)+"#askeraser";
return ;
}if(w()){var CL=false;
Ba.initQuestion(CK,J,CL);
Bt=J||Bt;
Au(r);
$j("#learnmore_advance").click(function(){$j(".learn_more_video").html("");
A0();
});
$j(".learn_more_close").click(function(){$j(".learn_more_video").html("");
Ba.cancel();
});
$j(".learn_more_video").css("display","none");
$j(".learn_more_cta").css("display","block");
$j(".learn_more_cta").click(function(){$j(".learn_more_video").css("display","block");
if(!$j("#learnMoreVideo").length){$j("<iframe id='learnMoreVideo' width='660' height='371' frameborder='0' src="+BT.learnMoreVideoURL+">").appendTo($j(".learn_more_video"));
}$j(this).css("display","none");
});
Bn("#learn_more_panel");
$j("#learn_more_panel").keyup(function(CM){Ad(CM,"learn_more_panel");
});
$j("#ask_question_panel").keyup(function(CM){Ad(CM,"ask_question_panel");
});
$j("#signup_panel").keyup(function(CM){Ad(CM,"signup_panel");
});
$j("#learn_more_panel").focus();
D("LearnMore");
}};
Ba.initSignup=function Ab(J,CK){if(JASK.isEraserOn()){window.location.href="http://"+BT.resultsDomain+"/settings?settingType=askeraser&redirect="+escape(window.location);
return ;
}if(!JASK.cfg.isSignUpEnabled){B7();
return ;
}if(w()){Bt=J||Bt;
Ay=CK||null;
if(JASK.ja.funnels&&JASK.ja.funnels.signup){Au(JASK.ja.funnels.signup);
}else{Au(Bw);
}D("SignUp");
Bl();
Bn("#signup_panel");
$j("#dialog_email").focus();
}};
Ba.initSignin=function AV(J,CK){if(JASK.isEraserOn()){window.location.href="http://"+BT.resultsDomain+"/settings?settingType=askeraser&redirect="+escape(window.location);
return ;
}if(w()){Bt=J||Bt;
Ay=CK||null;
Au(Bw);
D("SignIn");
Bl();
Bn("#signin_panel");
$j("#signin_email").focus();
}};
Ba.initSignInOrUp=function CC(J,CK){if(!JASK.isAuthenticated()){if($j.cookie("cu.wz")==2){Ba.initSignin(J,CK);
}else{Ba.initSignup(J,CK);
}}};
Ba.initForget=function BZ(J){if(JASK.isEraserOn()){window.location.href="http://"+BT.resultsDomain+"/settings?settingType=askeraser&redirect="+escape(window.location);
return ;
}if(w()){Bl();
Bt=J||Bt;
Bn("#forgot_panel");
$j("#emailAddressText").focus();
}};
function Bq(CM){var CL=CM.length;
if(CL>30){JASK.showValidateMsg("errTip","#q_modal_error",Aq);
JASK.showValidateMsg("tipTitle","#q_error_title","Whoops!");
return false;
}else{var J=CM;
pattern=new RegExp("(\\s|<|\\s)");
if(J.match(pattern)){var CK=J.replace(/</g,"&lt;");
J=CK;
}if(($j("#keywords_list").children(".keywords_list_topic").length)>5){JASK.showValidateMsg("errTip","#q_modal_error",e);
JASK.showValidateMsg("tipTitle","#q_error_title","That's good!");
return false;
}else{$j("#keywords_list").append($j('<div class="clearfix keywords_list_topic "><div class="tags-left">'+J+'</div><div style="float:left"><div class="tags-right" ><a  class="tags-close tags-topic-close" style="text-decoration:none;cursor:pointer;" href="#"> </a></div></div></div>'));
$j("#tagList").val("");
}}return true;
}Ba.doPickOnValidatedQuestion=function Af(J){if($j("#questionbox").val().match(/[a-z0-9]/)){if($j.trim($j("#questionbox").val()).split(" ").length>2){Ba.doPick(J);
}}};
var AH=0;
function B5(CL){var CK=(A3)?"/"+A3:"";
var J=(B3.getParams().iId.match(/\/link\//)&&(CL!="link"))?"/link":"";
return{"suffix":CK,"path":J};
}function As(CK){var J=function(){var CL={};
if($j("#tagList")&&$j("#origTagList")&&x()!=$j("#origTagList").val()){CL={"ex":"j_ot="+$j("#origTagList").val()+"&j_nt="+x()+"&j_qt="+$j("#questionbox").val()};
}$j.extend(CL,{"iId":B3.getParams().iId,"evId":$j(this).attr("data-activity"),"qsrc":B3.getParams().qsrc});
B3.activity(CL);
};
B3.bindActivity("*[data-impression="+CK+"]",J);
}function Bu(CK,J){clearTimeout(AH);
AH=setTimeout(function(){var CM=B5(CK);
var CL=J||{};
var CN={};
$j.extend(CN,{"iId":"/"+JASK.ja.fid+CM.path+"/"+CK+CM.suffix,"qsrc":Bt},CL);
B3.impression(CN);
B3.bindActivity("*[data-impression="+CK+"]");
if(CK=="question"){As(CK);
}},500);
}function Ap(CN,CM){var CK=B5(CN);
var J=CM||{};
var CL={};
$j.extend(CL,{"iId":"/l/"+JASK.ja.fid+CK.path+"/"+CN+CK.suffix,"qsrc":Bt},J);
B3.impression(CL);
}function Aa(CK){var J=B5(CK);
return"/l/"+JASK.ja.fid+J.path+"/"+CK+J.suffix;
}Ba.doPickOrdinal=function AS(CO,J){var CK="";
var CN=B4(CO,J);
var CM=encodeURI(_SP(CN));
CM=JASK.logging.setPickUrlLdId(CM);
if($j("#tagList")&&$j("#origTagList")&&x()!=$j("#origTagList").val()){CK=escape("j_ot="+$j("#origTagList").val()+"&j_nt="+x()+"&j_qt="+$j("#questionbox").val());
}CM=$j.param.querystring(CM,"c="+JASK.ja.fid);
CM=$j.param.querystring(CM,"qs="+Bt);
CM=$j.param.querystring(CM,"id="+O);
CM=decodeURI($j.param.querystring(CM,"p=1"));
CM+=("&ex="+CK);
var CL=new Image();
CL.src=CM;
};
Ba.doPick=function E(J){Ba.doPickOrdinal(J,"0");
};
function B4(CO,J){var CN={en:"",io:J,b:"",tp:"d",ec:"1",ex:""};
var CK=CO.split("-");
var CL=CK[0];
var CM=CK[1];
if(CM=="abandon"){CN.en=jaSharedAbandon;
}else{if(CM=="continue"){CN.en=jaSharedContinue;
}else{if(CM=="signin"){CN.en=jaSharedSignIn;
}else{if(CM=="skip"){CN.en=jagenSkip;
}else{if(CM=="save"){CN.en=jagenSaveInterest;
}else{if(CM=="ask"){CN.en=jaskerAskQuestion;
}else{if(CM=="cf_action"){CN.en=W;
}}}}}}}if(CL=="usersignin"){CN.b=sharedSignInDlgBlockID;
}else{if(JASK.ja.fid==r||JASK.ja.fid==B){if(CL=="learnmore"){CN.b=learnMoreDlgBlockID;
}else{if(CL=="askquestion"){CN.b=askQuestionDlgBlockID;
}else{if(CL=="usersignup"){CN.b=userSignUpDlgBlockID;
}}}}else{if(CL=="usersignup"){CN.b=genSignUpDlg1BlockID;
}else{if(CL=="addinterests"){CN.b=genSignUpDlg2BlockID;
}else{if(CL=="cfalert"){CN.b=k;
}}}}}return CN;
}function D(CK){var CL="";
if(CK=="LearnMore"){CL=Aj(A7);
}else{if(CK=="AskQuestion"){CL=Aj(G);
}else{if(CK=="SignUp"){CL=Aj(F);
}else{if(CK=="SignIn"){CL=Aj(A8);
}else{if(CK=="Confirm"){CL=Aj(BF);
}else{if(CK=="AddTopics"){CL=Aj(h);
}else{if(CK=="SocialLink"){CL=Aj(X);
}else{if(CK=="SocialImport"){CL=Aj(I);
}}}}}}}}var J=new Image();
J.height=1;
J.width=1;
J.id="SessionTracker";
J.src=CL;
}function BU(){$j.get("http://"+BT.resultsDomain+"/ja-local-zoom",null,function(CN){if(CN&&CN.locationList.length){var CM=CN.locationList[1].city;
var CK=CM+", "+CN.locationList[1].state;
var J=$j(".nearByCity").text();
$j(".nearByCity").text(CK);
var CL=new RegExp(J,"gi");
$j(".nearByCityLocal").each(function(){$j(this).text($j(this).text().replace(CL,CM));
});
}else{var CL=new RegExp($j(".nearByCity").text(),"gi");
$j(".nearByCityLocal").each(function(CO){if($j(this).text().match(CL)){$j(this).text(s[CO]);
}});
}},"json");
}function Bl(){BB();
BJ="signin";
BU();
$j(".askq_show").hide();
$j(".signin_show").show();
$j(".userinfo_submit").click(function(J){J.preventDefault();
A1();
});
$j("#topics_submit,#topics_submit_later").click(function(J){J.preventDefault();
sct(53313);
Be();
});
$j("#dialog_email").focus(function(){if($j("#email_ok").text()==""){$j("#email_ok").addClass("email_info_2line");
}JASK.showValidateMsg("help","#email_ok",BY);
});
$j("#dialog_password").focus(function(){JASK.showValidateMsg("help","#password_ok",AR);
});
$j("#dialog_username").focus(function(){JASK.showValidateMsg("help","#username_ok",Ai);
});
$j("#signupform #recaptcha_response_field").focus(function(){JASK.showValidateMsg("help","#captcha_ok",Ah);
});
B0();
$j(".signin_submit").click(function(J){J.preventDefault();
Ba.signIn($j("#signin_email").val(),$j("#signin_password").val());
});
$j("#signin_email,#signin_password,.signin_submit").keyup(function(CK){var J=(CK.keyCode?CK.keyCode:CK.which);
if(J==13){Ba.signIn($j("#signin_email").val(),$j("#signin_password").val());
}});
$j("#signup_panel").keyup(function(J){Ad(J,"signup_panel");
});
$j("#ask_question_panel").keyup(function(J){Ad(J,"ask_question_panel");
});
$j("#dialog_email,#dialog_password,#dialog_username,#signupform #recaptcha_response_field").keyup(function(CK){var J=(CK.keyCode?CK.keyCode:CK.which);
if(J==13){sct(53311);
A1();
}});
$j("#dialog_interest_btn").click(function(J){J.preventDefault();
p($j("#dialog_interest").val(),"interest");
$j("#dialog_interest").val("");
});
$j("#dialog_place_btn").click(function(J){J.preventDefault();
p($j("#dialog_place").val(),"place");
$j("#dialog_place").val("");
});
$j(".add_topic_lnk").click(function(CK){CK.preventDefault();
var J=($j(this).hasClass("topic_interest"))?"interest":"place";
p($j(this).text(),J);
});
$j("#dialog_interest,#dialog_place").keyup(function(CL){var CK=(CL.keyCode?CL.keyCode:CL.which);
if(CK==13){CL.preventDefault();
var J=($j(this).attr("id")==="dialog_interest")?"interest":"place";
p($j(this).val(),J);
$j(this).val("");
$j(".ac_results_profile").css("display","none");
}});
$j("#ask_question_dialog").dialog("open");
AZ();
AX=true;
}function Ad(CK,CM){var J=(CK.keyCode?CK.keyCode:CK.which);
if(J==27){CK.stopImmediatePropagation();
CK.preventDefault();
var CL={"iId":B3.getParams().iId,"evId":"cancel","qsrc":B3.getParams().qsrc};
B3.activity(CL);
Ba.cancel();
}}function AZ(){$j("#ask_question_dialog").append($j("#ask_question_dialog_container").children());
$j("#ask_question_dialog_container").empty();
}function B0(){if(y){Recaptcha.create("6LeUnAIAAAAAAFK4AJHqebEoW5xCHMe5MmwvQHJL","recaptcha_image",{theme:"custom"});
}}function w(){return(typeof $j("#ask_question_dialog").dialog=="function");
}function AC(CN,CL,CK){var CQ=CL||0;
var J=[];
if(CN&&CN.tagList){if(typeof CN.tagList.sort=="function"){J=CN.tagList;
}else{J[0]=CN.tagList;
}}J=J.sort(function(CS,CR){return CR.relevance-CS.relevance;
});
var CP=[];
var CM=0;
for(var CO=0;
CO<J.length;
CO++){if(J[CO].type==CQ){if(CK&&J[CO].relevance&&typeof CK[CM]!="undefined"){if(J[CO].relevance>CK[CM]){CP.push(J[CO].tag);
}CM++;
}else{CP.push(J[CO].tag);
}}}return CP.join(", ");
}function p(J,CL,CN){if(!$j.trim(J).length||J==Bc||J==Bi){return ;
}else{if($j.hasHTML(J)){JASK.showValidateMsg("error","#topics_ok",d);
return ;
}else{if($j("#topics_ok").text()==d){JASK.showValidateMsg("clear","#topics_ok");
}else{if($j.trim(J).length>JASK.ja.maxTopicLength){JASK.showValidateMsg("error","#topics_ok",JASK.ja.topicLengthErrMsg);
return ;
}else{if($j("#topics_ok").text()==JASK.ja.topicLengthErrMsg){JASK.showValidateMsg("clear","#topics_ok");
}}}}}$j(".add_topic_lnk:contains("+J+")").hide();
var CK=(CL=="interest")?"#interests_list":"#places_list";
$j(CK).find(".promo_content").remove();
$j(CK).mouseleave(function(){$j(".d_interest").css("border","1px solid #f7f7f7").find(".delete_icon").hide();
});
if(!CN){B9(J,CL);
}if($j(CK).find(".d_interest").length<JASK.ja.maxTopicLength){J=J.replace(/\,/," ").replace(/\>/,"&gt;").replace(/\</,"&lt;");
var CM=(J.length>30)?(J.substring(0,30)+"..."):J;
$j('<div rel="'+J+'" class="d_interest txt2 abstract"><div style="float:left">'+CM+'</div><div style="display:none;float:right;" class="delete_icon"></div></div>').hover(function(){$j(this).css("border","1px solid #CCCCCC").find(".delete_icon").show();
},function(){$j(this).css("border","1px solid #f7f7f7").find(".delete_icon").hide();
}).appendTo(CK).find(".delete_icon").hover(function(){$j(this).parent().css("border","1px solid #B10000");
$j(this).css("background-position","-9px -1396px");
},function(){$j(this).parent().css("border","1px solid #CCCCCC");
$j(this).css("background-position","-9px -1346px");
}).click(function(){u(this,CL);
});
}else{}}function u(CK,J){B9($j(CK).parent().attr("rel"),J,true);
$j(CK).parent().remove();
}function B9(CO,CQ,CS){var CL=JASK.cfg.ldomain+"/ja-profile-interests";
var CR=(CQ==="interest")?"intr":"place";
var CP=(CS)?"delintrs":"newintrs";
var CK=[],CN=$j("#interests_list").find(".d_interest").each(function(){CK.push($j(this).attr("rel"));
});
var J=[],CN=$j("#places_list").find(".d_interest").each(function(){J.push($j(this).attr("rel"));
});
var CM={"tfid":"JATopicsProfileForm","engine_id":"editprofile","interests":"["+CK.join(", ")+"]","places":"["+J.join(", ")+"]","engine":(CR+"change")};
CM[CP]=CO.replace(/,/," ");
$j.post(CL,CM,function(){});
}function q(J){var CK=$j(J);
if(CK.val()){CK.val($j.trim(CK.val()));
}}Ba.toggleForgotPanel=function A4(){Bn("#forgot_panel");
setTimeout(function(){$j("#emailAddressText").focus();
},10);
};
JASK.ja.displayToolTip=function f(CO,J,CL){$j(J).clone().attr("id",J+"_dup").css("display","block").appendTo("#askq_tt");
var CN=25;
var CM=25;
var CK=($j(CO).outerHeight()/2)+(CN*2);
if(CO=="#questionbox"){CK=CK+10;
}else{if(CO=="#tagList"){CK=CK-20;
CM=235;
}else{if(CO=="#detail"){CK=CK+52;
}}}if(CL=="lb"){$j(CO).ui_position({target:"#askq_tt_wrp",offset:[0,40],at:"bottom"});
$j(CO).data("ttPos",CL);
}$j(CO).tooltip({events:{input:"focus, dummyevent",def:"focus, dummyevent",tooltip:""},tip:"#askq_tt_wrp",relative:true,position:"bottom right",offset:[-CK,CM],onShow:function(){$j("#askq_tt_wrp .tt-beak").addClass("hide");
if(CL){$j("#askq_tt_wrp .jtt-"+CL).removeClass("hide");
}else{$j("#askq_tt_wrp .jtt-lt").removeClass("hide");
}}});
};
function Ax(){if(($j("#emailAddressText").data("email")==$j("#emailAddressText").val())){Bn("#notificationPanel");
$j("#email_ID").html($j("#emailAddressText").data("email"));
$j("#emailAddressText").removeData("email");
}}function H(){q("#emailAddressText");
if(AM($j("#emailAddressText").val())){$j("#emailAddressText").data("isPending",1);
$j.post($j("#forgotpasswordform").attr("action"),{"email":$j("#emailAddressText").val(),"engine_id":"reset"},function(J){$j("#emailAddressText").removeData("isPending");
if(J&&J.status["@code"]==100){$j("#emailAddressText").data("email",$j("#emailAddressText").val());
$j("#oopsCheck").css("display","none");
$j("#forgot_text").html("Forgot your password?").removeClass("validate_error");
Ax();
}else{$j("#oopsCheck").css("display","block");
JASK.showValidateMsg("error","#forgot_text","Oops. We couldn't find that email address. Please try again.");
$j("#emailAddressText").removeData("email");
}},"json");
return true;
}else{JASK.showValidateMsg("error","#forgot_text",A5);
return false;
}}Ba.initPrivacyPolicy=function BQ(J){$j("#privacyPolicyDialog").dialog({autoOpen:false,height:400,width:700,modal:true,draggable:false,resizable:false,show:{effect:"fade",duration:400},hide:{effect:"fade",duration:400}});
CD();
$j("#ppv_update_save").unbind("click");
$j("#ppv_update_cancel").unbind("click");
$j(document).unbind("keyup",Z);
var CK=typeof J==="function"?J:function(){};
$j("#ppv_update_save").bind("click",{cb:CK},BS);
$j("#ppv_update_cancel").bind("click",{cb:CK},AJ);
$j(document).bind("keyup",{cb:CK},Z);
B3.impression({"iId":"/"+JASK.ja.fid+"/tos"});
B3.bindActivity("#privacy_policy_panel");
$j("#privacyPolicyDialog").dialog("open");
};
function Z(CK){var J=(CK.keyCode?CK.keyCode:CK.which);
if(J==27){CK.stopImmediatePropagation();
CK.preventDefault();
AJ(CK);
}}Ba.closePrivacyPolicy=function Bf(){$j("#privacyPolicyDialog").dialog("close");
if(JASK.serp&&CF){$j("#privacyPolicyDialog").remove();
}};
function BS(CK){CK.preventDefault();
var J=JASK.cfg.ldomain+"/ja-update-user-tos";
$j.post(J,function(CL){if(CL){Ba.closePrivacyPolicy();
CK.data.cb.call(window);
}else{Ba.closePrivacyPolicy();
CK.data.cb.call(window);
}},"json");
}function AJ(J){J.preventDefault();
Ba.closePrivacyPolicy();
J.data.cb.call(window);
}$j("#forgotpasswordform").keyup(function(CK){var J=(CK.keyCode?CK.keyCode:CK.which);
if(J==13){CK.preventDefault();
H();
}});
$j(".resetPwdBtn").click(function(J){J.preventDefault();
H();
});
$j("#signup_panel,#ask_question_panel,#signin_panel,#topics_panel,#qc_panel").bgiframe();
Ba.addInterestsSetup=function CH(){if(!$j("#dialog_interest").data("edited")){$j("#dialog_interest").val("");
}$j("#dialog_interest").css("color","#333");
$j("#dialog_interest").profileSuggestion("http://"+JASK.ssCfg.server+"/query?sstype=soft&fn=topicsSuggestion&pn=ctopic","dialog_interest");
$j("#dialog_interest").data("edited","true");
};
Ba.addPlaceSetup=function BD(){if(!$j("#dialog_place").data("edited")){$j("#dialog_place").val("");
}$j("#dialog_place").css("color","#333");
$j("#dialog_place").profileSuggestion("http://"+JASK.ssCfg.server+"/query?sstype=prefix&fn=topicsSuggestion&pn=location","dialog_place");
$j("#dialog_place").data("edited","true");
};
function AM(J){return J.match(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/);
}Ba.setGigyaLoaded=function(J){Bo=J;
};
Ba.isGigyaLoaded=function(){return Bo;
};
return Ba;
});
$j.fn.ui_position=function(B){var E=$j(this);
var D=$j(B["target"]);
var F=B["offset"];
var A=B["at"];
if(!D){return false;
}var C=0;
if(A=="bottom"){C=(E.position()["top"]+E.height())-(D.height());
}else{C=E.position()["top"];
}D.css("top",C+F[1]+"px");
};
(function(A){A.fn.ja_expandquestionbox=function(){function B(E){var C=E.val().length;
var D=Math.ceil(C/50);
if(D>0&&parseInt(E.attr("rows"))<=D){D=(D>2)?2:D;
E.attr("rows",D);
E.removeClass("qinputheight");
}}return this.each(function(){A(this).keypress(function(C){B($j(C.target));
});
A(this).bind("paste",function(C){setTimeout(function(){B($j(C.target));
},0);
});
B($j(this));
});
};
})(jQuery);
JASK.ask_dialog.loadAskDialog=function loadAskDialog(){var A=JASK.cfg.ldomain+"/ja-ask-dialog?thinHeader="+JASK.cfg.thinHeader+"&fullFlex="+JASK.cfg.fullFlex;
if(window.location.href.indexOf("paid=true")!=-1){A+="&paid=true";
}$j("#ask_question_dialog_container").load(A,null,function(){$j("#ask_question_dialog").dialog({autoOpen:false,height:650,width:768,modal:true,draggable:false,resizable:false,show:{effect:"fade",mode:"show",speed:300},hide:{effect:"fade",mode:"hide",speed:300}});
$j("#recaptchaDialog").dialog({autoOpen:false,height:360,width:594,modal:true,draggable:false,resizable:false,show:{effect:"fade",duration:400},hide:{effect:"fade",duration:400},close:function(){Recaptcha.destroy();
}});
$j("#recaptchaCancelBtn").click(function(){$j("#recaptchaDialog").dialog("close");
return false;
});
$j("#answerRecaptcha .recaptcha").bind("focus",function(C){var B=$j("#answerRecaptcha .recaptcha");
B.val("");
B.toggleClass("prefocus",false);
B.toggleClass("postfocus",true);
});
$j("#answerRecaptcha .recaptcha").keyup(function(C){var B=(C.keyCode?C.keyCode:C.which);
if(B==13){$j("#recaptchaBtn").trigger("click");
return false;
}});
$j(document).trigger("askDialogLoaded");
});
};
$j(document).ready(function(){if(window["gigya"]){$j(document).bind("logout",function(){gigya.services.socialize.logout(JASK.social.conf);
});
}});

JASK.isAuthenticated=function isAuthenticated(){return !!($j.cookie(JASK.cookieName));
};
JASK.doLogOut=function doLogOut(){JASK.doLogOutCookieLogic();
$j("a#signInUserLink").text("Sign In");
JASK.doLogOutTasks();
};
JASK.doLogOutTasks=function doLogOutTasks(){var A=function(){$j(document).trigger("logout");
};
if(window["gigya"]&&JASK.social){gigya.services.socialize.logout(JASK.social.conf,{callback:A});
}else{A();
}};
(function(A){A.fn.switchAuthentication=function(){return this.each(function(){A(this).click(function(B){if(!JASK.isAuthenticated()){sct(51143);
JASK.ask_dialog.initSignin(3123);
return false;
}else{sct(53316);
JASK.doLogOut();
}return false;
});
});
};
})(jQuery);

JASK.showValidateMsg=function showValidateMsg(C,B,E,D){var A=D?D:300;
if(C=="errTip"){$j(B).html("<span class='error tip_msg'>"+E+"</span>");
}else{if(C=="clearTip"){$j(B).text("");
}else{if(C=="error"){$j(B).fadeOut(A,function(){$j(this).html("<span class='validate_error b txt3'>"+E+"</span>").fadeIn(A);
});
}else{if(C=="success"){$j(B).html("<div class='green_check'></div>");
}else{if(C=="help"&&$j(B).text()==""){$j(B).fadeOut(A,function(){$j(this).html("<span class='txt2 info'>"+E+"</span>").fadeIn(A);
});
}else{if(C=="clear"){$j(B).fadeOut(A,function(){$j(this).text("").fadeIn(A);
});
}else{if(C=="success_message"){$j(B).html("<div class='green_check'></div><div class='validate_successmsg b txt3'>"+E+"</div>");
}else{if(C=="error_message"){$j(B).html("<div class='erroricon' style='float:left;margin-left:0;'></div><div class='validate_errormsg b txt3'>"+E+"</div>");
}else{if(C=="success_clear"){$j(B).html("<div class='green_check'></div><div class='validate_successmsg b txt3'>"+E+"</div>").fadeTo(D,1).fadeOut(800);
}else{if(C=="clear_html"){$j(B).fadeOut(A);
}else{if(C=="tipTitle"){$j(B).html(E);
}}}}}}}}}}}};
JASK.getDialogOffset=function(B,A){var C=[($j(window).width()-B)/2,100];
if(A<$j(window).height()){C[1]=($j(window).height()-A)*0.3;
}return C;
};
$j(document).ready(function(){$j.ui.dialog.prototype.options.autoReposition=($j.browser.msie&&(parseInt($j.browser.version)<8))?false:true;
$j(window).resize(function(){$j(".ui-dialog-content:visible").each(function(){var A=$j(this).data("dialog");
if(A.options.autoReposition){A.option("position",A.options.position);
}});
});
});
(function(A){A.fn.showBusy=function(B){return this.each(function(){if(($j(this).css("display")!="none")&&(!A.browser.msie||$j.browser.msie&&(parseInt($j.browser.version)>7))){$j(this).data("isBusy",true);
var C=($j(this).hasClass("JAButton"))?$j(this):$j(this).find(".JAButton");
if(C.length){var L=(A.browser.msie)?0:400;
var J=C.innerWidth();
var K=C.position(),I=C.innerHeight();
var H=(C.hasClass("cssButtonSecondary"))?"cssButtonSecondary":"cssButtonInactive";
var E=!B?"<img align='top' class='JASpinner' height='"+parseInt(I/2)+"' style='position:absolute;left:0px;top:0px;margin-left:42%;margin-top:"+parseInt(I/4)+"px;' src='http://"+JASK.cfg.staticDomain+"/sh/i/a14/ajax-loader-1.gif'>":"";
var F=C.text();
C.html("<div class='"+H+"' style='white-space:nowrap;float:left;text-align:center;color: #b2b2b2 ! important;width:"+(J-30)+"'>"+F+" "+E+"</div>");
var G=C.html();
C.html(F);
var D=A("<div class='overlay_button' style='display:none;position:absolute;top:"+K.top+";pxleft:"+K.left+";px'>"+G+"</div>").insertBefore(C);
D.fadeIn(L);
D.click(function(M){M.preventDefault();
M.stopPropagation();
});
}}});
};
})(jQuery);
(function(A){A.fn.showDone=function(B){return this.each(function(){if(($j(this).css("display")!="none")&&(!A.browser.msie||$j.browser.msie&&(parseInt($j.browser.version)>7))){$j(this).removeData("isBusy");
var E=($j(this).hasClass("JAButton"))?$j(this):$j(this).find(".JAButton");
if(E.length){var C=(A.browser.msie)?0:400;
var D=E.siblings(".overlay_button");
D.find(".JASpinner").hide();
if(B){D.remove();
}else{D.fadeOut(C,function(){$j(this).remove();
});
}}}});
};
})(jQuery);
(function(A){A.fn.ja_collapsibleMenu=function(){function B(E){A(document).one("mouseup",E,C);
}function D(E){E.toggle();
E.parent().css("zIndex",0);
E.parent().parent().css("zIndex",0);
}function C(I){var G=I.data,H=I.target,J=G.menu,K=G.menuId,F=A(H).parents("a"),E=A(H).parents(K).length===1;
E=!E?H.id===J[0].id:E;
if(E){if((H.tagName==="A"||H.tagName==="a"||F.length==1)&&I.button!==2){D(J);
}else{B(G);
}}else{if((H.tagName.toLowerCase()==="a"&&H.id==G.linkEl.id)||(F.length==1&&F.attr("id")==G.linkEl.id)){}else{D(J);
}}}return this.each(function(){var E=A(this);
if(!E.data("ja_collapsibleMenu")){E.data("ja_collapsibleMenu",1);
E.click(function(H){var G=this,F=G.id.split("-"),K=F[1],J="#collapsibleLinkmenu-"+K,I=A("#collapsibleLinkmenu-"+K);
if(I.is(":visible")){D(I);
return false;
}I.show();
if(I.is(":visible")){I.parent().css("zIndex",1002);
I.parent().parent().css("zIndex",1003);
}else{I.parent().css("zIndex",0);
I.parent().parent().css("zIndex",0);
}if(I.is(":visible")){B({menu:I,menuId:J,linkEl:G});
}return false;
});
}});
};
})(jQuery);
$j(document).ready(function(){$j("a.collapsibleLink").ja_collapsibleMenu();
});
(function(A){A.fn.ja_textarealimit=function(B){return this.each(function(){A(this).blur(function(E){var F=E.target;
B=B||{};
var D=(B.speed)?B.limit:2048;
var C=D-F.value.length;
if(C<=0){A(F).val(A(F).val().substring(0,D));
}});
A(this).keypress(function(F){var G=F.target;
B=B||{};
var E=(B.speed)?B.limit:2048;
var C=E-G.value.length;
var D=F.charCode?F.charCode:F.keyCode?F.keyCode:0;
if(C<=0){if((F.ctrlKey&&D==97)||(F.ctrlKey&&D==65)){return true;
}if((F.ctrlKey&&D==120)||(F.ctrlKey&&D==88)){return true;
}if((F.ctrlKey&&D==99)||(F.ctrlKey&&D==67)){return true;
}if((F.ctrlKey&&D==122)||(F.ctrlKey&&D==90)){return true;
}if((F.ctrlKey&&D==118)||(F.ctrlKey&&D==86)||(F.shiftKey&&D==45)){return true;
}if(D>32&&D<40){return true;
}return D==46||D==8||D==9;
}});
});
};
})(jQuery);
(function(A){A.fn.ja_slidablePost=function(C,B){A(this).click(function(){var E=this.id.split("-");
var H=E[0];
var G="#"+H+"-content";
B=B||{};
var F=A(G).is(":hidden");
if(!F){A("#"+H+"-link").text("Show "+C);
}else{A("#"+H+"-link").text("Hide "+C);
}A("#"+H+"-arrow").toggleClass("rightlinkimg",!F);
A("#"+H+"-arrow").toggleClass("droplinkimgmoderationmessage",F);
var D=(B.speed)?B.speed:200;
A(G).slideToggle(D);
return false;
});
};
})(jQuery);
(function(A){A.fn.ja_slidableLink=function(B){return this.each(function(){A(this).click(function(){var E=this.id.split("-");
var G=E[0];
var F="#"+G+"-content";
var D="#"+G+"-toggleStatus";
B=B||{};
var C=(B.speed)?B.speed:400;
A(F).slideToggle(C,function(){var H=A(F).is(":hidden");
A(D).toggleClass("tglplus",H);
A(D).toggleClass("tglminus",!H);
});
return false;
});
});
};
})(jQuery);
(function(A){A.fn.ja_defaultText=function(){return this.each(function(){if(this.type!="text"&&this.type!="password"&&this.type!="textarea"){return ;
}var B=$j(this).data("default-text");
if(this.value==""){this.value=B;
$j(this).addClass("info");
}else{return ;
}A(this).focus(function(){if(this.value==B){this.value="";
$j(this).removeClass("info");
}});
A(this).blur(function(){if(this.value==""){this.value=B;
$j(this).addClass("info");
}});
});
};
})(jQuery);

JASK.cookieName="cs";
JASK.deleteUserCookies=function deleteUserCookies(){if($j.cookie(JASK.cookieName)){$j.cookie("cu.wz","2",{path:"/",domain:"."+location.hostname.match(/\w+\.[^\.]+$/g)[0].replace(/\:\d+/,""),expires:63072000});
}$j.cookie(JASK.cookieName,null,{path:"/",domain:"."+location.hostname.match(/\w+\.[^\.]+$/g)[0].replace(/\:\d+/,""),expires:-1});
$j.cookie("cp",null,{path:"/",domain:"."+location.hostname.match(/\w+\.[^\.]+$/g)[0].replace(/\:\d+/,""),expires:-1});
$j.cookie("lcv",null,{path:"/",domain:"."+location.hostname.match(/\w+\.[^\.]+$/g)[0].replace(/\:\d+/,""),expires:-1});
};
JASK.doLogOutCookieLogic=function(){JASK.deleteUserCookies();
};
JASK.isEraserOn=function isEraserOn(){return !!($j.cookie("askeraser"));
};
JASK.CPCookie={getParsedValues:function(){var B=$j.cookie("cp"),A=[];
if(B){A=B.split("|");
}return A;
},getAvatarURL:function(){var A=this.getParsedValues();
return A[3]?A[3]:"http://"+JASK.cfg.staticDomain+"/sh/i/a14/c/generic.png";
},getUserName:function(){var A=this.getParsedValues();
return A[8]?A[8]:"";
},getBVPlayerId:function(){var A=this.getParsedValues();
return A[9]?A[9]:"";
}};

JASK.namespace("signin");
JASK.signin.showDialog=function showDialog(A){var B=$j(A.target).offset();
$j("#signIn_signup_dialog").offset({left:B.left-200,top:B.top+30}).fadeIn();
};
JASK.signin.toggleDialog=function toggleDialog(A){$j(A.target).parents(".signIn_signup_dialog").find(".signin_panel,.signup_panel").toggle();
};
JASK.signin.authenticate=function authenticate(B,D,E){if(B&&D){var C=typeof E==="function"?E:function(){};
var A=$j.getJSON($j("#signinform").attr("action")+"?callback=?",{"engine_id":"sign_in","login":"true","username":B,"password":encodeURIComponent(D),"tfid":"JALoginForm","iId":0,"qsrc":0},function(F){C($j.extend({success:true},F));
});
A.error(function(){C({success:false,error:"ajax",status:{"@code":"1001"}});
});
}else{C({success:false,error:"validation failed",status:{"@code":"1002"}});
}};
(function(A){A.fn.signIn=function(){return this.each(function(){var B=(this.tagName&&this.tagName.toLowerCase()==="form")?A(this):A(this).find(".si_form");
var C=A(this).find(".si_error");
var E=B.find(".si_button");
function D(G){var F=JASK.communityCfg;
switch(G.status["@code"]){case"0":JASK.showValidateMsg("error",C,F.SIGNIN_FAIL);
break;
case"100":A(document).trigger("login");
break;
case"99":JASK.showValidateMsg("success_message",C,"privacy policy needs to be updated");
break;
case"1001":JASK.showValidateMsg("error",C,F.AJAXERR);
break;
default:JASK.showValidateMsg("error",C,F.OOPS);
}E.showDone();
}E.click(function(){var F=A.serializeObject(B);
JASK.showValidateMsg("clear",C);
if(F.user&&F.pass){E.showBusy();
JASK.signin.authenticate(F.user,F.pass,D);
}else{JASK.showValidateMsg("error",C,JASK.communityCfg.SIGNIN_EMPTY);
}});
});
};
})(jQuery);

JASK.namespace("signup");
JASK.signup.createAccount=function createAccount(B,F,E){var G=$j.getUrlParam("id"),D;
var A=$j.getUrlParam("tokentype")||"";
if(G!=null){D=conf.protocol+"://"+conf.secureDomain+"/ja-new-user?token="+encodeURIComponent(G)+"&tokentype="+A+"&qsrc=";
}else{D=conf.protocol+"://"+conf.secureDomain+"/ja-new-user?qsrc=";
}var C=$j.serializeObject("signupform");
C["news_optin"]=$j("input[name=news_optin]:checked").val();
C["origin"]=0;
$j.getJSON(D+qsrcID+"&callback=?",C,function(H){if(H&&H.status["@code"]==100){}else{if(H){JASK.showValidateMsg("error","#signup_ok",OOPS);
}else{JASK.showValidateMsg("error",errEl,AJAXERR);
}}});
};
JASK.signup.validatePassword=function validatePassword(A){var B=$j.trim(A);
if(B.length<6){return false;
}else{if(B.match(/ /)){return false;
}else{return true;
}}};
JASK.signup.validateUserName=function(A){};

$j(document).ready(function(){$j("#emailAddressTextResend").focus();
$j(".resetPwdBtn").click(function(){var C=JASK.cfg.protocol+"://"+JASK.cfg.secureDomain+"/ja-change-password?callback=?";
var B=$j.serializeObject($j("#confirmPassword"));
B["engine_id"]="confirmPassword";
var D=B["newPwd"];
var A=B["confirmPwd"];
$j("#errorBlock").css("display","none");
if(($j.trim(D).length==0)||(D==null)||(D=="")||(A==null)||(A=="")||($j.trim(A).length==0)||($j.trim(A).length==0)){JASK.showValidateMsg("error","#errorBlock","Passwords cannot be null");
return false;
}if(D.match(/[ ]/)||D.match(/[ ]/)){JASK.showValidateMsg("error","#errorBlock","Passwords cannot have spaces");
return false;
}if(D!=A){JASK.showValidateMsg("error","#errorBlock","Passwords do not match");
return false;
}if(D.length<6){JASK.showValidateMsg("error","#errorBlock","Password should have a minimum of 6 characters");
return false;
}$j.getJSON(C,B,function(E){if(E&&E.status["@code"]==100){$j("#changePwdForm").hide();
$j("#resetConfirmationForm").show();
}else{JASK.showValidateMsg("error","#errorBlock","Password has not been reset");
return false;
}});
});
$j(".continueBtn").click(function(){var A="http://"+JASK.cfg._ldomain+"/answers";
window.location=A;
});
$j("#failureConfirmation").submit(function(A){A.preventDefault();
});
$j(".resendBtn").click(function(){if($j("#emailAddressTextResend").val().match(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/)){$j.post($j("#failureConfirmation").attr("action"),{"email":$j("#emailAddressTextResend").val(),"engine_id":"reset"},function(A){if(A&&A.status["@code"]==100){window.location="http://"+JASK.cfg._ldomain;
}},"json");
}else{JASK.showValidateMsg("error","#errorText","Invalid email format");
return false;
}return true;
});
$j("#failureConfirmation").keyup(function(B){var A=(B.keyCode?B.keyCode:B.which);
if(A==13){B.preventDefault();
$j(".resendBtn").click();
}});
});

(function(D,H,K,B){var I=H.location.hostname,E="http://"+I+"/register-poll-vote";
function F(){L();
}function L(){D("#pollroll .can-vote a, #pollroll .can-vote .optionImg").css("cursor","pointer");
D("#pollroll .voted a, #pollroll .voted .optionImg").css("cursor","default");
D("#pollroll .can-vote a, #pollroll .can-vote .optionImg").click(function(){var P=D(this),O=P.data("index"),U=D(this).closest(".option"),T=U.data("pollid"),R=U.data("pollstat").toString(),Q=U.data("size"),S=U.data("index");
A(T,O,Q,R,S);
D(this).closest(".option").removeClass("can-vote");
D(this).closest(".option").find("a, .optionImg").unbind("click").css("cursor","default");
});
if(D("#pollroll .voted").length>0){D("#pollroll .voted").each(function(){var R=D(this),P=R.data("pollstat").toString(),O=R.data("size"),Q=R.data("index");
G(-1,O,P,Q);
C();
});
}}function A(S,P,R,O,Q){D.post(E,{"pollId":S,"choiceIndex":P},function(T){G(P,R,O,Q);
J(S,P);
C();
},"json");
}function J(R,P){if(N()){return ;
}var O=D.cookie("pr_v"),Q="";
if(O!=null&&typeof O!="undefined"&&O.length>0){Q=O+"|"+R+":"+P;
D.cookie("pr_v",Q,{path:"/",domain:"ask.com",expires:365});
}else{Q=R+":"+P;
D.cookie("pr_v",Q,{path:"/",domain:"ask.com",expires:365});
}}function M(O,P,Q){var R=D(".choices"+Q);
R.find(".progress-"+P).css({width:"0%"}).animate({width:O},"slow");
}function G(V,U,Q,P){if(Q&&U){var S=Q.split(",").slice(0,U),R=0,W=0,T=D(".choices"+P);
S=D.map(S,function(Z,X){var Y=(X===V);
return(Y?(parseInt(Z)+1):Z);
});
D.each(S,function(){R+=parseInt(this);
});
T.data("pollstat",S);
for(var O=0;
O<U;
O++){if(R!==0){W=Math.round(parseInt((S[O]/R)*100));
}M(W+"%",O,P);
T.find(".progressPercent-"+O).text(W+"%");
T.find(".progress-"+O).css({"display":"block","float":"left","height":"22px"});
T.find(".progressPercent-"+O).css("display","block");
D(".ui-widget-header").css({"background":"none","backgroundColor":"orange"});
}}}function C(){D(".moreinfo").fadeTo("slow",1,null);
D(".moreinfo").click(function(){var O=D(".moreinfo").attr("href");
H.location=O;
});
}function N(){var O=D.cookie("askeraser");
return(O!=null&&O!="");
}D(K).ready(F);
}(jQuery,this,this.document));

(function(F,E,B){var D=E.location.hostname,A="http://"+D+"/register-qotd-vote";
function G(){F(".qotd .choice, .qotd .optionImg").click(function(){var H=F(this),I=H.data("index"),J=F(this).closest(".option").data("id");
C(J,I);
});
}function C(J,H){var I=F(".qotd a.choice").first().attr("href");
F.post(A,{"quizId":J,"choiceIndex":H},function(K){E.location=I;
},"json");
}$j(B).ready(G);
}(jQuery,this,this.document));

