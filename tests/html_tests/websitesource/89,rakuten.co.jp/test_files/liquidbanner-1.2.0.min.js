/*
 liquidbanner 1.2.0
 Copyright (c) 2013 Rakuten.Inc
 Date : 2013-03-21 10:19:04
*/
(function(h,i){if(h.jQuery!==i){jQuery.noConflict();var b=jQuery;b.RJS_Helpers&&b().RJS_Slideshow&&(new function(){var a=this;b.extend(a,{slideshow:null,settings:{autoslidetime:[7E3,"Range","0,9999"],autoslideflag:["next","Str","^(next|prev)$"],autoslide:[1,"Int","^[0-1]$"],maxitem:[2,"Int","^[1-9]$"],pagespeed:[50,"Range","0,9999"],opacityspeed:[200,"Range","0,9999"],verticalmode:[0,"Int","^[1]$"],autoresize:[1,"Int","^[0-1]$"],pagenumber:[0,"Int","^[0-1]$"],indicator:[1,"Int","^[0-1]$"],indicatoralign:[0,
"Int","^[0-1]$"],singlemode:[0,"Int","^[0-1]$"],defaultcontentid:["flashcontent","Str","^[a-zA-Z0-9_-]{3,32}$"]},eobj:{config:b("#liquidBanner-config"),frame:b("#liquidBanner-frame"),prototypeItem:b("#liquidBanner-item"),itemsDisplay:b("#liquidBanner-body"),prevButton:b("#liquidBanner-prev"),nextButton:b("#liquidBanner-next"),backButton:b("#liquidBanner-back"),nowPage:b("#liquidBanner-nowPage"),maxPage:b("#liquidBanner-maxPage"),indicatorDisplay:b("#liquidBanner-indicatorArea"),prototypeIndicator:b("#prototypeIndicator")},
status:{error:!1,isTimeout:!1},props:{items:[],itemPrototype:{html:"",height:0,width:0,identifiers:{banner1:["",/\#BANNER1\#/g,""],banner2:["",/\#BANNER2\#/g,""]}},indicatorPrototype:{html:"",width:0,height:0}},initialize:function(){a.loadSettings();a.begin()},loadSettings:function(){a.settings=b.RJS_Helpers.readAttr(a.eobj.config,a.settings);a.eobj.config.remove();return!0},begin:function(){a.status.error=!a.getPrototype();a.getData()},getData:function(){var c,e,d=b("li","#liquidBanner-list");c=
b("#liquidBanner-cBanner");if(1>d.length)return!1;if(1===a.settings.singlemode){var f=d.length;for(c=0;c<f;c++)a.props.items[c]=[],a.props.items[c].banner1=b(d[c]).html()}else{var f=Math.ceil(d.length/2),g=d[0]?b(d[0]).html():"";0<c.length&&1==d.length%2&&(g=c.html());for(c=0,e=0;c<f;c++)a.props.items[c]=[],a.props.items[c].banner1=d[e]?b(d[e++]).html():g,a.props.items[c].banner2=d[e]?b(d[e++]).html():g}a.startSlideshow();a.eobj.backButton.bind("click",function(c){c.preventDefault();a.slideshow.changePage(1);
return!1});return!0},getPrototype:function(){var c=a.eobj.prototypeItem,b=a.props.itemPrototype;if(0==c.length)return!1;b.width=c.outerWidth();b.height=c.outerHeight();b.html=c.html();if(""==b.html)return!1;c.remove();if(1==a.settings.indicator){c=a.eobj.prototypeIndicator;b=a.props.indicatorPrototype;if(0==c.length)return!1;b.width=c.outerWidth();b.height=c.outerHeight();b.html=c.html();if(""==b.html)return!1;c.remove()}return!0},startSlideshow:function(){b("#"+a.settings.defaultcontentid).hide();
a.eobj.frame.show();a.eobj.itemsDisplay.RJS_Slideshow(a,{settings:a.settings,itemPrototype:a.props.itemPrototype,indicatorPrototype:a.props.indicatorPrototype,eobj:a.eobj,items:a.props.items,events:{beforeFirstRender:a.beforeFirstRender,changePageNumber:1==a.settings.pagenumber?a.changePageNumber:!1}})},beforeFirstRender:function(a,e){e.eobj.itemsDisplay.show();var d=setInterval(function(){if(e.props.items[e.props.items.length-1].ele){for(var a in e.props.items)e.props.items[a].ele.find("li div").each(function(){b(this).hover(function(){b(this).css("top",
"-2px")},function(){b(this).css("top","0px")})});clearInterval(d)}},100)},changePageNumber:function(a,b,d){d.eobj.nowPage.text(a);d.eobj.maxPage.text(b);1==a?d.eobj.backButton.hide():d.eobj.backButton.show()}})}).initialize()}})(this);
