(function(){function m(a,b){var c=this;c.host=a,l.call(c,b),this.items=h(a,this.tabSelector)||[],this.views=this.views||this.viewSelector&&h(a,this.viewSelector)||[];var d=-1,i=this.items;for(var m=0;m<i.length;m++)if(e(i[m],this.selectedClass)){d=m;break}d>-1&&this.switchTo(d);if(c.autoPlay){var n=0;function o(){clearInterval(n),n=setInterval(function(){a.offsetWidth&&!c.autoPlayPausing&&c.next()},c.autoPlayTime||3e3)}o(),k(a,"mouseenter",function(){clearInterval(n)}),k(a,"mouseleave",o)}this.pageUpSelector&&j(a,this.pageUpSelector,"click",function(a){c.previous(),a.preventDefault()}),this.pageDownSelector&&j(a,this.pageDownSelector,"click",function(a){c.next(),a.preventDefault()});if(this.tabSelector){if(c.supportMouseenter){var p=0;j(a,c.tabSelector,"mouseenter",function(a){var b=this;f(b,c.preselectedClass),c.mouseenterSwitchTime!=null&&(clearTimeout(p),p=setTimeout(function(){c.switchToItem(b)},c.mouseenterSwitchTime|0)),a.preventDefault()}),j(a,c.tabSelector,"mouseleave",function(a){g(this,c.preselectedClass),clearTimeout(p),a.preventDefault()})}var q=this.switchEvents||this.defaultSwitchEvents;j(a,c.tabSelector,String(q),function(a){c.switchToItem(this),a.preventDefault()})}}var a=QW.ArrayH.indexOf,b=QW.ObjectH.mix,c=QW.CustEvent,d=QW.NodeH,e=d.hasClass,f=d.addClass,g=d.removeClass,h=d.query,i=QW.EventTargetH,j=i.delegate,k=i.on,l=function(a){b(this,a||{},!0),this.items=this.items||[],c.createEvents(this,l.EVENTS)};l.EVENTS=["beforeswitch","afterswitch"],b(l.prototype,{selectedIndex:-1,isSwitching:!1,switchTo:function(a){alert("Switch to: "+a)},switchToItem:function(b){var c=a(this.items,b);return this.switchTo(c)},next:function(){var a=(this.selectedIndex+1)%this.items.length;this.switchTo(a)},previous:function(){var a=this.selectedIndex-1;a<0&&(a=this.items.length-1),this.switchTo(a)}}),b(m.prototype,[{tabSelector:".slide-nav li",viewSelector:".slide-content li",pageDownSelector:".slide-pagedown",pageUpSelector:".slide-pageup",selectedClass:"selected",preselectedClass:"preselected",selectedViewClass:"selected",defaultSwitchEvents:["click"],switchTo:function(a){var b=this.selectedIndex,c={fromIndex:b,toIndex:a,fromItem:this.items[b],toItem:this.items[a],fromView:this.views[b],toView:this.views[a]};if(a==b)return;if(!this.fire("beforeswitch",c))return;this.isSwitching=!0,this.selectedIndex=a,this.switchAnim(c)},switchAnim:function(a){function c(){b.isSwitching=!1,b.fire("afterswitch",a)}var b=this;a.fromItem&&g(a.fromItem,this.selectedClass),a.toItem&&f(a.toItem,this.selectedClass);switch(this.animType){case"fade":return a.fromView&&QW.NodeW(a.fromView).animate({opacity:{from:1,to:0}},this.animDur||500,function(){QW.NodeW(a.fromView).removeClass(b.selectedViewClass)},this.animEasing),QW.NodeW(a.toView).addClass(b.selectedViewClass).animate({opacity:{from:0,to:1}},this.animDur||500,c,this.animEasing);case"scroll":var d=a.toView.parentNode,e=4;while(e--){if(d.scrollWidth>1.5*d.offsetWidth)return QW.NodeW(d).animate({scrollLeft:{to:a.toView.offsetLeft}},this.animDur||500,c,this.animEasing);if(d.scrollHeight>1.5*d.offsetHeight)return QW.NodeW(d).animate({scrollTop:{to:a.toView.offsetTop}},this.animDur||500,c,this.animEasing);d=d.parentNode};default:a.fromView&&g(a.fromView,this.selectedViewClass),a.toView&&f(a.toView,this.selectedViewClass),c()}},switchDone:function(a){this.isSwitching=!1,this.selectedIndex=a.toIndex,this.fire("afterswitch",a)}},l.prototype]),QW.provide({TabView:m,Slide:m})})(),function(){var a=QW.ObjectH.mix,b=QW.NodeH,c=b.g,d=QW.Jss,e=QW.JssTargetH,f=e.getJss;d.addRules({".widget-slide":{tabSelector:".slide-nav li",viewSelector:".slide-content li",pageUpSelector:".slide-pageup",pageDownSelector:".slide-pagedown",autoPlay:!0,supportMouseenter:!0,mouseenterSwitchTime:300}});var g={switchable:function(b,d){b=c(b);var e={},g="tabSelector viewSelector pageUpSelector pageDownSelector autoPlay autoPlayPausing autoPlayTime supportMouseenter mouseenterSwitchTime switchEvents animType animDur switchEvents onbeforeswitch onafterswitch".split(" ");for(var h=0;h<g.length;h++){var i=f(b,g[h]);i!=null&&(e[g[h]]=i)}a(e,d),b.__slide=new QW.Slide(b,e)}};QW.NodeW.pluginHelper(g,"operator"),QW.Dom&&QW.ObjectH.mix(QW.Dom,g),QW.DomU.ready(function(){QW.NodeW("div.widget-slide").switchable()})}();